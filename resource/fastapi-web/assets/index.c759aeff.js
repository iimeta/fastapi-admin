import{u as pe,G as Ke,p as We,y as Qe,i as Xe,z as Ye,_ as Ze}from"./index.9946dc44.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as _e,e as w,B as s,C as p,aH as e,aG as a,u as l,aD as f,aM as u,aL as v,bA as ea,bB as aa,bC as ta,bD as la,bE as oa,r as ce,c as ae,w as sa,aJ as j,aI as T,F as E,D as na,bT as q,n as ua,aK as ia,aF as da,b1 as ra,b2 as ca,bH as pa,bF as _a,bG as ma,bU as fa,bI as ga,b5 as ba,bJ as va,ab as ya,aU as ha,bi as ka,bj as wa,bl as $a,bm as Ca,b4 as xa,bK as Da,aT as Va,bW as Fa,bL as Ea,bM as Sa,aV as qa,a_ as Ba,bN as za,g as Ia,b9 as Aa,ba as Ua}from"./arco.ba78a5b2.js";import{u as me}from"./loading.0618e973.js";import{q as O}from"./common.df364eef.js";import{a as Na,s as Ga,b as La,c as Ha,d as Ma,e as Pa,f as ja}from"./group.16fc24bd.js";import{c as te,S as Ta}from"./sortable.esm.efdc80f6.js";import{q as Oa}from"./model.4af4c9c6.js";import{f as Ra}from"./agent.a8d05c38.js";import{M as Ja}from"./models.6708fb01.js";/* empty css                *//* empty css                */import"./chart.df189e8a.js";import"./vue.2736b3ca.js";import"./corp.4083b879.js";const Ka={style:{margin:"10px 0 30px 10px"}},Wa={key:1},Qa={key:1},Xa={key:1},Ya={key:1},Za={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},et={key:1},at={key:1},tt={key:2},lt={key:1},ot={key:1},st={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},nt={key:1},ut={key:1},it={key:1},dt={key:1},rt={key:1},ct={key:1},pt={key:1},_t={key:1},mt={key:1},ft={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},gt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},bt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},vt={key:1},yt={key:1},ht={key:1},kt={key:1},wt={name:"GroupDetail"},$t=_e({...wt,props:{id:{type:String,default:""}},setup(A){const R=A,{t:i}=pe(),{loading:_,setLoading:G}=me(!0),c=w({});return(async(B={id:R.id})=>{G(!0);try{const{data:L}=await Na(B);c.value=L}catch{}finally{G(!1)}})(),(B,L)=>{const b=ea,g=aa,d=ta,k=la,y=oa;return s(),p("div",Ka,[e(y,{column:2,bordered:"","label-style":{padding:"5px 8px 5px 15px"},"value-style":{width:"350px",padding:"5px 8px 5px 15px"}},{default:a(()=>[e(d,{label:l(i)("group.detail.label.name")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",Wa,u(c.value.name),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.is_default")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",Qa,u(l(i)(`dict.${c.value.is_default||!1}`)),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.discount")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",Xa,u(Number((c.value.discount*100).toFixed(2)))+"% ",1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.used_quota")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",Ya,u(c.value.used_quota>0?`$${l(O)(c.value.used_quota)}`:"$0.00"),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.models"),span:2},{default:a(()=>{var r,m;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",Za,u(((m=(r=c.value)==null?void 0:r.model_names)==null?void 0:m.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("common.is_public")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",et,u(l(i)(`dict.public.${c.value.is_public||!1}`)),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.weight")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):c.value.is_default?(s(),p("span",at,"\u6700\u9AD8")):(s(),p("span",tt,u(c.value.weight||"-"),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.is_enable_model_agent")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",lt,u(l(i)(`dict.enable.${c.value.is_enable_model_agent||!1}`)),1))]),_:1},8,["label"]),e(d,{label:l(i)("model.detail.label.lb_strategy")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",ot,u(B.$t(`dict.lb_strategy.${c.value.lb_strategy||1}`)),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.model_agents")},{default:a(()=>{var r,m;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",st,u(((m=(r=c.value)==null?void 0:r.model_agent_names)==null?void 0:m.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.is_limit_quota")},{default:a(()=>{var r;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",nt,u(l(i)(`dict.${((r=c.value)==null?void 0:r.is_limit_quota)||!1}`)),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.quota")},{default:a(()=>{var r;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",ut,u((r=c.value)!=null&&r.is_limit_quota?c.value.quota>0?`$${l(O)(c.value.quota)}`:c.value.quota<0?`-$${l(O)(-c.value.quota)}`:"$0.00":"\u4E0D\u9650"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.is_enable_forward")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",it,u(l(i)(`dict.enable.${c.value.is_enable_forward||!1}`)),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.forward_rule")},{default:a(()=>{var r,m,$,C;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",dt,u((m=(r=c.value)==null?void 0:r.forward_config)!=null&&m.forward_rule?l(i)(`group.dict.forward_rule.${((C=($=c.value)==null?void 0:$.forward_config)==null?void 0:C.forward_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.content_length")},{default:a(()=>{var r,m;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",rt,u(((m=(r=c.value)==null?void 0:r.forward_config)==null?void 0:m.content_length)||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.used_quota")},{default:a(()=>{var r,m;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",ct,u(((m=(r=c.value)==null?void 0:r.forward_config)==null?void 0:m.used_quota)||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.target_model")},{default:a(()=>{var r,m;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",pt,u(((m=(r=c.value)==null?void 0:r.forward_config)==null?void 0:m.target_model_name)||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.match_rule")},{default:a(()=>{var r,m,$,C;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",_t,u((m=(r=c.value)==null?void 0:r.forward_config)!=null&&m.match_rule?l(i)(`group.dict.match_rule.${((C=($=c.value)==null?void 0:$.forward_config)==null?void 0:C.match_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.decision_model")},{default:a(()=>{var r,m;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",mt,u(((m=(r=c.value)==null?void 0:r.forward_config)==null?void 0:m.decision_model_name)||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.keywords")},{default:a(()=>{var r,m,$;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",ft,u((($=(m=(r=c.value)==null?void 0:r.forward_config)==null?void 0:m.keywords)==null?void 0:$.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.target_model")},{default:a(()=>{var r,m,$;return[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",gt,u((($=(m=(r=c.value)==null?void 0:r.forward_config)==null?void 0:m.target_model_names)==null?void 0:$.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.remark")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",bt,u(c.value.remark||"-"),1))]),_:1},8,["label"]),e(d,{label:l(i)("group.detail.label.expires_at"),span:2},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",vt,u(c.value.expires_at||"-"),1))]),_:1},8,["label"]),e(d,{label:l(i)("common.status")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",yt,[c.value.status===1?(s(),f(k,{key:0,color:"green"},{default:a(()=>[v(u(B.$t(`dict.status.${c.value.status}`)),1)]),_:1})):(s(),f(k,{key:1,color:"red"},{default:a(()=>[v(u(B.$t(`dict.status.${c.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(d,{label:l(i)("common.created_at")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",ht,u(c.value.created_at),1))]),_:1},8,["label"]),e(d,{label:l(i)("common.updated_at")},{default:a(()=>[l(_)?(s(),f(g,{key:0,animation:!0},{default:a(()=>[e(b,{rows:1})]),_:1})):(s(),p("span",kt,u(c.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),Ct=A=>(Aa("data-v-faca601b"),A=A(),Ua(),A),xt={class:"container"},Dt={class:"action-icon"},Vt={class:"action-icon"},Ft={id:"tableSetting"},Et={style:{"margin-right":"4px",cursor:"move"}},St={class:"title"},qt={key:0,title:"\u9ED8\u8BA4\u5206\u7EC4"},Bt={key:1},zt={key:0},It={key:1},At={key:0},Ut=Ct(()=>E("b",null,"\u6700\u9AD8",-1)),Nt=[Ut],Gt={key:1},Lt={name:"GroupList"},Ht=_e({...Lt,setup(A){const{loading:R,setLoading:i}=me(!0),{proxy:_}=Ia(),G=ce({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),c=w([]);(async()=>{try{const{data:o}=await Oa();c.value=o.items}catch{}})();const B=w([]);(async()=>{try{const{data:o}=await Ra();B.value=o.items}catch{}})();const b=async o=>{i(!0);try{await Ga(o),_.$message.success("\u5220\u9664\u6210\u529F"),z()}catch{}finally{i(!1)}},g=()=>({name:"",models:[],model_agents:[],status:w(),remark:"",expires_at:[]}),{t:d}=pe(),k=w([]),y=w(g()),r=w([]),m=w([]),$=w("medium"),C=w([]),I=w(!0),J=w(),U={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},H=ce({...U}),ge=ae(()=>[{name:d("size.mini"),value:"mini"},{name:d("size.small"),value:"small"},{name:d("size.medium"),value:"medium"},{name:d("size.large"),value:"large"}]),be=ae(()=>[{title:d("group.columns.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:d("group.columns.discount"),dataIndex:"discount",slotName:"discount",align:"center"},{title:d("group.columns.models"),dataIndex:"model_names",slotName:"model_names",align:"center",ellipsis:!0,tooltip:!0},{title:d("group.columns.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:d("group.columns.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:d("group.columns.weight"),dataIndex:"weight",slotName:"weight",align:"center"},{title:d("model.columns.lb_strategy"),dataIndex:"lb_strategy",slotName:"lb_strategy",align:"center"},{title:d("group.columns.is_public"),dataIndex:"is_public",slotName:"is_public",align:"center",width:65},{title:d("group.columns.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:d("group.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:d("group.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),ve=ae(()=>[{label:d("dict.status.1"),value:1},{label:d("dict.status.2"),value:2}]),M=async(o={...U})=>{i(!0);try{const{data:n}=await La(o);k.value=n.items,H.current=o.current,H.pageSize=o.pageSize,H.total=n.paging.total}catch{}finally{i(!1),J.value.selectAll(!1)}},z=()=>{M({...U,...y.value})},ye=o=>{M({...U,...y.value,current:o})},he=o=>{U.pageSize=o,M({...U,...y.value})};M();const ke=()=>{y.value=g(),z()},we=async o=>{i(!0);try{await Ha(o),_.$message.success("\u64CD\u4F5C\u6210\u529F"),z()}catch{}finally{i(!1)}},$e=async o=>{i(!0);try{await Ma(o),_.$message.success("\u64CD\u4F5C\u6210\u529F"),z()}catch{}finally{i(!1)}},Ce=async o=>{i(!0);try{await Pa(o),_.$message.success("\u64CD\u4F5C\u6210\u529F"),z()}catch{}finally{i(!1)}},xe=(o,n)=>{$.value=o},De=(o,n,D)=>{o?r.value.splice(D,0,n):r.value=m.value.filter(V=>V.dataIndex!==n.dataIndex)},le=(o,n,D,V=!1)=>{const S=V?te(o):o;return n>-1&&D>-1&&S.splice(n,1,S.splice(D,1,S[n]).pop()),S},Ve=o=>{o&&ua(()=>{const n=document.getElementById("tableSetting");new Ta(n,{onEnd(D){const{oldIndex:V,newIndex:S}=D;le(r.value,V,S),le(m.value,V,S)}})})};sa(()=>be.value,o=>{r.value=te(o),r.value.forEach((n,D)=>{n.checked=!0}),m.value=te(r.value)},{deep:!0,immediate:!0});const Fe=o=>{C.value=o,I.value=!o.length},K=o=>{if(C.value.length===0)_.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let n=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${C.value.length}\u6761\u6570\u636E?`;switch(o.action){case"status":o.value===1?n=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${C.value.length}\u6761\u6570\u636E?`:n=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${C.value.length}\u6761\u6570\u636E?`;break;case"delete":n=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${C.value.length}\u6761\u6570\u636E?`;break}_.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:n,hideCancel:!1,onOk:()=>{i(!0),o.ids=C.value,ja(o).then(D=>{i(!1),_.$message.success("\u64CD\u4F5C\u6210\u529F"),z(),J.value.selectAll(!1)})}})}},W=w(!1),P=w(),Ee=o=>{W.value=!0,P.value=o},Se=()=>{W.value=!1},Q=w(!1),oe=w(),qe=o=>{Q.value=!0,P.value=o,oe.value="group"};return(o,n)=>{const D=Ke,V=ia,S=da,se=ra,N=ca,F=pa,ne=_a,X=ma,Be=fa,Y=ga,ze=ba,ue=va,Ie=ya,x=ha,ie=We,de=ka,Z=wa,Ae=Qe,Ue=$a,Ne=Ca,Ge=Xe,Le=Ye,He=xa,Me=Da,re=Va,Pe=Fa,je=Ea,Te=Sa,Oe=qa,Re=Ba,Je=za;return s(),p("div",xt,[e(S,{class:"container-breadcrumb"},{default:a(()=>[e(V,null,{default:a(()=>[e(D)]),_:1}),e(V,null,{default:a(()=>[v(u(o.$t("menu.group")),1)]),_:1}),e(V,null,{default:a(()=>[v(u(o.$t("menu.group.list")),1)]),_:1})]),_:1}),e(Je,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(Y,null,{default:a(()=>[e(F,{flex:1},{default:a(()=>[e(ze,{model:y.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(Y,{gutter:16},{default:a(()=>[e(F,{span:8},{default:a(()=>[e(N,{field:"name",label:o.$t("group.form.name")},{default:a(()=>[e(se,{modelValue:y.value.name,"onUpdate:modelValue":n[0]||(n[0]=t=>y.value.name=t),placeholder:o.$t("group.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(F,{span:8},{default:a(()=>[e(N,{field:"models",label:o.$t("group.form.models")},{default:a(()=>[e(X,{modelValue:y.value.models,"onUpdate:modelValue":n[1]||(n[1]=t=>y.value.models=t),placeholder:o.$t("group.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(s(!0),p(j,null,T(c.value,t=>(s(),f(ne,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(F,{span:8},{default:a(()=>[e(N,{field:"model_agents",label:o.$t("group.form.model_agents")},{default:a(()=>[e(X,{modelValue:y.value.model_agents,"onUpdate:modelValue":n[2]||(n[2]=t=>y.value.model_agents=t),placeholder:o.$t("group.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(s(!0),p(j,null,T(B.value,t=>(s(),f(ne,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(F,{span:8},{default:a(()=>[e(N,{field:"remark",label:o.$t("group.form.remark")},{default:a(()=>[e(se,{modelValue:y.value.remark,"onUpdate:modelValue":n[3]||(n[3]=t=>y.value.remark=t),placeholder:o.$t("group.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(F,{span:8},{default:a(()=>[e(N,{field:"status",label:o.$t("group.form.status")},{default:a(()=>[e(X,{modelValue:y.value.status,"onUpdate:modelValue":n[4]||(n[4]=t=>y.value.status=t),placeholder:o.$t("group.form.selectDefault"),options:l(ve),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(F,{span:8},{default:a(()=>[e(N,{field:"expires_at",label:o.$t("group.form.expires_at")},{default:a(()=>[e(Be,{modelValue:y.value.expires_at,"onUpdate:modelValue":n[5]||(n[5]=t=>y.value.expires_at=t),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(ue,{style:{height:"84px"},direction:"vertical"}),e(F,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(de,{direction:"vertical",size:18},{default:a(()=>[e(x,{type:"primary",onClick:z},{icon:a(()=>[e(Ie)]),default:a(()=>[v(" "+u(o.$t("group.form.search")),1)]),_:1}),e(x,{onClick:ke},{icon:a(()=>[e(ie)]),default:a(()=>[v(" "+u(o.$t("group.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ue,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(Y,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(F,{span:12},{default:a(()=>[e(de,null,{default:a(()=>[e(x,{type:"primary",onClick:n[6]||(n[6]=t=>o.$router.push({name:"GroupCreate"}))},{default:a(()=>[v(u(o.$t("group.operation.create")),1)]),_:1}),e(x,{type:"primary",status:"success",disabled:I.value,title:I.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[7]||(n[7]=t=>K({action:"status",value:1}))},{default:a(()=>[v(" \u542F\u7528 ")]),_:1},8,["disabled","title"]),e(x,{type:"primary",status:"danger",disabled:I.value,title:I.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[8]||(n[8]=t=>K({action:"status",value:2}))},{default:a(()=>[v(" \u7981\u7528 ")]),_:1},8,["disabled","title"]),e(x,{type:"primary",status:"danger",disabled:I.value,title:I.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[9]||(n[9]=t=>K({action:"delete"}))},{default:a(()=>[v(" \u5220\u9664 ")]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(F,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(Z,{content:o.$t("actions.refresh")},{default:a(()=>[E("div",{class:"action-icon",onClick:z},[e(ie,{size:"18"})])]),_:1},8,["content"]),e(Ne,{onSelect:xe},{content:a(()=>[(s(!0),p(j,null,T(l(ge),t=>(s(),f(Ue,{key:t.value,value:t.value,class:na({active:t.value===$.value})},{default:a(()=>[E("span",null,u(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(Z,{content:o.$t("actions.density")},{default:a(()=>[E("div",Dt,[e(Ae,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(Z,{content:o.$t("actions.column_setting")},{default:a(()=>[e(Me,{trigger:"click",position:"bl",onPopupVisibleChange:Ve},{content:a(()=>[E("div",Ft,[(s(!0),p(j,null,T(m.value,(t,h)=>(s(),p("div",{key:t.dataIndex,class:"setting"},[E("div",Et,[e(Le)]),E("div",null,[e(He,{modelValue:t.checked,"onUpdate:modelValue":ee=>t.checked=ee,onChange:ee=>De(ee,t,h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),E("div",St,u(t.title==="#"?"\u5E8F\u5217\u53F7":t.title),1)]))),128))])]),default:a(()=>[E("div",Vt,[e(Ge,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(Te,{ref_key:"tableRef",ref:J,"row-key":"id",loading:l(R),pagination:H,columns:r.value,data:k.value,bordered:!1,size:$.value,"row-selection":G,onPageChange:ye,onPageSizeChange:he,onSelectionChange:Fe},{name:a(({record:t})=>[t.is_default?(s(),p("span",qt,[E("b",null,u(t.name),1)])):(s(),p("span",Bt,u(t.name),1))]),discount:a(({record:t})=>[v(u(Number((t.discount*100).toFixed(2)))+"% ",1)]),model_names:a(({record:t})=>[t.model_names?(s(),p("span",zt,[e(x,{type:"text",size:"small",onClick:h=>qe(t.id)},{default:a(()=>[v(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(s(),p("span",It,u("-")))]),model_agent_names:a(({record:t})=>{var h;return[v(u(((h=t==null?void 0:t.model_agent_names)==null?void 0:h.join(","))||"-"),1)]}),used_quota:a(({record:t})=>[v(" $"+u(t.used_quota>0?l(O)(t.used_quota):"0.00"),1)]),weight:a(({record:t})=>[t.is_default?(s(),p("span",At,Nt)):(s(),p("span",Gt,u(t.weight||"-"),1))]),lb_strategy:a(({record:t})=>[v(u(t.is_enable_model_agent?o.$t(`dict.lb_strategy.${t.lb_strategy||1}`):"-"),1)]),is_public:a(({record:t})=>[e(re,{modelValue:t.is_public,"onUpdate:modelValue":h=>t.is_public=h,"checked-value":!0,"unchecked-value":!1,onChange:h=>we({id:`${t.id}`,is_public:`${t.is_public}`})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),status:a(({record:t})=>[e(re,{modelValue:t.status,"onUpdate:modelValue":h=>t.status=h,"checked-value":1,"unchecked-value":2,onChange:h=>Ce({id:`${t.id}`,status:Number(`${t.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),remark:a(({record:t})=>[v(u(t.remark||"-"),1)]),expires_at:a(({rowIndex:t})=>[e(Pe,{modelValue:k.value[t].expires_at,"onUpdate:modelValue":h=>k.value[t].expires_at=h,placeholder:o.$t("group.columns.placeholder.expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":h=>l(q)(h).isBefore(l(q)().subtract(1,"day")),"show-time":"",shortcuts:[{label:"1",value:()=>l(q)(k.value[t].expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>l(q)(k.value[t].expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>l(q)(k.value[t].expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>l(q)(k.value[t].expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>l(q)(k.value[t].expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>l(q)(k.value[t].expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>l(q)(k.value[t].expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}],onChange:h=>$e({id:`${k.value[t].id}`,expires_at:`${k.value[t].expires_at}`})},{default:a(()=>[e(x,{style:{width:"150px"}},{default:a(()=>[v(u(k.value[t].expires_at||o.$t("group.columns.placeholder.expires_at")),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled-date","shortcuts","onChange"])]),operations:a(({record:t})=>[e(x,{type:"text",size:"small",onClick:h=>Ee(t.id)},{default:a(()=>[v(u(o.$t("group.columns.operations.view")),1)]),_:2},1032,["onClick"]),e(x,{type:"text",size:"small",onClick:h=>o.$router.push({name:"GroupUpdate",query:{id:`${t.id}`}})},{default:a(()=>[v(u(o.$t("group.columns.operations.update")),1)]),_:2},1032,["onClick"]),e(je,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:h=>b({id:`${t.id}`})},{default:a(()=>[e(x,{type:"text",size:"small"},{default:a(()=>[v(u(o.$t("group.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(Oe,{title:o.$t("menu.group.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:W.value,onCancel:Se},{default:a(()=>[e($t,{id:P.value},null,8,["id"])]),_:1},8,["title","visible"]),e(Re,{visible:Q.value,"onUpdate:visible":n[10]||(n[10]=t=>Q.value=t),title:o.$t("common.models"),"modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"920px","ok-text":"\u5173\u95ED"},{default:a(()=>[e(Ja,{id:P.value,action:oe.value},null,8,["id","action"])]),_:1},8,["visible","title"])]),_:1})])}}});const vl=Ze(Ht,[["__scopeId","data-v-faca601b"]]);export{vl as default};
