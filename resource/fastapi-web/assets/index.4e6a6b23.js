import{u as ce,_ as oe,b as Le,k as ze}from"./index.734acf26.js";/* empty css               *//* empty css              *//* empty css               */import{d as te,e as D,B as s,C as P,aH as u,aG as l,aJ as G,aI as I,aD as i,D as pe,aE as d,aL as f,aM as O,aT as ge,bE as me,c2 as fe,aU as ve,bA as be,bB as ye,bU as se,bG as ie,bK as ne,b1 as Fe,b2 as Ee,aS as ke,b5 as he,a_ as $e,g as Ve,bu as Y,bv as Z,u as Me,a5 as Re,a4 as Te,b4 as je,bi as Ke,aK as Je,aF as Qe,bb as We,b6 as Xe}from"./arco.73de4031.js";/* empty css                *//* empty css                */import{u as Be}from"./loading.0c20cf1b.js";import{s as Ce,a as De,b as Ae,c as qe,d as Ye}from"./sys_config.730bd4e8.js";/* empty css               *//* empty css               */import"./chart.b5ad42b0.js";import"./vue.e54f3d1e.js";const Ze={class:"list-wrap",style:{"margin-top":"10px"}},xe={class:"card-wrap"},el={name:"Global"},ll=te({...el,setup(de){const{proxy:E}=Ve(),{setLoading:F}=Be(!0),{t:b}=ce(),V=D(!1),N=D(""),H=D(),e=D({email:{},http:{},core:{},debug:{}}),t=async a=>{N.value=b(`sys.config.item.title.${a.action}`),e.value.action=a.action,V.value=!0},z=async a=>{E.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:`\u662F\u5426\u786E\u5B9A\u91CD\u7F6E${b(`sys.config.item.title.${a.action}`)}?`,hideCancel:!1,onOk:()=>{ee(a)}})},M=async a=>{var A;if(await((A=H.value)==null?void 0:A.validate())){V.value=!0,a(!1);return}F(!0);try{e.value.core.replace_error_prefixes&&(e.value.core.replace_error_prefixes=e.value.core.replace_error_prefixes.split(",")),await Ce(e.value),a(),E.$message.success("\u64CD\u4F5C\u6210\u529F"),R()}catch{a(!1)}finally{F(!1)}},x=()=>{V.value=!1},ee=async a=>{F(!0);try{await De({action:a.action}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),R()}finally{F(!1)}},le=async a=>{F(!0);try{await Ae({action:a.action,open:a.open||!1}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),R()}finally{F(!1)}},j=D({}),R=async()=>{var n;const{data:a}=await qe();e.value.email=a.email,e.value.http=a.http,e.value.core=a.core,e.value.core.replace_error_prefixes=(n=e.value.core.replace_error_prefixes)==null?void 0:n.join(","),e.value.debug=a.debug,j.value=[{action:"email",title:b("sys.config.item.title.email"),desc:"\u914D\u7F6E\u53D1\u4FE1\u90AE\u7BB1\u4FE1\u606F, \u7528\u4E8E\u6CE8\u518C\u3001\u767B\u5F55\u3001\u53D1\u9001\u6D88\u606F\u7B49\u573A\u666F, \u5F53\u6709\u7AD9\u70B9\u914D\u7F6E\u4E14\u540C\u65F6\u914D\u7F6E\u53D1\u4FE1\u90AE\u7BB1\u4FE1\u606F\u65F6, \u7AD9\u70B9\u914D\u7F6E\u7684\u4F18\u5148",open:e.value.email.open,config:!0,reset:!0},{action:"http",title:b("sys.config.item.title.http"),desc:"\u914D\u7F6EHTTP\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4\u548C\u4EE3\u7406\u5730\u5740",config:!0,reset:!0},{action:"core",title:b("sys.config.item.title.core"),desc:"\u7CFB\u7EDF\u9996\u6B21\u4F7F\u7528\u65F6\u53EF\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u4FEE\u6539, \u540E\u671F\u5982\u82E5\u518D\u6B21\u4FEE\u6539\u5BC6\u94A5\u524D\u7F00, \u5386\u53F2\u5E94\u7528\u5BC6\u94A5\u5C06\u65E0\u6CD5\u901A\u8FC7\u6838\u9A8C, \u8BF7\u8C28\u614E\u4FEE\u6539",config:!0,reset:!0},{action:"debug",title:b("sys.config.item.title.debug"),desc:"\u8C03\u8BD5\u5F00\u5173\u6253\u5F00\u540E, \u65E5\u5FD7\u4F1A\u6253\u5370\u66F4\u591A\u8BE6\u7EC6\u4FE1\u606F, \u65E5\u5FD7\u7EA7\u522B(logger.level)\u9700\u914D\u7F6E\u4E3A: debug",open:e.value.debug.open}]};return R(),(a,n)=>{const A=ge,L=me,Q=fe,_=ve,m=be,k=ye,K=se,W=ie,T=ne,$=Fe,y=Ee,U=ke,o=he,p=$e;return s(),P("div",Ze,[u(T,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),P(G,null,I(j.value,r=>(s(),i(W,{key:r.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[pe("div",xe,[u(K,{title:r.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[r.open!==void 0?(s(),i(A,{key:0,modelValue:r.open,"onUpdate:modelValue":w=>r.open=w,onChange:w=>le(r)},null,8,["modelValue","onUpdate:modelValue","onChange"])):d("",!0)]),actions:l(()=>[r.reset?(s(),i(_,{key:0,onClick:w=>z(r)},{default:l(()=>[f(O(a.$t("button.reset")),1)]),_:2},1032,["onClick"])):d("",!0),r.config?(s(),i(_,{key:1,type:"primary",onClick:w=>t(r)},{default:l(()=>[f(O(a.$t("button.config")),1)]),_:2},1032,["onClick"])):d("",!0)]),skeleton:l(()=>[u(k,{animation:!0},{default:l(()=>[u(m,{widths:["50%","50%","100%","40%"],rows:4}),u(m,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[u(Q,null,{description:l(()=>[f(O(r.desc)+" ",1),u(L,{data:r.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),u(p,{visible:V.value,"onUpdate:visible":n[11]||(n[11]=r=>V.value=r),title:a.$t(N.value),width:e.value.action==="core"?588:528,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:x,onBeforeOk:M},{default:l(()=>[u(o,{ref_key:"configForm",ref:H,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="email"?(s(),i(y,{key:0,field:"email.host",label:a.$t("sys.config.label.email.host"),rules:[{required:!0,message:a.$t("sys.config.error.email.host.required")}]},{default:l(()=>[u($,{modelValue:e.value.email.host,"onUpdate:modelValue":n[0]||(n[0]=r=>e.value.email.host=r),placeholder:a.$t("sys.config.placeholder.email.host"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="email"?(s(),i(y,{key:1,field:"email.port",label:a.$t("sys.config.label.email.port"),rules:[{required:!0,message:a.$t("sys.config.error.email.port.required")}]},{default:l(()=>[u(U,{modelValue:e.value.email.port,"onUpdate:modelValue":n[1]||(n[1]=r=>e.value.email.port=r),placeholder:a.$t("sys.config.placeholder.email.port"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="email"?(s(),i(y,{key:2,field:"email.user_name",label:a.$t("sys.config.label.email.user_name"),rules:[{required:!0,message:a.$t("sys.config.error.email.user_name.required")}]},{default:l(()=>[u($,{modelValue:e.value.email.user_name,"onUpdate:modelValue":n[2]||(n[2]=r=>e.value.email.user_name=r),placeholder:a.$t("sys.config.placeholder.email.user_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="email"?(s(),i(y,{key:3,field:"email.password",label:a.$t("sys.config.label.email.password"),rules:[{required:!0,message:a.$t("sys.config.error.email.password.required")}]},{default:l(()=>[u($,{modelValue:e.value.email.password,"onUpdate:modelValue":n[3]||(n[3]=r=>e.value.email.password=r),placeholder:a.$t("sys.config.placeholder.email.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="email"?(s(),i(y,{key:4,field:"email.from_name",label:a.$t("sys.config.label.email.from_name"),rules:[{required:!0,message:a.$t("sys.config.error.email.from_name.required")}]},{default:l(()=>[u($,{modelValue:e.value.email.from_name,"onUpdate:modelValue":n[4]||(n[4]=r=>e.value.email.from_name=r),placeholder:a.$t("sys.config.placeholder.email.from_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="email"?(s(),i(y,{key:5,field:"email.interval",label:a.$t("sys.config.label.email.interval"),rules:[{required:!0,message:a.$t("sys.config.error.email.interval.required")}]},{default:l(()=>[u(U,{modelValue:e.value.email.interval,"onUpdate:modelValue":n[5]||(n[5]=r=>e.value.email.interval=r),placeholder:a.$t("sys.config.placeholder.email.interval"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u6BEB\u79D2 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="http"?(s(),i(y,{key:6,field:"http.timeout",label:a.$t("sys.config.label.http.timeout"),rules:[{required:!0,message:a.$t("sys.config.error.http.timeout.required")}]},{default:l(()=>[u(U,{modelValue:e.value.http.timeout,"onUpdate:modelValue":n[6]||(n[6]=r=>e.value.http.timeout=r),placeholder:a.$t("sys.config.placeholder.http.timeout"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u79D2 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="http"?(s(),i(y,{key:7,field:"http.proxy_url",label:a.$t("sys.config.label.http.proxy_url")},{default:l(()=>[u($,{modelValue:e.value.http.proxy_url,"onUpdate:modelValue":n[7]||(n[7]=r=>e.value.http.proxy_url=r),placeholder:a.$t("sys.config.placeholder.http.proxy_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0),e.value.action==="core"?(s(),i(y,{key:8,field:"core.secret_key_prefix",label:a.$t("sys.config.label.core.secret_key_prefix"),rules:[{required:!0,message:a.$t("sys.config.error.core.secret_key_prefix.required")}]},{default:l(()=>[u($,{modelValue:e.value.core.secret_key_prefix,"onUpdate:modelValue":n[8]||(n[8]=r=>e.value.core.secret_key_prefix=r),placeholder:a.$t("sys.config.placeholder.core.secret_key_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="core"?(s(),i(y,{key:9,field:"core.error_prefix",label:a.$t("sys.config.label.core.error_prefix"),rules:[{required:!0,message:a.$t("sys.config.error.core.error_prefix.required")}]},{default:l(()=>[u($,{modelValue:e.value.core.error_prefix,"onUpdate:modelValue":n[9]||(n[9]=r=>e.value.core.error_prefix=r),placeholder:a.$t("sys.config.placeholder.core.error_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="core"?(s(),i(y,{key:10,field:"core.replace_error_prefixes",label:a.$t("sys.config.label.core.replace_error_prefixes")},{default:l(()=>[u($,{modelValue:e.value.core.replace_error_prefixes,"onUpdate:modelValue":n[10]||(n[10]=r=>e.value.core.replace_error_prefixes=r),placeholder:a.$t("sys.config.placeholder.core.replace_error_prefixes"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const He=oe(ll,[["__scopeId","data-v-c2a734fb"]]),ul={class:"list-wrap",style:{"margin-top":"10px"}},al={class:"card-wrap"},rl={name:"General"},ol=te({...rl,setup(de){const{proxy:E}=Ve(),{setLoading:F}=Be(!0),{t:b}=ce(),V=Le(),N=D(!1),H=D(""),e=D(),t=D({user_login_register:{},user_shield_error:{},reseller_login_register:{},reseller_shield_error:{},admin_login:{},quota:{}}),z=async _=>{_.action==="user_shield_error"&&t.value.user_shield_error.errors.length===0&&n(),_.action==="reseller_shield_error"&&t.value.reseller_shield_error.errors.length===0&&L(),H.value=b(`sys.config.item.title.${_.action}`),t.value.action=_.action,N.value=!0},M=async _=>{E.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:`\u662F\u5426\u786E\u5B9A\u91CD\u7F6E${b(`sys.config.item.title.${_.action}`)}?`,hideCancel:!1,onOk:()=>{le(_)}})},x=async _=>{var k;if(await((k=e.value)==null?void 0:k.validate())){N.value=!0,_(!1);return}F(!0);try{await Ce(t.value),_(),E.$message.success("\u64CD\u4F5C\u6210\u529F"),a()}catch{_(!1)}finally{F(!1)}},ee=()=>{N.value=!1,t.value.user_shield_error.errors.length>0&&!t.value.user_shield_error.errors[t.value.user_shield_error.errors.length-1]&&A(t.value.user_shield_error.errors.length-1),t.value.reseller_shield_error.errors.length>0&&!t.value.reseller_shield_error.errors[t.value.reseller_shield_error.errors.length-1]&&A(t.value.reseller_shield_error.errors.length-1)},le=async _=>{F(!0);try{await De({action:_.action}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),a()}finally{F(!1)}},j=async _=>{F(!0);try{await Ae({action:_.action,open:_.open||!1}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),a()}finally{F(!1)}},R=D({}),a=async()=>{const{data:_}=await qe();t.value.user_login_register=_.user_login_register,t.value.user_shield_error=_.user_shield_error,t.value.reseller_login_register=_.reseller_login_register,t.value.reseller_shield_error=_.reseller_shield_error,t.value.admin_login=_.admin_login,t.value.quota=_.quota,t.value.quota.threshold=_.quota.threshold,R.value=[{action:"user_login_register",title:b("sys.config.item.title.user_login_register"),desc:"\u914D\u7F6E\u767B\u5F55\u9875\u4E0A\u7684\u767B\u5F55\u65B9\u5F0F\u3001\u7528\u6237\u6CE8\u518C\u3001\u627E\u56DE\u5BC6\u7801\u4EE5\u53CA\u4F1A\u8BDD\u8FC7\u671F\u65F6\u957F, \u5BF9\u5E94\u7684\u5F00\u5173\u53EF\u63A7\u5236\u767B\u5F55\u9875\u4E0A\u5BF9\u5E94\u529F\u80FD\u7684\u663E\u793A, \u5173\u95ED\u7528\u6237\u6CE8\u518C\u65F6, \u901A\u8FC7\u90AE\u7BB1\u767B\u5F55\u4E5F\u65E0\u6CD5\u81EA\u52A8\u6CE8\u518C",config:!0,reset:!0},{action:"user_shield_error",title:b("sys.config.item.title.user_shield_error"),desc:"\u7528\u6237\u67E5\u770B\u8C03\u7528\u65E5\u5FD7\u9519\u8BEF\u65F6, \u5305\u542B\u6709\u914D\u7F6E\u9519\u8BEF\u5185\u5BB9\u65F6\u5219\u5C4F\u853D\u663E\u793A, \u4E3A\u7A7A\u5219\u5C4F\u853D\u6240\u6709\u9519\u8BEF\u663E\u793A",open:t.value.user_shield_error.open,config:!0,reset:!0},{action:"reseller_login_register",title:b("sys.config.item.title.reseller_login_register"),desc:"\u914D\u7F6E\u767B\u5F55\u9875\u4E0A\u7684\u767B\u5F55\u65B9\u5F0F\u3001\u4EE3\u7406\u5546\u6CE8\u518C\u3001\u627E\u56DE\u5BC6\u7801\u4EE5\u53CA\u4F1A\u8BDD\u8FC7\u671F\u65F6\u957F, \u5BF9\u5E94\u7684\u5F00\u5173\u53EF\u63A7\u5236\u767B\u5F55\u9875\u4E0A\u5BF9\u5E94\u529F\u80FD\u7684\u663E\u793A, \u5173\u95ED\u4EE3\u7406\u5546\u6CE8\u518C\u65F6, \u901A\u8FC7\u90AE\u7BB1\u767B\u5F55\u4E5F\u65E0\u6CD5\u81EA\u52A8\u6CE8\u518C",config:!0,reset:!0},{action:"reseller_shield_error",title:b("sys.config.item.title.reseller_shield_error"),desc:"\u4EE3\u7406\u5546\u67E5\u770B\u8C03\u7528\u65E5\u5FD7\u9519\u8BEF\u65F6, \u5305\u542B\u6709\u914D\u7F6E\u9519\u8BEF\u5185\u5BB9\u65F6\u5219\u5C4F\u853D\u663E\u793A, \u4E3A\u7A7A\u5219\u5C4F\u853D\u6240\u6709\u9519\u8BEF\u663E\u793A",open:t.value.reseller_shield_error.open,config:!0,reset:!0},{action:"admin_login",title:b("sys.config.item.title.admin_login"),desc:"\u914D\u7F6E\u767B\u5F55\u9875\u4E0A\u7684\u767B\u5F55\u65B9\u5F0F\u3001\u627E\u56DE\u5BC6\u7801\u4EE5\u53CA\u4F1A\u8BDD\u8FC7\u671F\u65F6\u957F, \u5BF9\u5E94\u7684\u5F00\u5173\u53EF\u63A7\u5236\u767B\u5F55\u9875\u4E0A\u5BF9\u5E94\u529F\u80FD\u7684\u663E\u793A",config:!0,reset:!0},{action:"quota",title:b("sys.config.item.title.quota"),desc:"\u914D\u7F6E\u989D\u5EA6\u9884\u8B66\u53C2\u6570\u9ED8\u8BA4\u503C\u548C\u5404\u7C7B\u5F00\u5173, \u7528\u6237\u5982\u82E5\u6709\u914D\u7F6E\u989D\u5EA6\u9884\u8B66\u548C\u9884\u8B66\u9608\u503C\u7B49, \u5C06\u4EE5\u7528\u6237\u7684\u914D\u7F6E\u4F18\u5148, \u989D\u5EA6\u8FC7\u671F\u6E05\u96F6\u5F00\u5173\u9ED8\u8BA4\u5173\u95ED, \u53EF\u6309\u9700\u9009\u62E9\u662F\u5426\u5F00\u542F",config:!0,reset:!0}]};a();const n=()=>{t.value.user_shield_error.errors.push("")},A=_=>{t.value.user_shield_error.errors.splice(_,1)},L=()=>{t.value.reseller_shield_error.errors.push("")},Q=_=>{t.value.reseller_shield_error.errors.splice(_,1)};return(_,m)=>{const k=ge,K=me,W=fe,T=ve,$=be,y=ye,U=se,o=ie,p=ne,r=Ee,w=ke,_e=Fe,S=Re,re=Te,we=he,Ue=$e;return s(),P("div",ul,[u(p,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),P(G,null,I(R.value,g=>(s(),i(o,{key:g.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[pe("div",al,[u(U,{title:g.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[g.open!==void 0?(s(),i(k,{key:0,modelValue:g.open,"onUpdate:modelValue":q=>g.open=q,onChange:q=>j(g)},null,8,["modelValue","onUpdate:modelValue","onChange"])):d("",!0)]),actions:l(()=>[g.reset?(s(),i(T,{key:0,onClick:q=>M(g)},{default:l(()=>[f(O(_.$t("button.reset")),1)]),_:2},1032,["onClick"])):d("",!0),g.config?(s(),i(T,{key:1,type:"primary",onClick:q=>z(g)},{default:l(()=>[f(O(_.$t("button.config")),1)]),_:2},1032,["onClick"])):d("",!0)]),skeleton:l(()=>[u(y,{animation:!0},{default:l(()=>[u($,{widths:["50%","50%","100%","40%"],rows:4}),u($,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[u(W,null,{description:l(()=>[f(O(g.desc)+" ",1),u(K,{data:g.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),u(Ue,{visible:N.value,"onUpdate:visible":m[24]||(m[24]=g=>N.value=g),title:_.$t(H.value),width:t.value.action==="user_shield_error"||t.value.action==="reseller_shield_error"?728:528,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:ee,onBeforeOk:x},{default:l(()=>[u(we,{ref_key:"configForm",ref:e,model:t.value,"auto-label-width":""},{default:l(()=>[t.value.action==="user_login_register"?(s(),i(r,{key:0,field:"user_login_register.account_login",label:_.$t("sys.config.label.user_login_register.account_login"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.user_login_register.account_login,"onUpdate:modelValue":m[0]||(m[0]=g=>t.value.user_login_register.account_login=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="user_login_register"?(s(),i(r,{key:1,field:"user_login_register.email_login",label:_.$t("sys.config.label.user_login_register.email_login"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.user_login_register.email_login,"onUpdate:modelValue":m[1]||(m[1]=g=>t.value.user_login_register.email_login=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="user_login_register"?(s(),i(r,{key:2,field:"user_login_register.email_register",label:_.$t("sys.config.label.user_login_register.email_register"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.user_login_register.email_register,"onUpdate:modelValue":m[2]||(m[2]=g=>t.value.user_login_register.email_register=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="user_login_register"?(s(),i(r,{key:3,field:"user_login_register.email_retrieve",label:_.$t("sys.config.label.user_login_register.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.user_login_register.email_retrieve,"onUpdate:modelValue":m[3]||(m[3]=g=>t.value.user_login_register.email_retrieve=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="user_login_register"?(s(),i(r,{key:4,field:"user_login_register.session_expire",label:_.$t("sys.config.label.user_login_register.session_expire"),rules:[{required:!0,message:_.$t("sys.config.error.user_login_register.session_expire.required")}]},{default:l(()=>[u(w,{modelValue:t.value.user_login_register.session_expire,"onUpdate:modelValue":m[4]||(m[4]=g=>t.value.user_login_register.session_expire=g),placeholder:_.$t("sys.config.placeholder.user_login_register.session_expire"),min:10,"allow-clear":""},{append:l(()=>[f(" \u79D2 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),(s(!0),P(G,null,I(t.value.user_shield_error.errors,(g,q)=>Y((s(),i(r,{key:q,field:`user_shield_error.errors[${q}]`,label:`${q+1}. `+_.$t("sys.config.label.user_shield_error.errors"),rules:[{required:!0,message:_.$t("sys.config.error.user_shield_error.errors.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(_e,{modelValue:t.value.user_shield_error.errors[q],"onUpdate:modelValue":B=>t.value.user_shield_error.errors[q]=B,placeholder:_.$t("sys.config.placeholder.user_shield_error.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(T,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[5]||(m[5]=B=>n())},{default:l(()=>[u(S)]),_:1}),u(T,{type:"secondary",shape:"circle",onClick:B=>A(q)},{default:l(()=>[u(re)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,t.value.action==="user_shield_error"]])),128)),t.value.action==="reseller_login_register"?(s(),i(r,{key:5,field:"reseller_login_register.account_login",label:_.$t("sys.config.label.reseller_login_register.account_login"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.reseller_login_register.account_login,"onUpdate:modelValue":m[6]||(m[6]=g=>t.value.reseller_login_register.account_login=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="reseller_login_register"?(s(),i(r,{key:6,field:"reseller_login_register.email_login",label:_.$t("sys.config.label.reseller_login_register.email_login"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.reseller_login_register.email_login,"onUpdate:modelValue":m[7]||(m[7]=g=>t.value.reseller_login_register.email_login=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="reseller_login_register"?(s(),i(r,{key:7,field:"reseller_login_register.email_register",label:_.$t("sys.config.label.reseller_login_register.email_register"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.reseller_login_register.email_register,"onUpdate:modelValue":m[8]||(m[8]=g=>t.value.reseller_login_register.email_register=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="reseller_login_register"?(s(),i(r,{key:8,field:"reseller_login_register.email_retrieve",label:_.$t("sys.config.label.reseller_login_register.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.reseller_login_register.email_retrieve,"onUpdate:modelValue":m[9]||(m[9]=g=>t.value.reseller_login_register.email_retrieve=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="reseller_login_register"?(s(),i(r,{key:9,field:"reseller_login_register.session_expire",label:_.$t("sys.config.label.reseller_login_register.session_expire"),rules:[{required:!0,message:_.$t("sys.config.error.reseller_login_register.session_expire.required")}]},{default:l(()=>[u(w,{modelValue:t.value.reseller_login_register.session_expire,"onUpdate:modelValue":m[10]||(m[10]=g=>t.value.reseller_login_register.session_expire=g),placeholder:_.$t("sys.config.placeholder.reseller_login_register.session_expire"),min:10,"allow-clear":""},{append:l(()=>[f(" \u79D2 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),(s(!0),P(G,null,I(t.value.reseller_shield_error.errors,(g,q)=>Y((s(),i(r,{key:q,field:`reseller_shield_error.errors[${q}]`,label:`${q+1}. `+_.$t("sys.config.label.reseller_shield_error.errors"),rules:[{required:!0,message:_.$t("sys.config.error.reseller_shield_error.errors.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(_e,{modelValue:t.value.reseller_shield_error.errors[q],"onUpdate:modelValue":B=>t.value.reseller_shield_error.errors[q]=B,placeholder:_.$t("sys.config.placeholder.reseller_shield_error.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(T,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[11]||(m[11]=B=>L())},{default:l(()=>[u(S)]),_:1}),u(T,{type:"secondary",shape:"circle",onClick:B=>Q(q)},{default:l(()=>[u(re)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,t.value.action==="reseller_shield_error"]])),128)),t.value.action==="admin_login"?(s(),i(r,{key:10,field:"admin_login.account_login",label:_.$t("sys.config.label.admin_login.account_login"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.admin_login.account_login,"onUpdate:modelValue":m[12]||(m[12]=g=>t.value.admin_login.account_login=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="admin_login"?(s(),i(r,{key:11,field:"admin_login.email_login",label:_.$t("sys.config.label.admin_login.email_login"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.admin_login.email_login,"onUpdate:modelValue":m[13]||(m[13]=g=>t.value.admin_login.email_login=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="admin_login"?(s(),i(r,{key:12,field:"admin_login.email_retrieve",label:_.$t("sys.config.label.admin_login.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.admin_login.email_retrieve,"onUpdate:modelValue":m[14]||(m[14]=g=>t.value.admin_login.email_retrieve=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="admin_login"?(s(),i(r,{key:13,field:"admin_login.session_expire",label:_.$t("sys.config.label.admin_login.session_expire"),rules:[{required:!0,message:_.$t("sys.config.error.admin_login.session_expire.required")}]},{default:l(()=>[u(w,{modelValue:t.value.admin_login.session_expire,"onUpdate:modelValue":m[15]||(m[15]=g=>t.value.admin_login.session_expire=g),placeholder:_.$t("sys.config.placeholder.admin_login.session_expire"),min:10,"allow-clear":""},{append:l(()=>[f(" \u79D2 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),t.value.action==="quota"?(s(),i(r,{key:14,field:"quota.warning",label:_.$t("sys.config.label.quota.warning"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.quota.warning,"onUpdate:modelValue":m[16]||(m[16]=g=>t.value.quota.warning=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="quota"&&t.value.quota.warning?(s(),i(r,{key:15,field:"quota.threshold",label:_.$t("sys.config.label.quota.threshold"),rules:[{required:!0,message:_.$t("sys.config.error.quota.threshold.required")}]},{default:l(()=>[u(w,{modelValue:t.value.quota.threshold,"onUpdate:modelValue":m[17]||(m[17]=g=>t.value.quota.threshold=g),placeholder:_.$t("sys.config.placeholder.quota.threshold"),precision:0,min:1,"allow-clear":""},{prefix:l(()=>[f(O(Me(V).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),t.value.action==="quota"?(s(),i(r,{key:16,field:"quota.expired_warning",label:_.$t("sys.config.label.quota.expired_warning"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.quota.expired_warning,"onUpdate:modelValue":m[18]||(m[18]=g=>t.value.quota.expired_warning=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="quota"&&t.value.quota.expired_warning?(s(),i(r,{key:17,field:"quota.expired_threshold",label:_.$t("sys.config.label.quota.expired_threshold"),rules:[{required:!0,message:_.$t("sys.config.error.quota.expired_threshold.required")}]},{default:l(()=>[u(w,{modelValue:t.value.quota.expired_threshold,"onUpdate:modelValue":m[19]||(m[19]=g=>t.value.quota.expired_threshold=g),placeholder:_.$t("sys.config.placeholder.quota.expired_threshold"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),t.value.action==="quota"?(s(),i(r,{key:18,field:"quota.exhausted_notice",label:_.$t("sys.config.label.quota.exhausted_notice"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.quota.exhausted_notice,"onUpdate:modelValue":m[20]||(m[20]=g=>t.value.quota.exhausted_notice=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="quota"?(s(),i(r,{key:19,field:"quota.expired_notice",label:_.$t("sys.config.label.quota.expired_notice"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.quota.expired_notice,"onUpdate:modelValue":m[21]||(m[21]=g=>t.value.quota.expired_notice=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="quota"?(s(),i(r,{key:20,field:"quota.expired_clear",label:_.$t("sys.config.label.quota.expired_clear"),rules:[{required:!0}]},{default:l(()=>[u(k,{modelValue:t.value.quota.expired_clear,"onUpdate:modelValue":m[22]||(m[22]=g=>t.value.quota.expired_clear=g)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),t.value.action==="quota"&&t.value.quota.expired_clear?(s(),i(r,{key:21,field:"quota.expired_clear_defer",label:_.$t("sys.config.label.quota.expired_clear_defer"),rules:[{required:!0,message:_.$t("sys.config.error.quota.expired_clear_defer.required")}]},{default:l(()=>[u(w,{modelValue:t.value.quota.expired_clear_defer,"onUpdate:modelValue":m[23]||(m[23]=g=>t.value.quota.expired_clear_defer=g),placeholder:_.$t("sys.config.placeholder.quota.expired_clear_defer"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Pe=oe(ol,[["__scopeId","data-v-b042496e"]]),tl={class:"list-wrap",style:{"margin-top":"10px"}},sl={class:"card-wrap"},il={name:"Task"},nl=te({...il,setup(de){const{proxy:E}=Ve(),{setLoading:F}=Be(!0),{t:b}=ce(),V=D(!1),N=D(""),H=D(),e=D({statistics:{},notice:{},quota_task:{}}),t=async a=>{N.value=b(`sys.config.item.title.${a.action}`),e.value.action=a.action,V.value=!0},z=async a=>{E.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:`\u662F\u5426\u786E\u5B9A\u91CD\u7F6E${b(`sys.config.item.title.${a.action}`)}?`,hideCancel:!1,onOk:()=>{ee(a)}})},M=async a=>{var A;if(await((A=H.value)==null?void 0:A.validate())){V.value=!0,a(!1);return}F(!0);try{await Ce(e.value),a(),E.$message.success("\u64CD\u4F5C\u6210\u529F"),R()}catch{a(!1)}finally{F(!1)}},x=()=>{V.value=!1},ee=async a=>{F(!0);try{await De({action:a.action}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),R()}finally{F(!1)}},le=async a=>{F(!0);try{await Ae({action:a.action,open:a.open||!1}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),R()}finally{F(!1)}},j=D({}),R=async()=>{const{data:a}=await qe();e.value.quota_task=a.quota_task,e.value.statistics=a.statistics,e.value.video_task=a.video_task,e.value.file_task=a.file_task,e.value.batch_task=a.batch_task,e.value.notice=a.notice,j.value=[{action:"quota_task",title:b("sys.config.item.title.quota_task"),desc:"\u5B9A\u65F6\u68C0\u67E5\u5404\u7C7B\u989D\u5EA6\u914D\u7F6E\u4EE5\u53CA\u53D1\u9001\u76F8\u5173\u901A\u77E5, \u5355\u6B21\u4EFB\u52A1\u8D85\u65F6\u65F6\u95F4\u53EF\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u914D\u7F6E, \u5EFA\u8BAE\u4E0D\u8981\u4F4E\u4E8E10\u5206\u949F",open:e.value.quota_task.open,config:!0,reset:!0},{action:"statistics",title:b("sys.config.item.title.statistics"),desc:"\u4EEA\u8868\u76D8\u4E0A\u5404\u7C7B\u6570\u636E\u4EE5\u53CA\u8D26\u5355\u660E\u7EC6\u7684\u7EDF\u8BA1\u4EFB\u52A1, \u7EDF\u8BA1\u95F4\u9694\u65F6\u95F4\u5EFA\u8BAE\u63A7\u5236\u572830\u5206\u949F\u4EE5\u5185, \u5355\u6B21\u5FAA\u73AF\u7EDF\u8BA1\u67E5\u8BE2\u6761\u6570\u5EFA\u8BAE\u63A7\u5236\u572810000\u4EE5\u5185, \u5355\u6B21\u7EDF\u8BA1\u4EFB\u52A1\u8D85\u65F6\u65F6\u95F4\u53EF\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u914D\u7F6E, \u5EFA\u8BAE\u4E0D\u8981\u4F4E\u4E8E10\u5206\u949F",open:e.value.statistics.open,config:!0,reset:!0},{action:"video_task",title:b("sys.config.item.title.video_task"),desc:"\u5B9A\u65F6\u68C0\u67E5\u5404\u89C6\u9891\u4EFB\u52A1\u7684\u72B6\u6001\u5E76\u66F4\u65B0, \u53EF\u9009\u62E9\u662F\u5426\u5F00\u542F\u5B58\u50A8\u89C6\u9891, \u5355\u6B21\u89C6\u9891\u4EFB\u52A1\u8D85\u65F6\u65F6\u95F4\u53EF\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u914D\u7F6E, \u5EFA\u8BAE\u4E0D\u8981\u4F4E\u4E8E10\u5206\u949F",open:e.value.video_task.open,config:!0,reset:!0},{action:"file_task",title:b("sys.config.item.title.file_task"),desc:"\u5B9A\u65F6\u68C0\u67E5\u5404\u6587\u4EF6\u4EFB\u52A1\u7684\u72B6\u6001\u5E76\u66F4\u65B0, \u53EF\u9009\u62E9\u662F\u5426\u5F00\u542F\u5B58\u50A8\u6587\u4EF6, \u5355\u6B21\u6587\u4EF6\u4EFB\u52A1\u8D85\u65F6\u65F6\u95F4\u53EF\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u914D\u7F6E, \u5EFA\u8BAE\u4E0D\u8981\u4F4E\u4E8E10\u5206\u949F",open:e.value.file_task.open,config:!0,reset:!0},{action:"batch_task",title:b("sys.config.item.title.batch_task"),desc:"\u5B9A\u65F6\u68C0\u67E5\u5404\u6279\u5904\u7406\u4EFB\u52A1\u7684\u72B6\u6001\u5E76\u66F4\u65B0, \u5355\u6B21\u6279\u5904\u7406\u4EFB\u52A1\u8D85\u65F6\u65F6\u95F4\u53EF\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u914D\u7F6E, \u5EFA\u8BAE\u4E0D\u8981\u4F4E\u4E8E10\u5206\u949F",open:e.value.batch_task.open,config:!0,reset:!0},{action:"notice",title:b("sys.config.item.title.notice"),desc:"\u5B9A\u65F6\u68C0\u67E5\u5404\u7C7B\u901A\u77E5\u914D\u7F6E\u662F\u5426\u9700\u8981\u53D1\u9001\u901A\u77E5, \u5355\u6B21\u901A\u77E5\u4EFB\u52A1\u8D85\u65F6\u65F6\u95F4\u53EF\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u914D\u7F6E, \u5EFA\u8BAE\u4E0D\u8981\u4F4E\u4E8E10\u5206\u949F",open:e.value.notice.open,config:!0,reset:!0}]};return R(),(a,n)=>{const A=ge,L=me,Q=fe,_=ve,m=be,k=ye,K=se,W=ie,T=ne,$=Fe,y=Ee,U=ke,o=he,p=$e;return s(),P("div",tl,[u(T,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),P(G,null,I(j.value,r=>(s(),i(W,{key:r.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[pe("div",sl,[u(K,{title:r.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[r.open!==void 0?(s(),i(A,{key:0,modelValue:r.open,"onUpdate:modelValue":w=>r.open=w,onChange:w=>le(r)},null,8,["modelValue","onUpdate:modelValue","onChange"])):d("",!0)]),actions:l(()=>[r.reset?(s(),i(_,{key:0,onClick:w=>z(r)},{default:l(()=>[f(O(a.$t("button.reset")),1)]),_:2},1032,["onClick"])):d("",!0),r.config?(s(),i(_,{key:1,type:"primary",onClick:w=>t(r)},{default:l(()=>[f(O(a.$t("button.config")),1)]),_:2},1032,["onClick"])):d("",!0)]),skeleton:l(()=>[u(k,{animation:!0},{default:l(()=>[u(m,{widths:["50%","50%","100%","40%"],rows:4}),u(m,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[u(Q,null,{description:l(()=>[f(O(r.desc)+" ",1),u(L,{data:r.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),u(p,{visible:V.value,"onUpdate:visible":n[23]||(n[23]=r=>V.value=r),title:a.$t(N.value),width:568,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:x,onBeforeOk:M},{default:l(()=>[u(o,{ref_key:"configForm",ref:H,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="quota_task"?(s(),i(y,{key:0,field:"quota_task.cron",label:a.$t("sys.config.label.quota_task.cron"),rules:[{required:!0,message:a.$t("sys.config.error.quota_task.cron.required")}]},{default:l(()=>[u($,{modelValue:e.value.quota_task.cron,"onUpdate:modelValue":n[0]||(n[0]=r=>e.value.quota_task.cron=r),placeholder:a.$t("sys.config.placeholder.quota_task.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="quota_task"?(s(),i(y,{key:1,field:"quota_task.lock_minutes",label:a.$t("sys.config.label.quota_task.lock_minutes"),rules:[{required:!0,message:a.$t("sys.config.error.quota_task.lock_minutes.required")}]},{default:l(()=>[u(U,{modelValue:e.value.quota_task.lock_minutes,"onUpdate:modelValue":n[1]||(n[1]=r=>e.value.quota_task.lock_minutes=r),placeholder:a.$t("sys.config.placeholder.quota_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="statistics"?(s(),i(y,{key:2,field:"statistics.cron",label:a.$t("sys.config.label.statistics.cron"),rules:[{required:!0,message:a.$t("sys.config.error.statistics.cron.required")}]},{default:l(()=>[u($,{modelValue:e.value.statistics.cron,"onUpdate:modelValue":n[2]||(n[2]=r=>e.value.statistics.cron=r),placeholder:a.$t("sys.config.placeholder.statistics.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="statistics"?(s(),i(y,{key:3,field:"statistics.limit",label:a.$t("sys.config.label.statistics.limit"),rules:[{required:!0,message:a.$t("sys.config.error.statistics.limit.required")}]},{default:l(()=>[u(U,{modelValue:e.value.statistics.limit,"onUpdate:modelValue":n[3]||(n[3]=r=>e.value.statistics.limit=r),placeholder:a.$t("sys.config.placeholder.statistics.limit"),min:10,"allow-clear":""},{append:l(()=>[f(" \u6761 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="statistics"?(s(),i(y,{key:4,field:"statistics.lock_minutes",label:a.$t("sys.config.label.statistics.lock_minutes"),rules:[{required:!0,message:a.$t("sys.config.error.statistics.lock_minutes.required")}]},{default:l(()=>[u(U,{modelValue:e.value.statistics.lock_minutes,"onUpdate:modelValue":n[4]||(n[4]=r=>e.value.statistics.lock_minutes=r),placeholder:a.$t("sys.config.placeholder.statistics.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="video_task"?(s(),i(y,{key:5,field:"video_task.cron",label:a.$t("sys.config.label.video_task.cron"),rules:[{required:!0,message:a.$t("sys.config.error.video_task.cron.required")}]},{default:l(()=>[u($,{modelValue:e.value.video_task.cron,"onUpdate:modelValue":n[5]||(n[5]=r=>e.value.video_task.cron=r),placeholder:a.$t("sys.config.placeholder.video_task.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="video_task"?(s(),i(y,{key:6,field:"video_task.lock_minutes",label:a.$t("sys.config.label.video_task.lock_minutes"),rules:[{required:!0,message:a.$t("sys.config.error.video_task.lock_minutes.required")}]},{default:l(()=>[u(U,{modelValue:e.value.video_task.lock_minutes,"onUpdate:modelValue":n[6]||(n[6]=r=>e.value.video_task.lock_minutes=r),placeholder:a.$t("sys.config.placeholder.video_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="video_task"?(s(),i(y,{key:7,field:"video_task.is_enable_storage",label:a.$t("sys.config.label.video_task.is_enable_storage")},{default:l(()=>[u(A,{modelValue:e.value.video_task.is_enable_storage,"onUpdate:modelValue":n[7]||(n[7]=r=>e.value.video_task.is_enable_storage=r)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),i(y,{key:8,field:"video_task.storage_dir",label:a.$t("sys.config.label.video_task.storage_dir")},{default:l(()=>[u($,{modelValue:e.value.video_task.storage_dir,"onUpdate:modelValue":n[8]||(n[8]=r=>e.value.video_task.storage_dir=r),placeholder:a.$t("sys.config.placeholder.video_task.storage_dir"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),i(y,{key:9,field:"video_task.storage_base_url",label:a.$t("sys.config.label.video_task.storage_base_url")},{default:l(()=>[u($,{modelValue:e.value.video_task.storage_base_url,"onUpdate:modelValue":n[9]||(n[9]=r=>e.value.video_task.storage_base_url=r),placeholder:a.$t("sys.config.placeholder.video_task.storage_base_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),i(y,{key:10,field:"video_task.storage_expires_at",label:a.$t("sys.config.label.video_task.storage_expires_at")},{default:l(()=>[u(U,{modelValue:e.value.video_task.storage_expires_at,"onUpdate:modelValue":n[10]||(n[10]=r=>e.value.video_task.storage_expires_at=r),placeholder:a.$t("sys.config.placeholder.video_task.storage_expires_at"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),i(y,{key:11,field:"video_task.storage_expired_delete",label:a.$t("sys.config.label.video_task.storage_expired_delete")},{default:l(()=>[u(A,{modelValue:e.value.video_task.storage_expired_delete,"onUpdate:modelValue":n[11]||(n[11]=r=>e.value.video_task.storage_expired_delete=r)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),e.value.action==="file_task"?(s(),i(y,{key:12,field:"file_task.cron",label:a.$t("sys.config.label.file_task.cron"),rules:[{required:!0,message:a.$t("sys.config.error.file_task.cron.required")}]},{default:l(()=>[u($,{modelValue:e.value.file_task.cron,"onUpdate:modelValue":n[12]||(n[12]=r=>e.value.file_task.cron=r),placeholder:a.$t("sys.config.placeholder.file_task.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="file_task"?(s(),i(y,{key:13,field:"file_task.lock_minutes",label:a.$t("sys.config.label.file_task.lock_minutes"),rules:[{required:!0,message:a.$t("sys.config.error.file_task.lock_minutes.required")}]},{default:l(()=>[u(U,{modelValue:e.value.file_task.lock_minutes,"onUpdate:modelValue":n[13]||(n[13]=r=>e.value.file_task.lock_minutes=r),placeholder:a.$t("sys.config.placeholder.file_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="file_task"?(s(),i(y,{key:14,field:"file_task.is_enable_storage",label:a.$t("sys.config.label.file_task.is_enable_storage")},{default:l(()=>[u(A,{modelValue:e.value.file_task.is_enable_storage,"onUpdate:modelValue":n[14]||(n[14]=r=>e.value.file_task.is_enable_storage=r)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),i(y,{key:15,field:"file_task.storage_dir",label:a.$t("sys.config.label.file_task.storage_dir")},{default:l(()=>[u($,{modelValue:e.value.file_task.storage_dir,"onUpdate:modelValue":n[15]||(n[15]=r=>e.value.file_task.storage_dir=r),placeholder:a.$t("sys.config.placeholder.file_task.storage_dir"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),i(y,{key:16,field:"file_task.storage_base_url",label:a.$t("sys.config.label.file_task.storage_base_url")},{default:l(()=>[u($,{modelValue:e.value.file_task.storage_base_url,"onUpdate:modelValue":n[16]||(n[16]=r=>e.value.file_task.storage_base_url=r),placeholder:a.$t("sys.config.placeholder.file_task.storage_base_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),i(y,{key:17,field:"file_task.storage_expires_at",label:a.$t("sys.config.label.file_task.storage_expires_at")},{default:l(()=>[u(U,{modelValue:e.value.file_task.storage_expires_at,"onUpdate:modelValue":n[17]||(n[17]=r=>e.value.file_task.storage_expires_at=r),placeholder:a.$t("sys.config.placeholder.file_task.storage_expires_at"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):d("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),i(y,{key:18,field:"file_task.storage_expired_delete",label:a.$t("sys.config.label.file_task.storage_expired_delete")},{default:l(()=>[u(A,{modelValue:e.value.file_task.storage_expired_delete,"onUpdate:modelValue":n[18]||(n[18]=r=>e.value.file_task.storage_expired_delete=r)},null,8,["modelValue"])]),_:1},8,["label"])):d("",!0),e.value.action==="batch_task"?(s(),i(y,{key:19,field:"batch_task.cron",label:a.$t("sys.config.label.batch_task.cron"),rules:[{required:!0,message:a.$t("sys.config.error.batch_task.cron.required")}]},{default:l(()=>[u($,{modelValue:e.value.batch_task.cron,"onUpdate:modelValue":n[19]||(n[19]=r=>e.value.batch_task.cron=r),placeholder:a.$t("sys.config.placeholder.batch_task.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="batch_task"?(s(),i(y,{key:20,field:"batch_task.lock_minutes",label:a.$t("sys.config.label.batch_task.lock_minutes"),rules:[{required:!0,message:a.$t("sys.config.error.batch_task.lock_minutes.required")}]},{default:l(()=>[u(U,{modelValue:e.value.batch_task.lock_minutes,"onUpdate:modelValue":n[20]||(n[20]=r=>e.value.batch_task.lock_minutes=r),placeholder:a.$t("sys.config.placeholder.batch_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="notice"?(s(),i(y,{key:21,field:"notice.cron",label:a.$t("sys.config.label.notice.cron"),rules:[{required:!0,message:a.$t("sys.config.error.notice.cron.required")}]},{default:l(()=>[u($,{modelValue:e.value.notice.cron,"onUpdate:modelValue":n[21]||(n[21]=r=>e.value.notice.cron=r),placeholder:a.$t("sys.config.placeholder.notice.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="notice"?(s(),i(y,{key:22,field:"notice.lock_minutes",label:a.$t("sys.config.label.notice.lock_minutes"),rules:[{required:!0,message:a.$t("sys.config.error.notice.lock_minutes.required")}]},{default:l(()=>[u(U,{modelValue:e.value.notice.lock_minutes,"onUpdate:modelValue":n[22]||(n[22]=r=>e.value.notice.lock_minutes=r),placeholder:a.$t("sys.config.placeholder.notice.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[f(" \u5206\u949F ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}});const Ne=oe(nl,[["__scopeId","data-v-f07e6552"]]),dl={class:"list-wrap",style:{"margin-top":"10px"}},_l={class:"card-wrap"},cl={name:"API"},pl=te({...cl,setup(de){const{proxy:E}=Ve(),{setLoading:F}=Be(!0),{t:b}=ce(),V=D(!1),N=D(""),H=D(),e=D({base:{},log:{},auto_disabled_error:{},auto_enable_error:{},not_retry_error:{},not_shield_error:{},service_unavailable:{},general_api:{}}),t=async o=>{o.action==="auto_disabled_error"&&e.value.auto_disabled_error.errors.length===0&&A(),o.action==="auto_enable_error"&&e.value.auto_enable_error.enable_errors.length===0&&Q(),o.action==="not_retry_error"&&e.value.not_retry_error.errors.length===0&&m(),o.action==="not_shield_error"&&e.value.not_shield_error.errors.length===0&&K(),o.action==="service_unavailable"&&e.value.service_unavailable.ip_whitelist.length===0&&T(),o.action==="general_api"&&e.value.general_api.ip_whitelist.length===0&&y(),N.value=b(`sys.config.item.title.${o.action}`),e.value.action=o.action,V.value=!0},z=async o=>{E.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:`\u662F\u5426\u786E\u5B9A${o.action!=="reset_api_error"?"\u91CD\u7F6E":""}${b(`sys.config.item.title.${o.action}`)}?`,hideCancel:!1,onOk:()=>{le(o)}})},M=async o=>{E.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:`\u662F\u5426\u786E\u5B9A${b(`sys.config.item.title.${o.action}`)}?`,hideCancel:!1,onOk:()=>{j(o)}})},x=async o=>{var r;if(await((r=H.value)==null?void 0:r.validate())){V.value=!0,o(!1);return}F(!0);try{await Ce(e.value),o(),E.$message.success("\u64CD\u4F5C\u6210\u529F"),n()}catch{o(!1)}finally{F(!1)}},ee=()=>{V.value=!1,e.value.auto_disabled_error.errors.length>0&&!e.value.auto_disabled_error.errors[e.value.auto_disabled_error.errors.length-1]&&L(e.value.auto_disabled_error.errors.length-1),e.value.auto_enable_error.enable_errors.length>0&&(!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].enable_time||!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].cron||!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].error)&&_(e.value.auto_enable_error.enable_errors.length-1),e.value.not_retry_error.errors.length>0&&!e.value.not_retry_error.errors[e.value.not_retry_error.errors.length-1]&&k(e.value.not_retry_error.errors.length-1),e.value.not_shield_error.errors.length>0&&!e.value.not_shield_error.errors[e.value.not_shield_error.errors.length-1]&&W(e.value.not_shield_error.errors.length-1),e.value.service_unavailable.ip_whitelist.length>0&&!e.value.service_unavailable.ip_whitelist[e.value.service_unavailable.ip_whitelist.length-1]&&$(e.value.service_unavailable.ip_whitelist.length-1),e.value.general_api.ip_whitelist.length>0&&!e.value.general_api.ip_whitelist[e.value.general_api.ip_whitelist.length-1]&&U(e.value.general_api.ip_whitelist.length-1)},le=async o=>{F(!0);try{await De({action:o.action}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),n()}finally{F(!1)}},j=async o=>{F(!0);try{await Ye({action:o.action}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),n()}finally{F(!1)}},R=async o=>{F(!0);try{await Ae({action:o.action,open:o.open||!1}),E.$message.success("\u64CD\u4F5C\u6210\u529F"),n()}finally{F(!1)}},a=D({}),n=async()=>{const{data:o}=await qe();e.value.base=o.base,e.value.log=o.log,e.value.auto_disabled_error=o.auto_disabled_error,e.value.auto_enable_error=o.auto_enable_error,e.value.not_retry_error=o.not_retry_error,e.value.not_shield_error=o.not_shield_error,e.value.service_unavailable=o.service_unavailable,e.value.general_api=o.general_api,a.value=[{action:"base",title:b("sys.config.item.title.base"),desc:"\u914D\u7F6E\u9519\u8BEF\u91CD\u8BD5\u6B21\u6570\u3001\u5404\u7C7B\u9519\u8BEF\u7981\u7528\u6B21\u6570\u3001\u8D85\u65F6\u65F6\u95F4\u7B49, \u9519\u8BEF\u91CD\u8BD5\u6B21\u6570N > 0 \u91CD\u8BD5 N \u6B21, N < 0 \u91CD\u8BD5\u6240\u6709key\u4E00\u8F6E, N = 0 \u4E0D\u91CD\u8BD5, \u9519\u8BEF\u6B21\u6570\u6BCF\u59290\u70B9\u4F1A\u81EA\u52A8\u91CD\u7F6E, \u6CE8: \u4EE3\u7406\u5BC6\u94A5\u9519\u8BEF\u65F6, \u4E5F\u4F1A\u8BB0\u5F55\u6A21\u578B\u4EE3\u7406\u9519\u8BEF\u6B21\u6570",config:!0,reset:!0},{action:"log",title:b("sys.config.item.title.log"),desc:"\u914D\u7F6E\u6587\u672C\u65E5\u5FD7\u8BB0\u5F55\u5185\u5BB9, \u652F\u6301\u8BB0\u5F55: \u63D0\u95EE\u3001\u56DE\u7B54\u3001\u4E0A\u4E0B\u6587\u3001\u591A\u6A21\u6001\u8BC6\u56FE\u7684BASE64\u56FE\u50CF\u6570\u636E, \u4EE5\u53CA\u5404\u7C7B\u65E5\u5FD7\u4FDD\u7559\u5929\u6570, \u5F53\u4FDD\u7559\u5929\u6570>0\u5219\u4F1A\u81EA\u52A8\u5220\u9664",open:e.value.log.open,config:!0,reset:!0},{action:"auto_disabled_error",title:b("sys.config.item.title.auto_disabled_error"),desc:"\u8C03\u7528\u62A5\u9519\u65F6, \u5305\u542B\u6709\u914D\u7F6E\u9519\u8BEF\u5185\u5BB9\u65F6\u5219\u81EA\u52A8\u4F1A\u7981\u7528\u5BC6\u94A5\u6216\u6A21\u578B\u4EE3\u7406\u7B49, \u4E3A\u7A7A\u5219\u4E0D\u4F1A\u81EA\u52A8\u7981\u7528(\u8FBE\u5230\u9519\u8BEF\u6B21\u6570\u4E0A\u9650\u9664\u5916)",open:e.value.auto_disabled_error.open,config:!0,reset:!0},{action:"auto_enable_error",title:b("sys.config.item.title.auto_enable_error"),desc:"\u5BC6\u94A5\u81EA\u52A8\u7981\u7528\u540E, \u53EF\u901A\u8FC7\u6B64\u914D\u7F6E\u81EA\u52A8\u542F\u7528, \u5BC6\u94A5\u7981\u7528\u539F\u56E0\u5305\u542B\u6709\u914D\u7F6E\u7684\u9519\u8BEF\u5185\u5BB9\u65F6, \u4F1A\u6839\u636E\u914D\u7F6E\u7684\u542F\u7528\u65F6\u95F4\u5224\u65AD\u662F\u5426\u6EE1\u8DB3\u542F\u7528\u6761\u4EF6, \u6EE1\u8DB3\u5219\u4F1A\u81EA\u52A8\u542F\u7528",open:e.value.auto_enable_error.open,config:!0,reset:!0},{action:"not_retry_error",title:b("sys.config.item.title.not_retry_error"),desc:"\u8C03\u7528\u62A5\u9519\u65F6, \u5305\u542B\u6709\u914D\u7F6E\u9519\u8BEF\u5185\u5BB9\u65F6\u5219\u4E0D\u4F1A\u81EA\u52A8\u91CD\u8BD5, \u4E3A\u7A7A\u5219\u4F1A\u81EA\u52A8\u91CD\u8BD5",open:e.value.not_retry_error.open,config:!0,reset:!0},{action:"not_shield_error",title:b("sys.config.item.title.not_shield_error"),desc:"\u8C03\u7528\u62A5\u9519\u65F6, \u5305\u542B\u6709\u914D\u7F6E\u9519\u8BEF\u5185\u5BB9\u65F6\u5219\u4F1A\u5C06\u9519\u8BEF\u5185\u5BB9\u8FD4\u56DE\u7ED9\u8C03\u7528\u65B9, \u4E3A\u7A7A\u5219\u5C4F\u853D\u6240\u6709\u9519\u8BEF",open:e.value.not_shield_error.open,config:!0,reset:!0},{action:"reset_api_error",title:b("sys.config.item.title.reset_api_error"),desc:"\u5F53\u9519\u8BEF\u6B21\u6570\u8FBE\u5230\u914D\u7F6E\u4E0A\u9650\u65F6\u53EF\u624B\u52A8\u8FDB\u884C\u91CD\u7F6E, \u91CD\u7F6E\u8FC7\u7A0B\u53EF\u80FD\u4F1A\u9020\u6210\u7CFB\u7EDF\u7684\u77ED\u6682\u4E0D\u53EF\u7528(\u4E00\u822C\u51E0\u79D2\u949F), \u8BF7\u8C28\u614E\u64CD\u4F5C, \u6216\u5C1D\u8BD5\u8C03\u9AD8\u57FA\u7840\u914D\u7F6E\u7684\u9519\u8BEF\u6B21\u6570, \u8C03\u9AD8\u4E0D\u4F1A\u5F71\u54CD\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C",reset:!0},{action:"refresh_api_cache",title:b("sys.config.item.title.refresh_api_cache"),desc:"\u7CFB\u7EDF\u9ED8\u8BA430\u5206\u949F\u66F4\u65B0\u4E00\u6B21\u7F13\u5B58, \u5982\u9700\u7ACB\u523B\u66F4\u65B0\u7F13\u5B58, \u8BF7\u70B9\u51FB\u5237\u65B0\u6309\u94AE",refresh:!0},{action:"service_unavailable",title:b("sys.config.item.title.service_unavailable"),desc:"\u6682\u505C\u670D\u52A1\u5F00\u542F\u540E, \u5C06\u62D2\u7EDD\u6240\u6709API\u8C03\u7528\u8BF7\u6C42, \u8BF7\u8C28\u614E\u64CD\u4F5C, \u6B64\u5F00\u5173\u591A\u7528\u4E8E\u9700\u66F4\u65B0API\u670D\u52A1\u573A\u666F\u65F6\u5F00\u542F, \u652F\u6301\u914D\u7F6EIP\u767D\u540D\u5355, \u767D\u540D\u5355\u5185\u7684IP\u4E0D\u53D7\u6682\u505C\u670D\u52A1\u9650\u5236, \u53EF\u6B63\u5E38\u8BF7\u6C42, \u63D0\u524D\u68C0\u67E5\u670D\u52A1\u662F\u5426\u8FBE\u5230\u9884\u671F",open:e.value.service_unavailable.open,config:!0,reset:!0},{action:"general_api",title:b("sys.config.item.title.general_api"),desc:"\u76EE\u524D\u901A\u7528API\u63A5\u53E3\u5904\u4E8E\u5B9E\u9A8C\u9636\u6BB5, \u8BF7\u6839\u636E\u9700\u8981\u9009\u62E9\u662F\u5426\u5F00\u542F, \u652F\u6301\u914D\u7F6EIP\u767D\u540D\u5355, \u914D\u7F6EIP\u767D\u540D\u5355\u540E, \u4EC5IP\u767D\u540D\u5355\u5185\u7684\u53EF\u8C03\u7528\u901A\u7528API\u63A5\u53E3",open:e.value.general_api.open,config:!0,reset:!0}]};n();const A=()=>{e.value.auto_disabled_error.errors.push("")},L=o=>{e.value.auto_disabled_error.errors.splice(o,1)},Q=()=>{e.value.auto_enable_error.enable_errors.push({cron:"",enable_time:D(),error:""})},_=o=>{e.value.auto_enable_error.enable_errors.length>1&&e.value.auto_enable_error.enable_errors.splice(o,1)},m=()=>{e.value.not_retry_error.errors.push("")},k=o=>{e.value.not_retry_error.errors.splice(o,1)},K=()=>{e.value.not_shield_error.errors.push("")},W=o=>{e.value.not_shield_error.errors.splice(o,1)},T=()=>{e.value.service_unavailable.ip_whitelist.push("")},$=o=>{e.value.service_unavailable.ip_whitelist.splice(o,1)},y=()=>{e.value.general_api.ip_whitelist.push("")},U=o=>{e.value.general_api.ip_whitelist.splice(o,1)};return(o,p)=>{const r=ge,w=me,_e=fe,S=ve,re=be,we=ye,Ue=se,g=ie,q=ne,B=ke,C=Ee,J=je,Se=Ke,X=Fe,ue=Re,ae=Te,Ge=he,Ie=$e;return s(),P("div",dl,[u(q,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),P(G,null,I(a.value,c=>(s(),i(g,{key:c.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[pe("div",_l,[u(Ue,{title:c.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[c.open!==void 0?(s(),i(r,{key:0,modelValue:c.open,"onUpdate:modelValue":v=>c.open=v,onChange:v=>R(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):d("",!0)]),actions:l(()=>[c.reset?(s(),i(S,{key:0,onClick:v=>z(c)},{default:l(()=>[f(O(o.$t("button.reset")),1)]),_:2},1032,["onClick"])):d("",!0),c.refresh?(s(),i(S,{key:1,status:"success",onClick:v=>M(c)},{default:l(()=>[f(O(o.$t("button.refresh")),1)]),_:2},1032,["onClick"])):d("",!0),c.config?(s(),i(S,{key:2,type:"primary",onClick:v=>t(c)},{default:l(()=>[f(O(o.$t("button.config")),1)]),_:2},1032,["onClick"])):d("",!0)]),skeleton:l(()=>[u(we,{animation:!0},{default:l(()=>[u(re,{widths:["50%","50%","100%","40%"],rows:4}),u(re,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[u(_e,null,{description:l(()=>[f(O(c.desc)+" ",1),u(w,{data:c.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),u(Ie,{visible:V.value,"onUpdate:visible":p[29]||(p[29]=c=>V.value=c),title:o.$t(N.value),width:e.value.action==="base"?588:e.value.action==="log"?647:728,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:ee,onBeforeOk:x},{default:l(()=>[u(Ge,{ref_key:"configForm",ref:H,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="base"?(s(),i(C,{key:0,field:"base.err_retry",label:o.$t("sys.config.label.base.err_retry"),rules:[{required:!0,message:o.$t("sys.config.error.base.err_retry.required")}]},{default:l(()=>[u(B,{modelValue:e.value.base.err_retry,"onUpdate:modelValue":p[0]||(p[0]=c=>e.value.base.err_retry=c),placeholder:o.$t("sys.config.placeholder.base.err_retry"),"allow-clear":""},{append:l(()=>[f(" \u6B21 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="base"?(s(),i(C,{key:1,field:"base.model_key_err_disable",label:o.$t("sys.config.label.base.model_key_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.base.model_key_err_disable.required")}]},{default:l(()=>[u(B,{modelValue:e.value.base.model_key_err_disable,"onUpdate:modelValue":p[1]||(p[1]=c=>e.value.base.model_key_err_disable=c),placeholder:o.$t("sys.config.placeholder.base.model_key_err_disable"),min:0,"allow-clear":""},{append:l(()=>[f(" \u6B21 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="base"?(s(),i(C,{key:2,field:"base.model_agent_err_disable",label:o.$t("sys.config.label.base.model_agent_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.base.model_agent_err_disable.required")}]},{default:l(()=>[u(B,{modelValue:e.value.base.model_agent_err_disable,"onUpdate:modelValue":p[2]||(p[2]=c=>e.value.base.model_agent_err_disable=c),placeholder:o.$t("sys.config.placeholder.base.model_agent_err_disable"),min:0,"allow-clear":""},{append:l(()=>[f(" \u6B21 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="base"?(s(),i(C,{key:3,field:"base.model_agent_key_err_disable",label:o.$t("sys.config.label.base.model_agent_key_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.base.model_agent_key_err_disable.required")}]},{default:l(()=>[u(B,{modelValue:e.value.base.model_agent_key_err_disable,"onUpdate:modelValue":p[3]||(p[3]=c=>e.value.base.model_agent_key_err_disable=c),placeholder:o.$t("sys.config.placeholder.base.model_agent_key_err_disable"),min:0,"allow-clear":""},{append:l(()=>[f(" \u6B21 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="base"?(s(),i(C,{key:4,field:"base.short_timeout",label:o.$t("sys.config.label.base.short_timeout"),rules:[{required:!0,message:o.$t("sys.config.error.base.short_timeout.required")}]},{default:l(()=>[u(B,{modelValue:e.value.base.short_timeout,"onUpdate:modelValue":p[4]||(p[4]=c=>e.value.base.short_timeout=c),placeholder:o.$t("sys.config.placeholder.base.short_timeout"),min:0,"allow-clear":""},{append:l(()=>[f(" \u79D2 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="base"?(s(),i(C,{key:5,field:"base.long_timeout",label:o.$t("sys.config.label.base.long_timeout"),rules:[{required:!0,message:o.$t("sys.config.error.base.long_timeout.required")}]},{default:l(()=>[u(B,{modelValue:e.value.base.long_timeout,"onUpdate:modelValue":p[5]||(p[5]=c=>e.value.base.long_timeout=c),placeholder:o.$t("sys.config.placeholder.base.long_timeout"),min:0,"allow-clear":""},{append:l(()=>[f(" \u79D2 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:6,field:"log.text_records",label:o.$t("sys.config.label.log.text_records")},{default:l(()=>[u(Se,{size:"large"},{default:l(()=>[u(J,{modelValue:e.value.log.text_records,"onUpdate:modelValue":p[6]||(p[6]=c=>e.value.log.text_records=c),value:"prompt"},{default:l(()=>[f(" \u63D0\u95EE ")]),_:1},8,["modelValue"]),u(J,{modelValue:e.value.log.text_records,"onUpdate:modelValue":p[7]||(p[7]=c=>e.value.log.text_records=c),value:"completion"},{default:l(()=>[f(" \u56DE\u7B54 ")]),_:1},8,["modelValue"]),u(J,{modelValue:e.value.log.text_records,"onUpdate:modelValue":p[8]||(p[8]=c=>e.value.log.text_records=c),value:"messages"},{default:l(()=>[f(" \u4E0A\u4E0B\u6587 ")]),_:1},8,["modelValue"]),u(J,{modelValue:e.value.log.text_records,"onUpdate:modelValue":p[9]||(p[9]=c=>e.value.log.text_records=c),value:"image"},{default:l(()=>[f(" \u56FE\u50CF\u6570\u636E ")]),_:1},8,["modelValue"]),u(J,{modelValue:e.value.log.text_records,"onUpdate:modelValue":p[10]||(p[10]=c=>e.value.log.text_records=c),value:"audio"},{default:l(()=>[f(" \u97F3\u9891\u6570\u636E ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:7,field:"log.text_reserve",label:o.$t("sys.config.label.log.text_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.log.text_reserve.required")}]},{default:l(()=>[u(B,{modelValue:e.value.log.text_reserve,"onUpdate:modelValue":p[11]||(p[11]=c=>e.value.log.text_reserve=c),placeholder:o.$t("sys.config.placeholder.log.text_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:8,field:"log.image_reserve",label:o.$t("sys.config.label.log.image_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.log.image_reserve.required")}]},{default:l(()=>[u(B,{modelValue:e.value.log.image_reserve,"onUpdate:modelValue":p[12]||(p[12]=c=>e.value.log.image_reserve=c),placeholder:o.$t("sys.config.placeholder.log.image_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:9,field:"log.audio_reserve",label:o.$t("sys.config.label.log.audio_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.log.audio_reserve.required")}]},{default:l(()=>[u(B,{modelValue:e.value.log.audio_reserve,"onUpdate:modelValue":p[13]||(p[13]=c=>e.value.log.audio_reserve=c),placeholder:o.$t("sys.config.placeholder.log.audio_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:10,field:"log.video_reserve",label:o.$t("sys.config.label.log.video_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.log.video_reserve.required")}]},{default:l(()=>[u(B,{modelValue:e.value.log.video_reserve,"onUpdate:modelValue":p[14]||(p[14]=c=>e.value.log.video_reserve=c),placeholder:o.$t("sys.config.placeholder.log.video_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:11,field:"log.file_reserve",label:o.$t("sys.config.label.log.file_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.log.file_reserve.required")}]},{default:l(()=>[u(B,{modelValue:e.value.log.file_reserve,"onUpdate:modelValue":p[15]||(p[15]=c=>e.value.log.file_reserve=c),placeholder:o.$t("sys.config.placeholder.log.file_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:12,field:"log.batch_reserve",label:o.$t("sys.config.label.log.batch_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.log.batch_reserve.required")}]},{default:l(()=>[u(B,{modelValue:e.value.log.batch_reserve,"onUpdate:modelValue":p[16]||(p[16]=c=>e.value.log.batch_reserve=c),placeholder:o.$t("sys.config.placeholder.log.batch_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:13,field:"log.general_reserve",label:o.$t("sys.config.label.log.general_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.log.general_reserve.required")}]},{default:l(()=>[u(B,{modelValue:e.value.log.general_reserve,"onUpdate:modelValue":p[17]||(p[17]=c=>e.value.log.general_reserve=c),placeholder:o.$t("sys.config.placeholder.log.general_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[f(" \u5929 ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:14,field:"log.status",label:o.$t("sys.config.label.log.status"),rules:[{required:!0,message:o.$t("sys.config.error.log.status.required")}]},{default:l(()=>[u(Se,{size:"large"},{default:l(()=>[u(J,{modelValue:e.value.log.status,"onUpdate:modelValue":p[18]||(p[18]=c=>e.value.log.status=c),value:1},{default:l(()=>[f(" \u6210\u529F ")]),_:1},8,["modelValue"]),u(J,{modelValue:e.value.log.status,"onUpdate:modelValue":p[19]||(p[19]=c=>e.value.log.status=c),value:2},{default:l(()=>[f(" \u4E2D\u6B62 ")]),_:1},8,["modelValue"]),u(J,{modelValue:e.value.log.status,"onUpdate:modelValue":p[20]||(p[20]=c=>e.value.log.status=c),value:3},{default:l(()=>[f(" \u91CD\u8BD5 ")]),_:1},8,["modelValue"]),u(J,{modelValue:e.value.log.status,"onUpdate:modelValue":p[21]||(p[21]=c=>e.value.log.status=c),value:-1},{default:l(()=>[f(" \u5931\u8D25 ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"])):d("",!0),e.value.action==="log"?(s(),i(C,{key:15,field:"log.cron",label:o.$t("sys.config.label.log.cron"),rules:[{required:!0,message:o.$t("sys.config.error.log.cron.required")}]},{default:l(()=>[u(X,{modelValue:e.value.log.cron,"onUpdate:modelValue":p[22]||(p[22]=c=>e.value.log.cron=c),placeholder:o.$t("sys.config.placeholder.log.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):d("",!0),(s(!0),P(G,null,I(e.value.auto_disabled_error.errors,(c,v)=>Y((s(),i(C,{key:v,field:`auto_disabled_error.errors[${v}]`,label:`${v+1}. `+o.$t("sys.config.label.auto_disabled_error.errors"),rules:[{required:!0,message:o.$t("sys.config.error.auto_disabled_error.errors.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(X,{modelValue:e.value.auto_disabled_error.errors[v],"onUpdate:modelValue":h=>e.value.auto_disabled_error.errors[v]=h,placeholder:o.$t("sys.config.placeholder.auto_disabled_error.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(S,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:p[23]||(p[23]=h=>A())},{default:l(()=>[u(ue)]),_:1}),u(S,{type:"secondary",shape:"circle",onClick:h=>L(v)},{default:l(()=>[u(ae)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,e.value.action==="auto_disabled_error"]])),128)),(s(!0),P(G,null,I(e.value.auto_enable_error.enable_errors,(c,v)=>Y((s(),i(C,{key:v,field:`auto_enable_error.enable_errors[${v}].cron`&&`auto_enable_error.enable_errors[${v}].enable_time`&&`auto_enable_error.enable_errors[${v}].error`,label:`${v+1}.`,rules:[{required:!0,message:o.$t("sys.config.error.auto_enable_error.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(X,{modelValue:e.value.auto_enable_error.enable_errors[v].cron,"onUpdate:modelValue":h=>e.value.auto_enable_error.enable_errors[v].cron=h,placeholder:o.$t("sys.config.placeholder.auto_enable_error.enable_errors.cron"),"allow-clear":"",style:{width:"20%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(B,{modelValue:e.value.auto_enable_error.enable_errors[v].enable_time,"onUpdate:modelValue":h=>e.value.auto_enable_error.enable_errors[v].enable_time=h,placeholder:o.$t("sys.config.placeholder.auto_enable_error.enable_errors.enable_time"),"allow-clear":"",style:{width:"22%","margin-right":"5px"}},{append:l(()=>[f(" \u79D2 ")]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),u(X,{modelValue:e.value.auto_enable_error.enable_errors[v].error,"onUpdate:modelValue":h=>e.value.auto_enable_error.enable_errors[v].error=h,placeholder:o.$t("sys.config.placeholder.auto_enable_error.enable_errors.error"),"allow-clear":"",style:{width:"42%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(S,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:p[24]||(p[24]=h=>Q())},{default:l(()=>[u(ue)]),_:1}),u(S,{type:"secondary",shape:"circle",onClick:h=>_(v)},{default:l(()=>[u(ae)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,e.value.action==="auto_enable_error"]])),128)),(s(!0),P(G,null,I(e.value.not_retry_error.errors,(c,v)=>Y((s(),i(C,{key:v,field:`not_retry_error.errors[${v}]`,label:`${v+1}. `+o.$t("sys.config.label.not_retry_error.errors"),rules:[{required:!0,message:o.$t("sys.config.error.not_retry_error.errors.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(X,{modelValue:e.value.not_retry_error.errors[v],"onUpdate:modelValue":h=>e.value.not_retry_error.errors[v]=h,placeholder:o.$t("sys.config.placeholder.not_retry_error.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(S,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:p[25]||(p[25]=h=>m())},{default:l(()=>[u(ue)]),_:1}),u(S,{type:"secondary",shape:"circle",onClick:h=>k(v)},{default:l(()=>[u(ae)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,e.value.action==="not_retry_error"]])),128)),(s(!0),P(G,null,I(e.value.not_shield_error.errors,(c,v)=>Y((s(),i(C,{key:v,field:`not_shield_error.errors[${v}]`,label:`${v+1}. `+o.$t("sys.config.label.not_shield_error.errors"),rules:[{required:!0,message:o.$t("sys.config.error.not_shield_error.errors.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(X,{modelValue:e.value.not_shield_error.errors[v],"onUpdate:modelValue":h=>e.value.not_shield_error.errors[v]=h,placeholder:o.$t("sys.config.placeholder.not_shield_error.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(S,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:p[26]||(p[26]=h=>K())},{default:l(()=>[u(ue)]),_:1}),u(S,{type:"secondary",shape:"circle",onClick:h=>W(v)},{default:l(()=>[u(ae)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,e.value.action==="not_shield_error"]])),128)),(s(!0),P(G,null,I(e.value.service_unavailable.ip_whitelist,(c,v)=>Y((s(),i(C,{key:v,field:`service_unavailable.ip_whitelist[${v}]`,label:`${v+1}. `+o.$t("sys.config.label.service_unavailable.ip_whitelist"),rules:[{required:!0,message:o.$t("sys.config.error.service_unavailable.ip_whitelist.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(X,{modelValue:e.value.service_unavailable.ip_whitelist[v],"onUpdate:modelValue":h=>e.value.service_unavailable.ip_whitelist[v]=h,placeholder:o.$t("sys.config.placeholder.service_unavailable.ip_whitelist"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(S,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:p[27]||(p[27]=h=>T())},{default:l(()=>[u(ue)]),_:1}),u(S,{type:"secondary",shape:"circle",onClick:h=>$(v)},{default:l(()=>[u(ae)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,e.value.action==="service_unavailable"]])),128)),(s(!0),P(G,null,I(e.value.general_api.ip_whitelist,(c,v)=>Y((s(),i(C,{key:v,field:`general_api.ip_whitelist[${v}]`,label:`${v+1}. `+o.$t("sys.config.label.general_api.ip_whitelist"),rules:[{required:!0,message:o.$t("sys.config.error.general_api.ip_whitelist.required")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[u(X,{modelValue:e.value.general_api.ip_whitelist[v],"onUpdate:modelValue":h=>e.value.general_api.ip_whitelist[v]=h,placeholder:o.$t("sys.config.placeholder.general_api.ip_whitelist"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),u(S,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:p[28]||(p[28]=h=>y())},{default:l(()=>[u(ue)]),_:1}),u(S,{type:"secondary",shape:"circle",onClick:h=>U(v)},{default:l(()=>[u(ae)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[Z,e.value.action==="general_api"]])),128))]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Oe=oe(pl,[["__scopeId","data-v-fcc5933b"]]),gl={class:"container"},ml={name:"SysConfig"},fl=te({...ml,setup(de){return(E,F)=>{const b=ze,V=Je,N=Qe,H=We,e=Xe,t=ie,z=ne,M=se;return s(),P("div",gl,[u(N,{class:"container-breadcrumb"},{default:l(()=>[u(V,null,{default:l(()=>[u(b)]),_:1}),u(V,null,{default:l(()=>[f(O(E.$t("menu.sys")),1)]),_:1}),u(V,null,{default:l(()=>[f(O(E.$t("menu.sys.config")),1)]),_:1})]),_:1}),u(z,{gutter:20,align:"stretch"},{default:l(()=>[u(t,{span:24},{default:l(()=>[u(M,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 14px"}},{default:l(()=>[u(z,{justify:"space-between"},{default:l(()=>[u(t,{span:24},{default:l(()=>[u(e,{"default-active-tab":0,type:"rounded"},{default:l(()=>[u(H,{key:"0",title:E.$t("sys.config.tab.title.all")},{default:l(()=>[u(He),u(Pe),u(Ne),u(Oe)]),_:1},8,["title"]),u(H,{key:"1",title:E.$t("sys.config.tab.title.global")},{default:l(()=>[u(He)]),_:1},8,["title"]),u(H,{key:"2",title:E.$t("sys.config.tab.title.general")},{default:l(()=>[u(Pe)]),_:1},8,["title"]),u(H,{key:"3",title:E.$t("sys.config.tab.title.task")},{default:l(()=>[u(Ne)]),_:1},8,["title"]),u(H,{key:"4",title:E.$t("sys.config.tab.title.api")},{default:l(()=>[u(Oe)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}});const ql=oe(fl,[["__scopeId","data-v-2861651e"]]);export{ql as default};
