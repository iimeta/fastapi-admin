import{i as x,_ as C}from"./index.0c5004d5.js";/* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css              */import{d as F,e as v,B as I,C as L,aH as r,aG as t,aL as p,aM as i,F as y,u as o,bT as u,aK as N,aF as S,b1 as T,b2 as j,bW as E,bO as G,aU as K,bi as M,b5 as O,bN as P,bR as W,g as z}from"./arco.ba78a5b2.js";import{u as A}from"./loading.0618e973.js";import{a as J,i as Q}from"./admin_reseller.30c409d3.js";import{h as X,f as Y}from"./vue.2736b3ca.js";import"./chart.df189e8a.js";const Z={class:"container"},ee={class:"wrapper"},ae={class:"submit-btn"},le={name:"ResellerUpdate"},re=F({...le,setup(te){const{proxy:w}=z(),{loading:$,setLoading:n}=A(!1),q=X(),h=Y(),_=v(),e=v({id:"",name:"",email:"",account:"",password:"",quota_expires_at:"",remark:"",status:1});(async(l={id:q.query.id})=>{n(!0);try{const{data:a}=await J(l);e.value.id=a.id,e.value.name=a.name,e.value.email=a.email,e.value.account=a.account,e.value.quota_expires_at=a.quota_expires_at,e.value.remark=a.remark,e.value.status=a.status}catch{}finally{n(!1)}})();const V=async()=>{var a;if(!await((a=_.value)==null?void 0:a.validate())){n(!0);try{await Q(e.value).then(()=>{w.$message.success("\u66F4\u65B0\u6210\u529F"),h.push({name:"ResellerList"})})}catch{}finally{n(!1)}}};return(l,a)=>{const b=x,c=N,g=S,m=T,d=j,k=E,D=G,f=K,R=M,B=O,U=P,H=W;return I(),L("div",Z,[r(g,{class:"container-breadcrumb"},{default:t(()=>[r(c,null,{default:t(()=>[r(b)]),_:1}),r(c,null,{default:t(()=>[p(i(l.$t("menu.sys")),1)]),_:1}),r(c,null,{default:t(()=>[p(i(l.$t("menu.reseller.update")),1)]),_:1})]),_:1}),r(H,{loading:o($),style:{width:"100%"}},{default:t(()=>[r(U,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:t(()=>[y("div",ee,[r(B,{ref_key:"formRef",ref:_,model:e.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:t(()=>[r(d,{field:"name",label:l.$t("reseller.label.name"),rules:[{required:!0,message:l.$t("reseller.error.name.required")},{match:/^.{1,30}$/,message:l.$t("reseller.error.name.pattern")}]},{default:t(()=>[r(m,{modelValue:e.value.name,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value.name=s),placeholder:l.$t("reseller.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),r(d,{field:"email",label:l.$t("reseller.label.email"),rules:[{required:!0,message:l.$t("reseller.error.email.required")}]},{default:t(()=>[r(m,{modelValue:e.value.email,"onUpdate:modelValue":a[1]||(a[1]=s=>e.value.email=s),placeholder:l.$t("reseller.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),r(d,{field:"account",label:l.$t("reseller.label.account"),rules:[{required:!0,message:l.$t("reseller.error.account.required")}]},{default:t(()=>[r(m,{modelValue:e.value.account,"onUpdate:modelValue":a[2]||(a[2]=s=>e.value.account=s),placeholder:l.$t("reseller.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),r(d,{field:"password",label:l.$t("reseller.label.password"),rules:[{match:/^.{6,}$/,message:l.$t("reseller.error.password.pattern")}]},{default:t(()=>[r(m,{modelValue:e.value.password,"onUpdate:modelValue":a[3]||(a[3]=s=>e.value.password=s),placeholder:l.$t("reseller.update.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),r(d,{field:"quota_expires_at",label:l.$t("reseller.label.quota_expires_at")},{default:t(()=>[r(k,{modelValue:e.value.quota_expires_at,"onUpdate:modelValue":a[4]||(a[4]=s=>e.value.quota_expires_at=s),placeholder:l.$t("reseller.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":s=>o(u)(s).isBefore(o(u)().subtract(1,"day")),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>o(u)(e.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>o(u)(e.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>o(u)(e.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>o(u)(e.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>o(u)(e.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>o(u)(e.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>o(u)(e.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),r(d,{field:"remark",label:l.$t("reseller.label.remark")},{default:t(()=>[r(D,{modelValue:e.value.remark,"onUpdate:modelValue":a[5]||(a[5]=s=>e.value.remark=s),placeholder:l.$t("reseller.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(R,null,{default:t(()=>[y("div",ae,[r(f,{type:"secondary",onClick:a[6]||(a[6]=s=>l.$router.push({name:"ResellerList"}))},{default:t(()=>[p(i(l.$t("button.cancel")),1)]),_:1}),r(f,{type:"primary",onClick:V},{default:t(()=>[p(i(l.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const we=C(re,[["__scopeId","data-v-62e64ed7"]]);export{we as default};
