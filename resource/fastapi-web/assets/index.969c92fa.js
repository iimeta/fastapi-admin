import{_ as k,w as A}from"./index.ff8851ab.js";/* empty css               *//* empty css                */import{d as w,e as b,B as c,aD as y,aG as t,aH as e,aL as i,aM as _,b1 as F,b2 as B,aS as T,bK as L,aU as I,b5 as M,C as U,aJ as D,aI as z,bB as K,bC as E,bi as N,bz as J,F as G,bs as H,aE as O,u as P,aK as j,aF as Q,bL as W,bM as X,bJ as Y,bN as Z}from"./arco.aed15247.js";import{u as q}from"./loading.b5911e1d.js";import{b as x}from"./agent.05c4975f.js";/* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css               */import{q as ee}from"./model.42b18730.js";/* empty css               */import"./chart.9aa6eafa.js";import"./vue.0cc5b64a.js";import"./base.87fcf6e2.js";const ae=w({__name:"base-info",emits:["changeStep"],setup(V,{emit:f}){const m=b(),a=b({name:"",base_url:"",path:"",weight:b(),remark:""}),p=async()=>{var l;await((l=m.value)==null?void 0:l.validate())||f("changeStep","forward",{...a.value})};return(n,l)=>{const o=F,r=B,d=T,u=L,h=I,g=M;return c(),y(g,{ref_key:"formRef",ref:m,model:a.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:t(()=>[e(r,{field:"name",label:n.$t("model.agent.label.name"),rules:[{required:!0,message:n.$t("model.agent.error.name.required")},{match:/^.{1,100}$/,message:n.$t("model.agent.error.name.pattern")}]},{default:t(()=>[e(o,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value.name=s),placeholder:n.$t("model.agent.placeholder.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(r,{field:"base_url",label:n.$t("model.agent.label.baseUrl"),rules:[{required:!0,message:n.$t("model.agent.error.baseUrl.required")}]},{default:t(()=>[e(o,{modelValue:a.value.base_url,"onUpdate:modelValue":l[1]||(l[1]=s=>a.value.base_url=s),placeholder:n.$t("model.agent.placeholder.baseUrl")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(r,{field:"path",label:n.$t("model.agent.label.path")},{default:t(()=>[e(o,{modelValue:a.value.path,"onUpdate:modelValue":l[2]||(l[2]=s=>a.value.path=s),placeholder:n.$t("model.agent.placeholder.path")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(r,{field:"weight",label:n.$t("model.agent.label.weight")},{default:t(()=>[e(d,{modelValue:a.value.weight,"onUpdate:modelValue":l[3]||(l[3]=s=>a.value.weight=s),precision:0,min:0,max:99999,placeholder:n.$t("model.agent.placeholder.weight")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(r,{field:"remark",label:n.$t("model.agent.label.remark")},{default:t(()=>[e(u,{modelValue:a.value.remark,"onUpdate:modelValue":l[4]||(l[4]=s=>a.value.remark=s),placeholder:n.$t("model.agent.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(r,null,{default:t(()=>[e(h,{type:"primary",onClick:p},{default:t(()=>[i(_(n.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const te=k(ae,[["__scopeId","data-v-9d8520a9"]]),le=w({__name:"advanced",emits:["changeStep"],setup(V,{emit:f}){const{setLoading:m}=q(!0),a=b([]);(async()=>{m(!0);try{const{data:d}=await ee();a.value=d.items}catch{}finally{m(!1)}})();const n=b(),l=b({models:[],key:""}),o=async()=>{var u;await((u=n.value)==null?void 0:u.validate())||f("changeStep","submit",{...l.value})},r=()=>{f("changeStep","backward")};return(d,u)=>{const h=K,g=E,s=B,S=L,$=I,C=N,R=M;return c(),y(R,{ref_key:"formRef",ref:n,model:l.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:t(()=>[e(s,{field:"models",label:d.$t("model.agent.label.models"),rules:[{required:!1}]},{default:t(()=>[e(g,{modelValue:l.value.models,"onUpdate:modelValue":u[0]||(u[0]=v=>l.value.models=v),placeholder:d.$t("model.agent.placeholder.models"),"max-tag-count":3,multiple:"","allow-clear":""},{default:t(()=>[(c(!0),U(D,null,z(a.value,v=>(c(),y(h,{key:v.id,value:v.id,label:v.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(s,{field:"key",label:d.$t("model.agent.label.key")},{default:t(()=>[e(S,{modelValue:l.value.key,"onUpdate:modelValue":u[1]||(u[1]=v=>l.value.key=v),placeholder:d.$t("model.agent.placeholder.key"),"auto-size":{minRows:5,maxRows:10}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(s,null,{default:t(()=>[e(C,null,{default:t(()=>[e($,{type:"secondary",onClick:r},{default:t(()=>[i(_(d.$t("model.agent.button.prev")),1)]),_:1}),e($,{type:"primary",onClick:o},{default:t(()=>[i(_(d.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const oe=k(le,[["__scopeId","data-v-2d114138"]]),ne={class:"success-wrap"},se=w({__name:"success",emits:["changeStep"],setup(V,{emit:f}){const m=()=>{f("changeStep",1)};return(a,p)=>{const n=J,l=I,o=N;return c(),U("div",ne,[e(n,{status:"success",title:a.$t("model.agent.success.title"),subtitle:a.$t("model.agent.success.create.subTitle")},null,8,["title","subtitle"]),e(o,{size:16},{default:t(()=>[e(l,{key:"finish",type:"secondary",onClick:p[0]||(p[0]=r=>a.$router.push({name:"ModelAgentList"}))},{default:t(()=>[i(_(a.$t("model.agent.button.finish")),1)]),_:1}),e(l,{key:"again",type:"primary",onClick:m},{default:t(()=>[i(_(a.$t("model.agent.button.again")),1)]),_:1})]),_:1})])}}});const re=k(se,[["__scopeId","data-v-f97cbe3c"]]),de={class:"container"},ue={class:"wrapper"},me={name:"ModelAgentCreate"},pe=w({...me,setup(V){const{loading:f,setLoading:m}=q(!1),a=b(1),p=b({}),n=async()=>{m(!0);try{await x(p.value),a.value=3,p.value={}}catch{}finally{m(!1)}},l=(o,r)=>{if(typeof o=="number"){a.value=o;return}if(o==="forward"||o==="submit"){if(p.value={...p.value,...r},o==="submit"){n();return}a.value+=1}else o==="backward"&&(a.value-=1)};return(o,r)=>{const d=A,u=j,h=Q,g=W,s=X,S=Y,$=Z;return c(),U("div",de,[e(h,{class:"container-breadcrumb"},{default:t(()=>[e(u,null,{default:t(()=>[e(d)]),_:1}),e(u,null,{default:t(()=>[i(_(o.$t("menu.agent")),1)]),_:1}),e(u,null,{default:t(()=>[i(_(o.$t("menu.model.agent.create")),1)]),_:1})]),_:1}),e($,{loading:P(f),style:{width:"100%"}},{default:t(()=>[e(S,{class:"general-card",bordered:!1},{default:t(()=>[G("div",ue,[e(s,{current:a.value,"onUpdate:current":r[0]||(r[0]=C=>a.value=C),style:{width:"660px"},"line-less":"",class:"steps"},{default:t(()=>[e(g,{description:o.$t("model.agent.subTitle.baseInfo")},{default:t(()=>[i(_(o.$t("model.agent.title.baseInfo")),1)]),_:1},8,["description"]),e(g,{description:o.$t("model.agent.subTitle.advanced")},{default:t(()=>[i(_(o.$t("model.agent.title.advanced")),1)]),_:1},8,["description"]),e(g,{description:o.$t("model.agent.subTitle.create.finish")},{default:t(()=>[i(_(o.$t("model.agent.title.create.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(c(),y(H,null,[a.value===1?(c(),y(te,{key:0,onChangeStep:l})):a.value===2?(c(),y(oe,{key:1,onChangeStep:l})):a.value===3?(c(),y(re,{key:2,onChangeStep:l})):O("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const Le=k(pe,[["__scopeId","data-v-6f5eb823"]]);export{Le as default};
