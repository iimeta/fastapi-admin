import{u as pe,F as Xe,s as Ye,A as Ze,k as et,B as tt,_ as at}from"./index.75dba14e.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as _e,e as v,B as n,C as r,aH as e,aG as t,u as s,aD as f,aM as i,aL as y,bA as lt,bB as ot,bC as nt,bD as ut,bE as st,r as ce,c as W,w as me,aJ as N,aI as U,D as x,E as it,g as dt,n as rt,aK as ct,aF as mt,bF as pt,bG as _t,b2 as yt,bH as vt,b1 as ft,bI as kt,b5 as bt,bJ as gt,ab as ht,aU as wt,bi as Ct,bj as $t,bk as Et,bl as Dt,b4 as Ft,bK as xt,ad as Bt,aT as Vt,bL as It,bM as At,aV as St,a_ as zt,bN as qt}from"./arco.241c8905.js";import{h as Lt,u as Nt}from"./vue.02ada051.js";import{u as ye}from"./loading.09e1934c.js";import{c as X,S as Ut}from"./sortable.esm.92d6ff5b.js";import{q as ve,a as Kt,s as Mt,b as Pt,c as Ot}from"./key.6734ccf2.js";import{q as Tt}from"./model.8c087d7a.js";import{f as Ht}from"./agent.255a9cc2.js";import{q as jt}from"./provider.a7333c06.js";import{M as Rt}from"./models.bf2d00c0.js";import{Q as fe}from"./quota.b26100c6.js";/* empty css                *//* empty css                */import"./chart.31a39ec4.js";import"./common.af12dbbc.js";const Gt={style:{margin:"10px 0 30px 10px"}},Jt={key:1},Qt={key:1},Wt={key:1},Xt={key:1},Yt={key:1},Zt={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ea={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ta={key:1},aa={key:1},la={key:1},oa={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},na={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},ua={key:1},sa={key:1},ia={name:"KeyDetail"},da=_e({...ia,props:{id:{type:String,default:""}},setup(Y){const O=Y,{t:d}=pe(),{loading:_,setLoading:k}=ye(!0),c=v({});return(async(B={id:O.id})=>{k(!0);try{const{data:I}=await ve(B);c.value=I}catch{}finally{k(!1)}})(),(B,I)=>{const u=lt,m=ot,b=nt,A=ut,D=st;return n(),r("div",Gt,[e(D,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:t(()=>[e(b,{label:s(d)("common.key"),span:2},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",Jt,i(c.value.key),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.provider")},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",Qt,i(c.value.provider_name),1))]),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.used_quota")},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",Wt,[e(fe,{"model-value":c.value.used_quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(b,{label:s(d)("model.agent.detail.label.weight")},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",Xt,i(c.value.weight||0),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.status")},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",Yt,[c.value.status===1?(n(),f(A,{key:0,color:"green"},{default:t(()=>[y(i(B.$t(`dict.status.${c.value.status}`)),1)]),_:1})):(n(),f(A,{key:1,color:"red"},{default:t(()=>[y(i(B.$t(`dict.status.${c.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.bind.models"),span:2},{default:t(()=>{var p,g;return[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",Zt,i(((g=(p=c.value)==null?void 0:p.model_names)==null?void 0:g.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.model_agent_names"),span:2},{default:t(()=>{var p,g;return[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",ea,i(((g=(p=c.value)==null?void 0:p.model_agent_names)==null?void 0:g.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.is_agents_only")},{default:t(()=>{var p;return[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",ta,i(s(d)(`dict.${((p=c.value)==null?void 0:p.is_agents_only)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.is_never_disable")},{default:t(()=>{var p;return[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",aa,i(s(d)(`dict.${((p=c.value)==null?void 0:p.is_never_disable)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.is_auto_disabled")},{default:t(()=>{var p;return[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",la,i(s(d)(`dict.${((p=c.value)==null?void 0:p.is_auto_disabled)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.auto_disabled_reason")},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",oa,i(c.value.auto_disabled_reason||"-"),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.remark"),span:2},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",na,i(c.value.remark||"-"),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.created_at")},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",ua,i(c.value.created_at),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.updated_at")},{default:t(()=>[s(_)?(n(),f(m,{key:0,animation:!0},{default:t(()=>[e(u,{rows:1})]),_:1})):(n(),r("span",sa,i(c.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),ra={class:"container"},ca={class:"action-icon"},ma={class:"action-icon"},pa={id:"tableSetting"},_a={style:{"margin-right":"4px",cursor:"move"}},ya={class:"title"},va={key:0},fa={key:1},ka={name:"KeyList"},ba=_e({...ka,setup(Y){const{loading:O,setLoading:d}=ye(!0),{proxy:_}=dt(),{t:k}=pe(),c=Lt(),Z=ce({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),B=()=>({type:2,provider_id:"",key:"",models:[],model_agents:v(),quota:v(),status:v(),remark:""}),I=v([]),u=v(B()),m=v([]),b=v([]),A=v("medium"),D=v([]),p=v(!0),g=v(!0),T=v(),S={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},V=ce({...S}),ke=W(()=>[{name:k("size.mini"),value:"mini"},{name:k("size.small"),value:"small"},{name:k("size.medium"),value:"medium"},{name:k("size.large"),value:"large"}]),be=W(()=>[{title:k("key.columns.provider"),dataIndex:"provider_name",slotName:"provider_name",align:"center",width:120},{title:k("key.columns.key"),dataIndex:"key",slotName:"key",align:"center",width:230},{title:k("key.columns.models"),dataIndex:"models",slotName:"models",align:"center",ellipsis:!0,tooltip:!0},{title:k("key.columns.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:k("key.columns.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:k("common.weight"),dataIndex:"weight",slotName:"weight",align:"center",width:60},{title:k("key.columns.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:k("key.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:k("key.columns.updated_at"),dataIndex:"updated_at",slotName:"updated_at",align:"center",width:132},{title:k("key.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),ge=W(()=>[{label:k("key.dict.status.1"),value:1},{label:k("key.dict.status.2"),value:2}]),ee=new Array(0);c.query.agent_id&&(ee[0]=c.query.agent_id);const K=async(a={...S,type:2,model_agents:ee})=>{d(!0);try{const{data:o}=await Kt(a);I.value=o.items,V.current=a.current,V.pageSize=a.pageSize,V.total=o.paging.total,o.items.length>0&&(u.value.provider_id||u.value.key||u.value.models.length>0||u.value.model_agents||u.value.status||u.value.remark)?g.value=!1:g.value=!0}catch{}finally{d(!1),T.value.selectAll(!1)}};K();const z=()=>{K({...S,...u.value})},he=a=>{K({...S,...u.value,current:a})},we=a=>{S.pageSize=a,K({...S,...u.value})},Ce=()=>{u.value=B(),z()},$e=(a,o)=>{A.value=a},Ee=(a,o,C)=>{a?m.value.splice(C,0,o):m.value=b.value.filter($=>$.dataIndex!==o.dataIndex)},te=(a,o,C,$=!1)=>{const F=$?X(a):a;return o>-1&&C>-1&&F.splice(o,1,F.splice(C,1,F[o]).pop()),F},De=a=>{a&&rt(()=>{const o=document.getElementById("tableSetting");new Ut(o,{onEnd(C){const{oldIndex:$,newIndex:F}=C;te(m.value,$,F),te(b.value,$,F)}})})};me(()=>be.value,a=>{m.value=X(a),m.value.forEach((o,C)=>{o.checked=!0}),b.value=X(m.value)},{deep:!0,immediate:!0});const ae=v([]);(async()=>{d(!0);try{const{data:a}=await jt();ae.value=a.items}catch{}finally{d(!1)}})();const le=v([]);(async()=>{try{const{data:a}=await Tt();le.value=a.items}catch{}})();const oe=v([]);(async()=>{try{const{data:a}=await Ht();oe.value=a.items;const o=new Array(0);c.query.agent_id&&(o[0]=c.query.agent_id,u.value.model_agents=o)}catch{}})();const Fe=async a=>{d(!0);try{await Mt(a),_.$message.success("\u5220\u9664\u6210\u529F"),z()}catch{}finally{d(!1)}},xe=async a=>{d(!0);try{await Pt(a),_.$message.success("\u64CD\u4F5C\u6210\u529F"),z()}catch{}finally{d(!1)}},Be=a=>{D.value=a,p.value=!a.length},q=a=>{if(g.value&&D.value.length===0)_.$message.info("\u8BF7\u9009\u62E9\u6216\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let o=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;switch(a.action){case"status":a.value===1?o=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`:o=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;break;case"delete":o=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;break;case"all-status":a.value===1?o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u542F\u7528\u67E5\u8BE2\u7ED3\u679C\u7684${V.total}\u6761\u6570\u636E?`:o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u7981\u7528\u67E5\u8BE2\u7ED3\u679C\u7684${V.total}\u6761\u6570\u636E?`;break;case"all-delete":o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u5220\u9664\u67E5\u8BE2\u7ED3\u679C\u7684${V.total}\u6761\u6570\u636E?`;break}_.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:o,hideCancel:!1,onOk:()=>{d(!0),a.ids=D.value,Ot({...a,...u.value}).then(C=>{d(!1),_.$message.success("\u64CD\u4F5C\u6210\u529F, \u4EFB\u52A1\u5DF2\u63D0\u4EA4"),z(),T.value.selectAll(!1)})}})}},{copy:Ve,copied:ne}=Nt(),Ie=async a=>{const{data:o}=await ve({id:a});Ve(o.key)};me(ne,()=>{ne.value&&_.$message.success("\u590D\u5236\u6210\u529F")});const H=v(!1),M=v(),Ae=a=>{H.value=!0,M.value=a},Se=()=>{H.value=!1},j=v(!1),ue=v(),ze=a=>{j.value=!0,M.value=a,ue.value="key"};return(a,o)=>{const C=Xe,$=ct,F=mt,R=pt,P=_t,L=yt,E=vt,se=ft,G=kt,qe=bt,ie=gt,Le=ht,h=wt,de=Ye,re=Ct,J=$t,Ne=Ze,Ue=Et,Ke=Dt,Me=et,Pe=tt,Oe=Ft,Te=xt,He=Bt,je=Vt,Re=It,Ge=At,Je=St,Qe=zt,We=qt;return n(),r("div",ra,[e(F,{class:"container-breadcrumb"},{default:t(()=>[e($,null,{default:t(()=>[e(C)]),_:1}),e($,null,{default:t(()=>[y(i(a.$t("menu.key")),1)]),_:1}),e($,null,{default:t(()=>[y(i(a.$t("menu.key.model.list")),1)]),_:1})]),_:1}),e(We,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:t(()=>[e(G,null,{default:t(()=>[e(E,{flex:1},{default:t(()=>[e(qe,{model:u.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:t(()=>[e(G,{gutter:16},{default:t(()=>[e(E,{span:8},{default:t(()=>[e(L,{field:"provider_id",label:a.$t("key.form.provider")},{default:t(()=>[e(P,{modelValue:u.value.provider_id,"onUpdate:modelValue":o[0]||(o[0]=l=>u.value.provider_id=l),placeholder:a.$t("key.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:t(()=>[(n(!0),r(N,null,U(ae.value,l=>(n(),f(R,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:7},{default:t(()=>[e(L,{field:"key",label:a.$t("key.form.key")},{default:t(()=>[e(se,{modelValue:u.value.key,"onUpdate:modelValue":o[1]||(o[1]=l=>u.value.key=l),placeholder:a.$t("key.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:9},{default:t(()=>[e(L,{field:"models",label:a.$t("key.form.models")},{default:t(()=>[e(P,{modelValue:u.value.models,"onUpdate:modelValue":o[2]||(o[2]=l=>u.value.models=l),placeholder:a.$t("key.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:t(()=>[(n(!0),r(N,null,U(le.value,l=>(n(),f(R,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:8},{default:t(()=>[e(L,{field:"model_agents",label:a.$t("key.form.modelAgents")},{default:t(()=>[e(P,{modelValue:u.value.model_agents,"onUpdate:modelValue":o[3]||(o[3]=l=>u.value.model_agents=l),placeholder:a.$t("key.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:t(()=>[(n(!0),r(N,null,U(oe.value,l=>(n(),f(R,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:7},{default:t(()=>[e(L,{field:"status",label:a.$t("key.form.status")},{default:t(()=>[e(P,{modelValue:u.value.status,"onUpdate:modelValue":o[4]||(o[4]=l=>u.value.status=l),placeholder:a.$t("key.form.selectDefault"),options:s(ge),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(E,{span:9},{default:t(()=>[e(L,{field:"remark",label:a.$t("key.form.remark")},{default:t(()=>[e(se,{modelValue:u.value.remark,"onUpdate:modelValue":o[5]||(o[5]=l=>u.value.remark=l),placeholder:a.$t("key.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(ie,{style:{height:"84px"},direction:"vertical"}),e(E,{flex:"86px",style:{"text-align":"right"}},{default:t(()=>[e(re,{direction:"vertical",size:18},{default:t(()=>[e(h,{type:"primary",onClick:z},{icon:t(()=>[e(Le)]),default:t(()=>[y(" "+i(a.$t("key.form.search")),1)]),_:1}),e(h,{onClick:Ce},{icon:t(()=>[e(de)]),default:t(()=>[y(" "+i(a.$t("key.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ie,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(G,{style:{"margin-bottom":"16px"}},{default:t(()=>[e(E,{span:12},{default:t(()=>[e(re,null,{default:t(()=>[e(h,{type:"primary",onClick:o[6]||(o[6]=l=>a.$router.push({name:"KeyCreate"}))},{default:t(()=>[y(i(a.$t("key.operation.create")),1)]),_:1}),e(h,{type:"primary",status:"success",disabled:p.value,title:p.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[7]||(o[7]=l=>q({action:"status",value:1}))},{default:t(()=>[y(" \u542F\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:p.value,title:p.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[8]||(o[8]=l=>q({action:"status",value:2}))},{default:t(()=>[y(" \u7981\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:p.value,title:p.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[9]||(o[9]=l=>q({action:"delete"}))},{default:t(()=>[y(" \u5220\u9664 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"success",disabled:g.value,title:g.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[10]||(o[10]=l=>q({action:"all-status",value:1}))},{default:t(()=>[y(" \u5168\u90E8\u542F\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:g.value,title:g.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[11]||(o[11]=l=>q({action:"all-status",value:2}))},{default:t(()=>[y(" \u5168\u90E8\u7981\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:g.value,title:g.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[12]||(o[12]=l=>q({action:"all-delete"}))},{default:t(()=>[y(" \u5168\u90E8\u5220\u9664 ")]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(E,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:t(()=>[e(J,{content:a.$t("actions.refresh")},{default:t(()=>[x("div",{class:"action-icon",onClick:z},[e(de,{size:"18"})])]),_:1},8,["content"]),e(Ke,{onSelect:$e},{content:t(()=>[(n(!0),r(N,null,U(s(ke),l=>(n(),f(Ue,{key:l.value,value:l.value,class:it({active:l.value===A.value})},{default:t(()=>[x("span",null,i(l.name),1)]),_:2},1032,["value","class"]))),128))]),default:t(()=>[e(J,{content:a.$t("actions.density")},{default:t(()=>[x("div",ca,[e(Ne,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(J,{content:a.$t("actions.column_setting")},{default:t(()=>[e(Te,{trigger:"click",position:"bl",onPopupVisibleChange:De},{content:t(()=>[x("div",pa,[(n(!0),r(N,null,U(b.value,(l,w)=>(n(),r("div",{key:l.dataIndex,class:"setting"},[x("div",_a,[e(Pe)]),x("div",null,[e(Oe,{modelValue:l.checked,"onUpdate:modelValue":Q=>l.checked=Q,onChange:Q=>Ee(Q,l,w)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),x("div",ya,i(l.title==="#"?"\u5E8F\u5217\u53F7":l.title),1)]))),128))])]),default:t(()=>[x("div",ma,[e(Me,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(Ge,{ref_key:"tableRef",ref:T,"row-key":"id",loading:s(O),pagination:V,columns:m.value,data:I.value,bordered:!1,size:A.value,"row-selection":Z,onPageChange:he,onPageSizeChange:we,onSelectionChange:Be},{key:t(({record:l})=>[y(i(l.key.length>11?l.key.substr(0,10)+l.key.substr(-10):l.key)+" ",1),e(He,{class:"copy-btn",onClick:w=>Ie(l.id)},null,8,["onClick"])]),models:t(({record:l})=>[l.models?(n(),r("span",va,[e(h,{type:"text",size:"small",onClick:w=>ze(l.id)},{default:t(()=>[y(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(n(),r("span",fa,i("-")))]),model_agent_names:t(({record:l})=>{var w;return[y(i(((w=l==null?void 0:l.model_agent_names)==null?void 0:w.join(","))||"-"),1)]}),used_quota:t(({record:l})=>[e(fe,{"model-value":l.used_quota},null,8,["model-value"])]),weight:t(({record:l})=>[y(i(l.weight||0),1)]),remark:t(({record:l})=>[y(i(l.remark||"-"),1)]),status:t(({record:l})=>[e(je,{modelValue:l.status,"onUpdate:modelValue":w=>l.status=w,"checked-value":1,"unchecked-value":2,onChange:w=>xe({id:l.id,status:l.status})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:t(({record:l})=>[e(h,{type:"text",size:"small",onClick:w=>Ae(l.id)},{default:t(()=>[y(i(a.$t("key.columns.operations.view")),1)]),_:2},1032,["onClick"]),e(h,{type:"text",size:"small",onClick:w=>a.$router.push({name:"KeyUpdate",query:{id:l.id}})},{default:t(()=>[y(i(a.$t("key.columns.operations.update")),1)]),_:2},1032,["onClick"]),e(Re,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:w=>Fe({id:l.id})},{default:t(()=>[e(h,{type:"text",size:"small"},{default:t(()=>[y(i(a.$t("key.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(Je,{title:a.$t("menu.key.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:H.value,onCancel:Se},{default:t(()=>[e(da,{id:M.value},null,8,["id"])]),_:1},8,["title","visible"]),e(Qe,{visible:j.value,"onUpdate:visible":o[13]||(o[13]=l=>j.value=l),title:"\u6A21\u578B","modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"1080px","ok-text":"\u5173\u95ED"},{default:t(()=>[e(Rt,{id:M.value,action:ue.value},null,8,["id","action"])]),_:1},8,["visible"])]),_:1})])}}});const Ya=at(ba,[["__scopeId","data-v-24ddeb78"]]);export{Ya as default};
