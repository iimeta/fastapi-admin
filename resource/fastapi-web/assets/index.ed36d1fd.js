import{u as I,O as L,_ as F}from"./index.9568ffd6.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{d as R,e as $,B as S,C as M,aH as t,aG as o,aL as n,aM as u,u as y,D as U,aZ as q,aK as h,aF as z,b1 as E,b2 as G,b4 as H,bi as K,bS as O,aU as Z,b5 as j,bT as A,bU as J}from"./arco.3f46b4ae.js";import{f as P,h as Q}from"./vue.dbcf9bc3.js";import{u as W}from"./loading.37fd256d.js";import{a as X,e as Y,f as x}from"./notice_template.34a025bc.js";import{V as ee}from"./vditor.1f53946b.js";import"./chart.2cea905d.js";/* empty css                */const ae={class:"container"},le={class:"wrapper"},te={class:"submit-btn"},se={name:"NoticeTemplateUpdate"},oe=R({...se,setup(ne){const{t:p}=I(),{loading:w,setLoading:m}=W(!1),f=P(),r=Q(),v=$(),a=$({id:"",name:"",scenes:[],title:"",content:"",channels:[],is_popup:!1,is_public:!0,remark:"",status:1});(async(s={id:r.query.id})=>{m(!0);try{const{data:e}=await X(s);a.value.id=e.id,a.value.name=e.name,a.value.scenes=e.scenes,a.value.title=e.title,a.value.content=e.content,a.value.channels=e.channels,a.value.is_popup=e.is_popup,a.value.is_public=e.is_public,a.value.remark=e.remark,a.value.status=e.status}catch{}finally{m(!1)}})();const k=async()=>{var e;if(!await((e=v.value)==null?void 0:e.validate())){m(!0);try{r.query.action?await Y(a.value).then(()=>{q.success(p("success.create")),f.push({name:"NoticeTemplateList"})}):await x(a.value).then(()=>{q.success(p("success.update")),f.push({name:"NoticeTemplateList"})})}catch{}finally{m(!1)}}};return(s,e)=>{const V=L,c=h,N=z,_=E,i=G,d=H,b=K,T=O,g=Z,C=j,B=A,D=J;return S(),M("div",ae,[t(N,{class:"container-breadcrumb"},{default:o(()=>[t(c,null,{default:o(()=>[t(V)]),_:1}),t(c,null,{default:o(()=>[n(u(s.$t("notice.menu")),1)]),_:1}),t(c,null,{default:o(()=>[n(u(s.$t(y(r).query.action?"notice.template.menu.create":"notice.template.menu.update")),1)]),_:1})]),_:1}),t(D,{loading:y(w),style:{width:"100%"}},{default:o(()=>[t(B,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:o(()=>[U("div",le,[t(C,{ref_key:"formRef",ref:v,model:a.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:18}},{default:o(()=>[t(i,{field:"name",label:s.$t("notice.template.label.name"),rules:[{required:!0,message:s.$t("notice.template.placeholder.name")}]},{default:o(()=>[t(_,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l),placeholder:s.$t("notice.template.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,{field:"scenes",label:s.$t("notice.template.label.scenes"),rules:[{required:!0,message:s.$t("notice.template.error.required.scenes")}]},{default:o(()=>[t(b,{size:"small",wrap:""},{default:o(()=>[t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.scenes=l),value:"code",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.code")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.scenes=l),value:"register",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.register")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.scenes=l),value:"login",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.login")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.scenes=l),value:"forget_password",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.forget_password")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.scenes=l),value:"change_password",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.change_password")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.scenes=l),value:"change_email",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.change_email")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.scenes=l),value:"quota_recharge",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_recharge")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.scenes=l),value:"quota_warning",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_warning")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.scenes=l),value:"quota_exhaustion",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_exhaustion")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.scenes=l),value:"quota_expire_warning",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_expire_warning")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.scenes=l),value:"quota_expire",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_expire")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.scenes=l),value:"notice",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.notice")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.scenes=l),value:"notice_register",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.notice_register")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[14]||(e[14]=l=>a.value.scenes=l),value:"notice_login",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.notice_login")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),t(i,{field:"title",label:s.$t("notice.template.label.title"),rules:[{required:!0,message:s.$t("notice.template.placeholder.title")}]},{default:o(()=>[t(_,{modelValue:a.value.title,"onUpdate:modelValue":e[15]||(e[15]=l=>a.value.title=l),placeholder:s.$t("notice.template.placeholder.title"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(i,{field:"content",label:s.$t("notice.template.label.content"),rules:[{required:!0,message:s.$t("notice.template.placeholder.content")}]},{default:o(()=>[t(ee,{modelValue:a.value.content,"onUpdate:modelValue":e[16]||(e[16]=l=>a.value.content=l),style:{flex:"1"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(i,{field:"remark",label:s.$t("common.remark")},{default:o(()=>[t(T,{modelValue:a.value.remark,"onUpdate:modelValue":e[17]||(e[17]=l=>a.value.remark=l),placeholder:s.$t("placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(b,null,{default:o(()=>[U("div",te,[t(g,{type:"secondary",onClick:e[18]||(e[18]=l=>s.$router.push({name:"NoticeTemplateList"}))},{default:o(()=>[n(u(s.$t("button.cancel")),1)]),_:1}),t(g,{type:"primary",onClick:k},{default:o(()=>[n(u(s.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const ye=F(oe,[["__scopeId","data-v-838c045a"]]);export{ye as default};
