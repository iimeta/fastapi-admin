import{u as ua,b as na,k as sa,s as da,A as ia,B as ra,_ as _a}from"./index.dcc2ae0d.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as Ce,e as q,B as u,C as y,aH as e,aG as a,u as d,aD as f,aM as s,aE as ne,aL as b,bA as ca,bB as pa,bC as ma,bD as va,bE as fa,r as ke,c as te,w as ba,D as A,aJ as $e,aI as qe,E as ya,n as ga,aZ as Q,a_ as oe,aK as ha,aF as ka,aS as $a,b2 as qa,bG as wa,b1 as Va,bI as Ca,bJ as Da,bK as Sa,b5 as Ua,bL as Ra,ab as za,aU as xa,bi as Ha,bj as Ba,bk as Ia,bl as Na,b4 as Aa,bM as Ta,bS as Pa,aT as La,bO as Oa,aV as Ea,bQ as Qa,bR as Fa,bU as Ma}from"./arco.73de4031.js";import{u as De}from"./loading.0c20cf1b.js";import{d as we,a as D,p as ja,b as Ve}from"./common.0ef165cd.js";import{a as Ga,b as Ja,s as Ka,c as Za,d as Wa,e as Xa,f as Ya}from"./admin_reseller.e0eee740.js";import{c as ue,S as el}from"./sortable.esm.7de80f5d.js";import{Q as h}from"./quota.c27a0128.js";/* empty css                *//* empty css                */import"./chart.b5ad42b0.js";import"./vue.e54f3d1e.js";const al={style:{margin:"10px 0 0 10px"}},ll={key:1},tl={key:1},ol={key:1},ul={key:1},nl={key:1},sl={key:1},dl={key:1},il={key:1},rl={key:1},_l={key:1},cl={key:1},pl={key:1},ml={key:1},vl={key:1},fl={key:1},bl={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},yl={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},gl={key:1},hl={key:1},kl={key:1},$l={key:1},ql={key:1},wl={key:1},Vl={name:"ResellerDetail"},Cl=Ce({...Vl,props:{id:{type:String,default:""}},setup(se){const Z=se,{loading:r,setLoading:n}=De(!0),p=q({});return(async(_={id:Z.id})=>{n(!0);try{const{data:V}=await Ga(_);p.value=V}catch{}finally{n(!1)}})(),(_,V)=>{const i=ca,m=pa,v=ma,P=va,S=fa;return u(),y("div",al,[e(S,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:a(()=>[e(v,{label:_.$t("common.reseller_id")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",ll,s(p.value.user_id),1))]),_:1},8,["label"]),e(v,{label:_.$t("common.account")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",tl,s(p.value.account),1))]),_:1},8,["label"]),e(v,{label:_.$t("common.name")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",ol,s(p.value.name),1))]),_:1},8,["label"]),e(v,{label:_.$t("common.email")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",ul,s(p.value.email),1))]),_:1},8,["label"]),e(v,{label:_.$t("common.current_quota")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",nl,[e(h,{"model-value":p.value.quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(v,{label:_.$t("common.used_quota")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",sl,[e(h,{"model-value":p.value.used_quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.allocated_quota")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",dl,[e(h,{"model-value":p.value.allocated_quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.to_be_allocated_quota")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",il,[e(h,{"model-value":p.value.to_be_allocated_quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.label.quota_expires_at")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",rl,s(p.value.quota_expires_at||"-"),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.quota_warning")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",_l,s(_.$t(`dict.open.${p.value.quota_warning||p.value.warning_threshold===0&&p.value.expire_warning_threshold===0}`)),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.warning_threshold")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):ne("",!0),e(h,{"model-value":p.value.warning_threshold},null,8,["model-value"])]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.expire_warning_threshold")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",cl,s(p.value.expire_warning_threshold)+s(_.$t("unit.day")),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.warning_notice")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",pl,s(_.$t(`dict.notice.${p.value.warning_notice||!1}`)),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.expire_warning_notice")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",ml,s(_.$t(`dict.notice.${p.value.expire_warning_notice||!1}`)),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.exhaustion_notice")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",vl,s(_.$t(`dict.notice.${p.value.exhaustion_notice||!1}`)),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.expire_notice")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",fl,s(_.$t(`dict.notice.${p.value.expire_notice||!1}`)),1))]),_:1},8,["label"]),e(v,{label:_.$t("common.groups"),span:2},{default:a(()=>{var U,B;return[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",bl,s(((B=(U=p.value)==null?void 0:U.group_names)==null?void 0:B.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(v,{label:_.$t("common.remark"),span:2},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",yl,s(p.value.remark||"-"),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.login_ip")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",gl,s(p.value.login_ip||"-"),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.login_time")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",hl,s(p.value.login_time||"-"),1))]),_:1},8,["label"]),e(v,{label:_.$t("reseller.detail.login_domain")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",kl,s(p.value.login_domain||"-"),1))]),_:1},8,["label"]),e(v,{label:_.$t("common.status")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",$l,[p.value.status===1?(u(),f(P,{key:0,color:"green"},{default:a(()=>[b(s(_.$t(`dict.status.${p.value.status}`)),1)]),_:1})):(u(),f(P,{key:1,color:"red"},{default:a(()=>[b(s(_.$t(`dict.status.${p.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(v,{label:_.$t("common.created_at")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",ql,s(p.value.created_at),1))]),_:1},8,["label"]),e(v,{label:_.$t("common.updated_at")},{default:a(()=>[d(r)?(u(),f(m,{key:0,animation:!0},{default:a(()=>[e(i,{rows:1})]),_:1})):(u(),y("span",wl,s(p.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),Dl={class:"container"},Sl={class:"action-icon"},Ul={class:"action-icon"},Rl={id:"tableSetting"},zl={style:{"margin-right":"4px",cursor:"move"}},xl={class:"title"},Hl={name:"ResellerList"},Bl=Ce({...Hl,setup(se){const{loading:Z,setLoading:r}=De(!0),{t:n}=ua(),p=na(),de=ke({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),_=()=>({user_id:q(),name:"",account:"",quota:q(),status:q(),quota_expires_at:[]}),V=q([]),i=q(_()),m=q([]),v=q([]),P=q("medium"),S=q([]),U=q(!0),B=q(),L={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},j=ke({...L}),Se=te(()=>[{name:n("size.mini"),value:"mini"},{name:n("size.small"),value:"small"},{name:n("size.medium"),value:"medium"},{name:n("size.large"),value:"large"}]),Ue=te(()=>[{title:n("common.reseller_id"),dataIndex:"user_id",slotName:"user_id",align:"center",width:90},{title:n("common.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:n("common.account"),dataIndex:"account",slotName:"account",align:"center",ellipsis:!0,tooltip:!0},{title:n("common.current_quota"),dataIndex:"quota",slotName:"quota",align:"center",ellipsis:!0,tooltip:!0},{title:n("common.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:n("reseller.detail.allocated_quota"),dataIndex:"allocated_quota",slotName:"allocated_quota",align:"center",ellipsis:!0,tooltip:!0},{title:n("reseller.detail.to_be_allocated_quota"),dataIndex:"to_be_allocated_quota",slotName:"to_be_allocated_quota",align:"center",ellipsis:!0,tooltip:!0},{title:n("common.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:n("common.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:n("common.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:220}]),Re=te(()=>[{label:n("dict.status.1"),value:1},{label:n("dict.status.2"),value:2}]),G=async(l={...L})=>{r(!0);try{const{data:o}=await Ja(l);V.value=o.items,j.current=l.current,j.pageSize=l.pageSize,j.total=o.paging.total}catch{}finally{r(!1),B.value.selectAll(!1)}};G();const N=()=>{G({...L,...i.value})},ze=l=>{G({...L,...i.value,current:l})},xe=l=>{L.pageSize=l,G({...L,...i.value})},He=()=>{i.value=_(),N()},Be=(l,o)=>{P.value=l},Ie=(l,o,g)=>{l?m.value.splice(g,0,o):m.value=v.value.filter($=>$.dataIndex!==o.dataIndex)},ie=(l,o,g,$=!1)=>{const I=$?ue(l):l;return o>-1&&g>-1&&I.splice(o,1,I.splice(g,1,I[o]).pop()),I},Ne=l=>{l&&ga(()=>{const o=document.getElementById("tableSetting");new el(o,{onEnd(g){const{oldIndex:$,newIndex:I}=g;ie(m.value,$,I),ie(v.value,$,I)}})})};ba(()=>Ue.value,l=>{m.value=ue(l),m.value.forEach((o,g)=>{o.checked=!0}),v.value=ue(m.value)},{deep:!0,immediate:!0});const x=new Map;x.set(1,n("dict.del_data.1")),x.set(2,n("dict.del_data.2")),x.set(3,n("dict.del_data.3")),x.set(4,n("dict.del_data.4")),x.set(5,n("dict.del_data.5")),x.set(6,n("dict.del_data.6"));const Ae=async l=>{let o=`${n("reseller.placeholder.are_you_sure_delete")}: ${l.name}?`;if(l.data&&l.data.length>0){let g="";for(let $=0;$<l.data.length;$+=1)$===0?g=x.get(l.data[$]):g+=`\u3001${x.get(l.data[$])}`;o=`${n("reseller.placeholder.are_you_sure_delete")}: ${l.name} ${n("reseller.placeholder.and_also_delete")}: ${g}?`}oe.warning({title:n("modal.warning.title"),titleAlign:"center",content:o,okText:n("button.ok"),cancelText:n("button.cancel"),hideCancel:!1,onOk:()=>{r(!0),Ya(l).then(g=>{r(!1),Q.success(n("success.task")),N(),B.value.selectAll(!1)})}})},Te=async l=>{r(!0);try{await Ka(l),Q.success(n("success.operate")),N()}catch{}finally{r(!1)}},Pe=async l=>{r(!0);try{await Za(l),Q.success(n("success.operate")),N()}catch{}finally{r(!1)}},O=q(0),E=q(!1),F=q(!1),re=q(),c=q({}),_e=q(),k=q({}),Le=async l=>{r(!0);try{O.value=0,c.value.quota=q(),c.value.quota_type="1",c.value.user_id=l.user_id,c.value.quota_expires_at=l.quota_expires_at,c.value.is_send_notice=!0,B.value.selectAll(!1),E.value=!0}catch{}finally{r(!1)}},ce=l=>{c.value.quota=l},Oe=async l=>{var g;if(await((g=re.value)==null?void 0:g.validate())){E.value=!0,l(!1);return}if(S.value.length>0){l(),M({action:"recharge",value:c.value.quota,quota_type:c.value.quota_type,quota_expires_at:c.value.quota_expires_at,is_send_notice:c.value.is_send_notice});return}r(!0);try{await Wa(c.value),Q.success(n("success.recharge")),l(),N()}catch{}finally{r(!1)}},Ee=()=>{E.value=!1},W=q(!1),pe=q(),Qe=l=>{W.value=!0,pe.value=l},Fe=()=>{W.value=!1},Me=l=>{S.value=l,U.value=!l.length},M=l=>{if(S.value.length===0)Q.info(n("placeholder.operation.data"));else{let o=n("reseller.placeholder.batch.operation",{count:S.value.length});switch(l.action){case"recharge":l.value?c.value.quota_type==="2"?o=n("reseller.placeholder.batch.operation.deduct",{count:S.value.length,currencySymbol:p.getCurrencySymbol,quota:Ve(l.value)}):o=n("reseller.placeholder.batch.operation.quota_type",{count:S.value.length,quotaType:c.value.quota_type==="1"?n("finance.dict.deal_type.1"):n("finance.dict.deal_type.3"),currencySymbol:p.getCurrencySymbol,quota:Ve(l.value)}):(O.value=0,c.value.quota=q(),c.value.quota_type="1",c.value.quota_expires_at="",c.value.is_send_notice=!0,E.value=!0);break;case"status":l.value===1?o=n("reseller.placeholder.batch.operation.enable",{count:S.value.length}):o=n("reseller.placeholder.batch.operation.disable",{count:S.value.length});break;case"delete":if(o=n("reseller.placeholder.batch.operation.delete",{count:S.value.length}),l.data&&l.data.length>0){let g="";for(let $=0;$<l.data.length;$+=1)$===0?g=x.get(l.data[$]):g+=`\u3001${x.get(l.data[$])}`;o=n("reseller.placeholder.batch.operation.delete_data",{count:S.value.length,del_data:g})}break}if(l.action==="recharge"&&!l.value)return;oe.warning({title:n("modal.warning.title"),titleAlign:"center",content:o,okText:n("button.ok"),cancelText:n("button.cancel"),hideCancel:!1,onOk:()=>{r(!0),l.ids=S.value,Xa(l).then(g=>{r(!1),Q.success(n("success.operate")),N(),B.value.selectAll(!1)})}})}},me=async l=>{k.value=l,F.value=!0,l.action||B.value.selectAll(!1)},je=async l=>{var g;if(await((g=_e.value)==null?void 0:g.validate())){F.value=!0,l(!1);return}k.value.action?M({action:"delete",data:k.value.data}):Ae(k.value)},Ge=()=>{F.value=!1};return(l,o)=>{const g=sa,$=ha,I=ka,X=$a,C=qa,H=wa,J=Va,Je=Ca,Ke=Da,Y=Sa,ee=Ua,ve=Ra,Ze=za,R=xa,fe=da,K=Ha,ae=Ba,We=ia,Xe=Ia,Ye=Na,ea=ra,T=Aa,aa=Ta,be=Pa,ye=La,la=Oa,ta=Ea,w=Qa,ge=Fa,he=oe,oa=Ma;return u(),y("div",Dl,[e(I,{class:"container-breadcrumb"},{default:a(()=>[e($,null,{default:a(()=>[e(g)]),_:1}),e($,null,{default:a(()=>[b(s(l.$t("sys.menu")),1)]),_:1}),e($,null,{default:a(()=>[b(s(l.$t("reseller.menu")),1)]),_:1})]),_:1}),e(oa,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(Y,null,{default:a(()=>[e(H,{flex:1},{default:a(()=>[e(ee,{model:i.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(Y,{gutter:16},{default:a(()=>[e(H,{span:8},{default:a(()=>[e(C,{field:"user_id",label:l.$t("common.reseller_id")},{default:a(()=>[e(X,{modelValue:i.value.user_id,"onUpdate:modelValue":o[0]||(o[0]=t=>i.value.user_id=t),placeholder:l.$t("reseller.form.placeholder.reseller_id"),precision:0,min:1,max:9999999999999,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(H,{span:7},{default:a(()=>[e(C,{field:"account",label:l.$t("common.account")},{default:a(()=>[e(J,{modelValue:i.value.account,"onUpdate:modelValue":o[1]||(o[1]=t=>i.value.account=t),placeholder:l.$t("reseller.error.required.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(H,{span:9},{default:a(()=>[e(C,{field:"name",label:l.$t("reseller.form.name")},{default:a(()=>[e(J,{modelValue:i.value.name,"onUpdate:modelValue":o[2]||(o[2]=t=>i.value.name=t),placeholder:l.$t("reseller.form.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(H,{span:8},{default:a(()=>[e(C,{field:"quota",label:l.$t("reseller.form.quota")},{default:a(()=>[e(X,{modelValue:i.value.quota,"onUpdate:modelValue":o[3]||(o[3]=t=>i.value.quota=t),placeholder:l.$t("placeholder.quota"),min:1e-6,max:9999999999999,"allow-clear":""},{prefix:a(()=>[b(s(d(p).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder","min"])]),_:1},8,["label"])]),_:1}),e(H,{span:7},{default:a(()=>[e(C,{field:"status",label:l.$t("common.status")},{default:a(()=>[e(Je,{modelValue:i.value.status,"onUpdate:modelValue":o[4]||(o[4]=t=>i.value.status=t),placeholder:l.$t("common.all"),options:d(Re),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(H,{span:9},{default:a(()=>[e(C,{field:"quota_expires_at",label:l.$t("common.expires_at")},{default:a(()=>[e(Ke,{modelValue:i.value.quota_expires_at,"onUpdate:modelValue":o[5]||(o[5]=t=>i.value.quota_expires_at=t),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(ve,{style:{height:"84px"},direction:"vertical"}),e(H,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(K,{direction:"vertical",size:18},{default:a(()=>[e(R,{type:"primary",onClick:N},{icon:a(()=>[e(Ze)]),default:a(()=>[b(" "+s(l.$t("button.search")),1)]),_:1}),e(R,{onClick:He},{icon:a(()=>[e(fe)]),default:a(()=>[b(" "+s(l.$t("button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ve,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(Y,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(H,{span:12},{default:a(()=>[e(K,null,{default:a(()=>[e(R,{type:"primary",onClick:o[6]||(o[6]=t=>l.$router.push({name:"ResellerCreate"}))},{default:a(()=>[b(s(l.$t("button.create")),1)]),_:1}),e(R,{type:"primary",status:"warning",disabled:U.value,title:U.value?l.$t("placeholder.operation.data"):"",onClick:o[7]||(o[7]=t=>M({action:"recharge"}))},{default:a(()=>[b(s(l.$t("button.recharge")),1)]),_:1},8,["disabled","title"]),e(R,{type:"primary",status:"success",disabled:U.value,title:U.value?l.$t("placeholder.operation.data"):"",onClick:o[8]||(o[8]=t=>M({action:"status",value:1}))},{default:a(()=>[b(s(l.$t("button.enable")),1)]),_:1},8,["disabled","title"]),e(R,{type:"primary",status:"danger",disabled:U.value,title:U.value?l.$t("placeholder.operation.data"):"",onClick:o[9]||(o[9]=t=>M({action:"status",value:2}))},{default:a(()=>[b(s(l.$t("button.disable")),1)]),_:1},8,["disabled","title"]),e(R,{type:"primary",status:"danger",disabled:U.value,title:U.value?l.$t("placeholder.operation.data"):"",onClick:o[10]||(o[10]=t=>me({action:"delete",data:[1,2,3,4,5,6]}))},{default:a(()=>[b(s(l.$t("button.delete")),1)]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(H,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(ae,{content:l.$t("action.refresh")},{default:a(()=>[A("div",{class:"action-icon",onClick:N},[e(fe,{size:"18"})])]),_:1},8,["content"]),e(Ye,{onSelect:Be},{content:a(()=>[(u(!0),y($e,null,qe(d(Se),t=>(u(),f(Xe,{key:t.value,value:t.value,class:ya({active:t.value===P.value})},{default:a(()=>[A("span",null,s(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(ae,{content:l.$t("action.density")},{default:a(()=>[A("div",Sl,[e(We,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(ae,{content:l.$t("action.column_setting")},{default:a(()=>[e(aa,{trigger:"click",position:"bl",onPopupVisibleChange:Ne},{content:a(()=>[A("div",Rl,[(u(!0),y($e,null,qe(v.value,(t,z)=>(u(),y("div",{key:t.dataIndex,class:"setting"},[A("div",zl,[e(ea)]),A("div",null,[e(T,{modelValue:t.checked,"onUpdate:modelValue":le=>t.checked=le,onChange:le=>Ie(le,t,z)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),A("div",xl,s(t.title),1)]))),128))])]),default:a(()=>[A("div",Ul,[e(g,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(la,{ref_key:"tableRef",ref:B,"row-key":"id",loading:d(Z),pagination:j,columns:m.value,data:V.value,bordered:!1,size:P.value,"row-selection":de,onPageChange:ze,onPageSizeChange:xe,onSelectionChange:Me},{quota:a(({record:t})=>[e(h,{"model-value":t.quota},null,8,["model-value"])]),used_quota:a(({record:t})=>[e(h,{"model-value":t.used_quota},null,8,["model-value"])]),allocated_quota:a(({record:t})=>[e(h,{"model-value":t.allocated_quota},null,8,["model-value"])]),to_be_allocated_quota:a(({record:t})=>[e(h,{"model-value":t.to_be_allocated_quota},null,8,["model-value"])]),quota_expires_at:a(({rowIndex:t})=>[e(be,{modelValue:V.value[t].quota_expires_at,"onUpdate:modelValue":z=>V.value[t].quota_expires_at=z,placeholder:l.$t("reseller.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":d(we),"show-time":"",shortcuts:[{label:"1",value:()=>d(D)(V.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>d(D)(V.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>d(D)(V.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>d(D)(V.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>d(D)(V.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>d(D)(V.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>d(D)(V.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}],onChange:z=>Te({id:V.value[t].id,quota_expires_at:V.value[t].quota_expires_at})},{default:a(()=>[e(R,{style:{width:"150px"}},{default:a(()=>[b(s(V.value[t].quota_expires_at||l.$t("reseller.placeholder.quota_expires_at")),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled-date","shortcuts","onChange"])]),remark:a(({record:t})=>[b(s(t.remark||"-"),1)]),status:a(({record:t})=>[e(ye,{modelValue:t.status,"onUpdate:modelValue":z=>t.status=z,"checked-value":1,"unchecked-value":2,onChange:z=>Pe({id:t.id,status:t.status})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:a(({record:t})=>[e(R,{type:"text",size:"small",onClick:z=>Le({user_id:t.user_id,quota_expires_at:t.quota_expires_at})},{default:a(()=>[b(s(l.$t("button.recharge")),1)]),_:2},1032,["onClick"]),e(R,{type:"text",size:"small",onClick:z=>Qe(t.id)},{default:a(()=>[b(s(l.$t("button.detail")),1)]),_:2},1032,["onClick"]),e(R,{type:"text",size:"small",onClick:z=>l.$router.push({name:"ResellerUpdate",query:{id:t.id}})},{default:a(()=>[b(s(l.$t("button.update")),1)]),_:2},1032,["onClick"]),e(R,{type:"text",size:"small",onClick:z=>me({id:t.id,user_id:t.user_id,name:t.name,data:[1,2,3,4,5,6]})},{default:a(()=>[b(s(l.$t("button.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(ta,{title:l.$t("reseller.menu.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:W.value,onCancel:Fe},{default:a(()=>[e(Cl,{id:pe.value},null,8,["id"])]),_:1},8,["title","visible"]),e(he,{visible:E.value,"onUpdate:visible":o[19]||(o[19]=t=>E.value=t),title:l.$t("reseller.label.recharge"),"ok-text":l.$t("button.ok"),width:728,onCancel:Ee,onBeforeOk:Oe},{default:a(()=>[e(ee,{ref_key:"formRef",ref:re,model:c.value,"label-col-props":{span:4}},{default:a(()=>[e(C,{field:"quota",label:l.$t("reseller.label.recharge"),rules:[{required:!0,message:l.$t("reseller.placeholder.recharge")}]},{default:a(()=>[e(X,{modelValue:c.value.quota,"onUpdate:modelValue":o[11]||(o[11]=t=>c.value.quota=t),placeholder:l.$t("reseller.placeholder.recharge"),min:1e-6,max:9999999999999,parser:d(ja),"allow-clear":""},{prefix:a(()=>[b(s(d(p).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder","min","parser"])]),_:1},8,["label","rules"]),e(C,{style:{"margin-bottom":"8px"}},{default:a(()=>[e(ge,{modelValue:O.value,"onUpdate:modelValue":o[12]||(o[12]=t=>O.value=t),type:"button",onChange:ce},{default:a(()=>[e(w,{value:1},{default:a(()=>[e(h,{"model-value":1})]),_:1}),e(w,{value:2},{default:a(()=>[e(h,{"model-value":2})]),_:1}),e(w,{value:5},{default:a(()=>[e(h,{"model-value":5})]),_:1}),e(w,{value:10},{default:a(()=>[e(h,{"model-value":10})]),_:1}),e(w,{value:20},{default:a(()=>[e(h,{"model-value":20})]),_:1}),e(w,{value:50},{default:a(()=>[e(h,{"model-value":50})]),_:1}),e(w,{value:100},{default:a(()=>[e(h,{"model-value":100})]),_:1}),e(w,{value:200},{default:a(()=>[e(h,{"model-value":200})]),_:1}),e(w,{value:500},{default:a(()=>[e(h,{"model-value":500})]),_:1}),e(w,{value:1e3,style:{padding:"0 3px 0 2px"}},{default:a(()=>[e(h,{"model-value":1e3})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(C,{style:{"margin-bottom":"10px"}},{default:a(()=>[e(ge,{modelValue:O.value,"onUpdate:modelValue":o[13]||(o[13]=t=>O.value=t),type:"button",onChange:ce},{default:a(()=>[e(w,{value:2e3},{default:a(()=>[e(h,{"model-value":2e3})]),_:1}),e(w,{value:3e3},{default:a(()=>[e(h,{"model-value":3e3})]),_:1}),e(w,{value:5e3},{default:a(()=>[e(h,{"model-value":5e3})]),_:1}),e(w,{value:1e4},{default:a(()=>[e(h,{"model-value":1e4})]),_:1}),e(w,{value:2e4},{default:a(()=>[e(h,{"model-value":2e4})]),_:1}),e(w,{value:5e4},{default:a(()=>[e(h,{"model-value":5e4})]),_:1}),e(w,{value:1e5,style:{"padding-right":"1px"}},{default:a(()=>[e(h,{"model-value":1e5})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(C,{field:"quota_type",label:l.$t("reseller.label.quota_type"),rules:[{required:!0,message:l.$t("reseller.error.required.quota_type")}]},{default:a(()=>[e(K,{size:"large"},{default:a(()=>[e(w,{modelValue:c.value.quota_type,"onUpdate:modelValue":o[14]||(o[14]=t=>c.value.quota_type=t),value:"1","default-checked":!0},{default:a(()=>[b(s(l.$t("finance.dict.deal_type.1")),1)]),_:1},8,["modelValue"]),e(w,{modelValue:c.value.quota_type,"onUpdate:modelValue":o[15]||(o[15]=t=>c.value.quota_type=t),value:"2"},{default:a(()=>[b(s(l.$t("finance.dict.deal_type.2")),1)]),_:1},8,["modelValue"]),e(w,{modelValue:c.value.quota_type,"onUpdate:modelValue":o[16]||(o[16]=t=>c.value.quota_type=t),value:"3"},{default:a(()=>[b(s(l.$t("finance.dict.deal_type.3")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),e(C,{field:"quota_expires_at",label:l.$t("reseller.label.quota_expires_at")},{default:a(()=>[e(be,{modelValue:c.value.quota_expires_at,"onUpdate:modelValue":o[17]||(o[17]=t=>c.value.quota_expires_at=t),placeholder:l.$t("reseller.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":d(we),position:"tl",style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>d(D)(c.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>d(D)(c.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>d(D)(c.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>d(D)(c.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>d(D)(c.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>d(D)(c.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>d(D)(c.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(C,{field:"is_send_notice",label:l.$t("reseller.label.is_send_notice")},{default:a(()=>[e(ye,{modelValue:c.value.is_send_notice,"onUpdate:modelValue":o[18]||(o[18]=t=>c.value.is_send_notice=t)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","ok-text"]),e(he,{visible:F.value,"onUpdate:visible":o[28]||(o[28]=t=>F.value=t),title:l.$t("reseller.form.title.del"),width:822,onCancel:Ge,onBeforeOk:je},{default:a(()=>[e(ee,{ref_key:"delFormRef",ref:_e,model:k.value,"label-col-props":{span:4}},{default:a(()=>[k.value.user_id?(u(),f(C,{key:0,field:"user_id",label:l.$t("common.reseller_id"),rules:[{required:!0}]},{default:a(()=>[e(J,{modelValue:k.value.user_id,"onUpdate:modelValue":o[20]||(o[20]=t=>k.value.user_id=t),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):ne("",!0),k.value.name?(u(),f(C,{key:1,field:"name",label:l.$t("common.name"),rules:[{required:!0}]},{default:a(()=>[e(J,{modelValue:k.value.name,"onUpdate:modelValue":o[21]||(o[21]=t=>k.value.name=t),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):ne("",!0),e(C,{field:"data",label:l.$t("reseller.label.del.data")},{default:a(()=>[e(K,{size:"large"},{default:a(()=>[e(T,{modelValue:k.value.data,"onUpdate:modelValue":o[22]||(o[22]=t=>k.value.data=t),value:1},{default:a(()=>[b(s(l.$t("dict.del_data.1")),1)]),_:1},8,["modelValue"]),e(T,{modelValue:k.value.data,"onUpdate:modelValue":o[23]||(o[23]=t=>k.value.data=t),value:2},{default:a(()=>[b(s(l.$t("dict.del_data.2")),1)]),_:1},8,["modelValue"]),e(T,{modelValue:k.value.data,"onUpdate:modelValue":o[24]||(o[24]=t=>k.value.data=t),value:3},{default:a(()=>[b(s(l.$t("dict.del_data.3")),1)]),_:1},8,["modelValue"]),e(T,{modelValue:k.value.data,"onUpdate:modelValue":o[25]||(o[25]=t=>k.value.data=t),value:4},{default:a(()=>[b(s(l.$t("dict.del_data.4")),1)]),_:1},8,["modelValue"]),e(T,{modelValue:k.value.data,"onUpdate:modelValue":o[26]||(o[26]=t=>k.value.data=t),value:5},{default:a(()=>[b(s(l.$t("dict.del_data.5")),1)]),_:1},8,["modelValue"]),e(T,{modelValue:k.value.data,"onUpdate:modelValue":o[27]||(o[27]=t=>k.value.data=t),value:6},{default:a(()=>[b(s(l.$t("dict.del_data.6")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])]),_:1})])}}});const nt=_a(Bl,[["__scopeId","data-v-0c2db0d4"]]);export{nt as default};
