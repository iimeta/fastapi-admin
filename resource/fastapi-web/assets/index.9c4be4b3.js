import{u as me,_ as ne,b as ze,k as Pe}from"./index.715607dd.js";/* empty css              *//* empty css              *//* empty css               */import{d as ue,e as A,B as s,C as B,aH as a,aG as l,aJ as R,aI as L,aD as d,D as fe,aE as c,aL as g,aM as v,a_ as le,aZ as G,aT as ve,bE as ye,c1 as be,aU as he,bA as ke,bB as $e,bT as de,bG as _e,bK as ce,b1 as Ve,b2 as we,aS as qe,b5 as Ue,bu as x,bv as ee,u as Me,a5 as Re,a4 as Le,bH as je,bI as Ke,b4 as Ze,bi as Je,aK as Qe,aF as We,bb as Xe,b6 as Ye}from"./arco.3f46b4ae.js";/* empty css                *//* empty css                */import{u as Ce}from"./loading.37fd256d.js";import{s as Se,a as Ae,b as De,c as Te,d as Ie}from"./sys_config.0990b630.js";/* empty css              *//* empty css               *//* empty css               */import{q as xe}from"./provider.d342cbcd.js";/* empty css               */import"./chart.2cea905d.js";import"./vue.dbcf9bc3.js";const el={class:"list-wrap",style:{"margin-top":"10px"}},ll={class:"card-wrap"},al={name:"Global"},rl=ue({...al,setup(pe){const{setLoading:V}=Ce(!0),{t:u}=me(),D=A(!1),H=A(""),z=A(),e=A({email:{},http:{},core:{},debug:{}}),Z=async r=>{H.value=u(`sys.config.item.title.${r.action}`),e.value.action=r.action,D.value=!0},P=async r=>{le.warning({title:u("modal.warning.title"),titleAlign:"center",content:`${u("sys.config.placeholder.are_you_sure_reset")}${u(`sys.config.item.title.${r.action}`)}?`,okText:u("button.ok"),cancelText:u("button.cancel"),hideCancel:!1,onOk:()=>{re(r)}})},t=async r=>{var T;if(await((T=z.value)==null?void 0:T.validate())){D.value=!0,r(!1);return}V(!0);try{e.value.core.replace_error_prefixes&&(e.value.core.replace_error_prefixes=e.value.core.replace_error_prefixes.split(",")),await Se(e.value),r(),G.success(u("success.operate")),N()}catch{r(!1)}finally{V(!1)}},W=()=>{D.value=!1},re=async r=>{V(!0);try{await Ae({action:r.action}),G.success(u("success.operate")),N()}finally{V(!1)}},oe=async r=>{V(!0);try{await De({action:r.action,open:r.open||!1}),G.success(u("success.operate")),N()}finally{V(!1)}},X=A({}),N=async()=>{var _;const{data:r}=await Te();e.value.email=r.email,e.value.http=r.http,e.value.core=r.core,e.value.core.replace_error_prefixes=(_=e.value.core.replace_error_prefixes)==null?void 0:_.join(","),e.value.debug=r.debug,X.value=[{action:"email",title:u("sys.config.item.title.email"),desc:u("sys.config.item.desc.email"),open:e.value.email.open,config:!0,reset:!0},{action:"http",title:u("sys.config.item.title.http"),desc:u("sys.config.item.desc.http"),config:!0,reset:!0},{action:"core",title:u("sys.config.item.title.core"),desc:u("sys.config.item.desc.core"),config:!0,reset:!0},{action:"debug",title:u("sys.config.item.title.debug"),desc:u("sys.config.item.desc.debug"),open:e.value.debug.open}]};return N(),(r,_)=>{const T=ve,M=ye,J=be,j=he,Q=ke,Y=$e,I=de,i=_e,y=ce,h=Ve,k=we,E=qe,o=Ue,m=le;return s(),B("div",el,[a(y,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),B(R,null,L(X.value,n=>(s(),d(i,{key:n.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[fe("div",ll,[a(I,{title:n.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[n.open!==void 0?(s(),d(T,{key:0,modelValue:n.open,"onUpdate:modelValue":O=>n.open=O,onChange:O=>oe(n)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[n.reset?(s(),d(j,{key:0,onClick:O=>P(n)},{default:l(()=>[g(v(r.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),n.config?(s(),d(j,{key:1,type:"primary",onClick:O=>Z(n)},{default:l(()=>[g(v(r.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a(Y,{animation:!0},{default:l(()=>[a(Q,{widths:["50%","50%","100%","40%"],rows:4}),a(Q,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(J,null,{description:l(()=>[g(v(n.desc)+" ",1),a(M,{data:n.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(m,{visible:D.value,"onUpdate:visible":_[11]||(_[11]=n=>D.value=n),title:r.$t(H.value),width:e.value.action==="core"?588:528,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:W,onBeforeOk:t},{default:l(()=>[a(o,{ref_key:"configForm",ref:z,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="email"?(s(),d(k,{key:0,field:"email.host",label:r.$t("sys.config.label.email.host"),rules:[{required:!0,message:r.$t("sys.config.error.required.email.host")}]},{default:l(()=>[a(h,{modelValue:e.value.email.host,"onUpdate:modelValue":_[0]||(_[0]=n=>e.value.email.host=n),placeholder:r.$t("sys.config.placeholder.email.host"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(s(),d(k,{key:1,field:"email.port",label:r.$t("sys.config.label.email.port"),rules:[{required:!0,message:r.$t("sys.config.error.required.email.port")}]},{default:l(()=>[a(E,{modelValue:e.value.email.port,"onUpdate:modelValue":_[1]||(_[1]=n=>e.value.email.port=n),placeholder:r.$t("sys.config.placeholder.email.port"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(s(),d(k,{key:2,field:"email.user_name",label:r.$t("sys.config.label.email.user_name"),rules:[{required:!0,message:r.$t("sys.config.placeholder.email.user_name")}]},{default:l(()=>[a(h,{modelValue:e.value.email.user_name,"onUpdate:modelValue":_[2]||(_[2]=n=>e.value.email.user_name=n),placeholder:r.$t("sys.config.placeholder.email.user_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(s(),d(k,{key:3,field:"email.password",label:r.$t("sys.config.label.email.password"),rules:[{required:!0,message:r.$t("sys.config.placeholder.email.password")}]},{default:l(()=>[a(h,{modelValue:e.value.email.password,"onUpdate:modelValue":_[3]||(_[3]=n=>e.value.email.password=n),placeholder:r.$t("sys.config.placeholder.email.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(s(),d(k,{key:4,field:"email.from_name",label:r.$t("sys.config.label.email.from_name"),rules:[{required:!0,message:r.$t("sys.config.error.required.email.from_name")}]},{default:l(()=>[a(h,{modelValue:e.value.email.from_name,"onUpdate:modelValue":_[4]||(_[4]=n=>e.value.email.from_name=n),placeholder:r.$t("sys.config.placeholder.email.from_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(s(),d(k,{key:5,field:"email.interval",label:r.$t("sys.config.label.email.interval"),rules:[{required:!0,message:r.$t("sys.config.placeholder.email.interval")}]},{default:l(()=>[a(E,{modelValue:e.value.email.interval,"onUpdate:modelValue":_[5]||(_[5]=n=>e.value.email.interval=n),placeholder:r.$t("sys.config.placeholder.email.interval"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.millisecond")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="http"?(s(),d(k,{key:6,field:"http.timeout",label:r.$t("sys.config.label.http.timeout"),rules:[{required:!0,message:r.$t("sys.config.error.required.http.timeout")}]},{default:l(()=>[a(E,{modelValue:e.value.http.timeout,"onUpdate:modelValue":_[6]||(_[6]=n=>e.value.http.timeout=n),placeholder:r.$t("sys.config.placeholder.http.timeout"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="http"?(s(),d(k,{key:7,field:"http.proxy_url",label:r.$t("sys.config.label.http.proxy_url")},{default:l(()=>[a(h,{modelValue:e.value.http.proxy_url,"onUpdate:modelValue":_[7]||(_[7]=n=>e.value.http.proxy_url=n),placeholder:r.$t("sys.config.placeholder.http.proxy_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="core"?(s(),d(k,{key:8,field:"core.secret_key_prefix",label:r.$t("sys.config.label.core.secret_key_prefix"),rules:[{required:!0,message:r.$t("sys.config.placeholder.core.secret_key_prefix")}]},{default:l(()=>[a(h,{modelValue:e.value.core.secret_key_prefix,"onUpdate:modelValue":_[8]||(_[8]=n=>e.value.core.secret_key_prefix=n),placeholder:r.$t("sys.config.placeholder.core.secret_key_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="core"?(s(),d(k,{key:9,field:"core.error_prefix",label:r.$t("sys.config.label.core.error_prefix"),rules:[{required:!0,message:r.$t("sys.config.placeholder.core.error_prefix")}]},{default:l(()=>[a(h,{modelValue:e.value.core.error_prefix,"onUpdate:modelValue":_[9]||(_[9]=n=>e.value.core.error_prefix=n),placeholder:r.$t("sys.config.placeholder.core.error_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="core"?(s(),d(k,{key:10,field:"core.replace_error_prefixes",label:r.$t("sys.config.label.core.replace_error_prefixes")},{default:l(()=>[a(h,{modelValue:e.value.core.replace_error_prefixes,"onUpdate:modelValue":_[10]||(_[10]=n=>e.value.core.replace_error_prefixes=n),placeholder:r.$t("sys.config.placeholder.core.replace_error_prefixes"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Ee=ne(rl,[["__scopeId","data-v-60615715"]]),ol={class:"list-wrap",style:{"margin-top":"10px"}},tl={class:"card-wrap"},sl={name:"General"},il=ue({...sl,setup(pe){const{setLoading:V}=Ce(!0),{t:u}=me(),D=ze(),H=A([]);(async()=>{try{const{data:i}=await xe();H.value=i.items}catch{}})();const e=A(!1),Z=A(""),P=A(),t=A({user_login_register:{},user_shield_error:{},reseller_login_register:{},reseller_shield_error:{},admin_login:{},quota:{},test:{}}),W=async i=>{i.action==="user_shield_error"&&t.value.user_shield_error.errors.length===0&&M(),i.action==="reseller_shield_error"&&t.value.reseller_shield_error.errors.length===0&&j(),i.action==="test"&&t.value.test.tests.length===0&&Y(),Z.value=u(`sys.config.item.title.${i.action}`),t.value.action=i.action,e.value=!0},re=async i=>{le.warning({title:u("modal.warning.title"),titleAlign:"center",content:`${u("sys.config.placeholder.are_you_sure_reset")}${u(`sys.config.item.title.${i.action}`)}?`,okText:u("button.ok"),cancelText:u("button.cancel"),hideCancel:!1,onOk:()=>{N(i)}})},oe=async i=>{var h;if(await((h=P.value)==null?void 0:h.validate())){e.value=!0,i(!1);return}V(!0);try{await Se(t.value),i(),G.success(u("success.operate")),T()}catch{i(!1)}finally{V(!1)}},X=()=>{e.value=!1,t.value.user_shield_error.errors.length>0&&!t.value.user_shield_error.errors[t.value.user_shield_error.errors.length-1]&&J(t.value.user_shield_error.errors.length-1),t.value.reseller_shield_error.errors.length>0&&!t.value.reseller_shield_error.errors[t.value.reseller_shield_error.errors.length-1]&&J(t.value.reseller_shield_error.errors.length-1),t.value.test.tests.length>0&&(!t.value.test.tests[t.value.test.tests.length-1].provider||!t.value.test.tests[t.value.test.tests.length-1].model||!t.value.test.tests[t.value.test.tests.length-1].model_type||!t.value.test.tests[t.value.test.tests.length-1].request_data)&&I(t.value.test.tests.length-1)},N=async i=>{V(!0);try{await Ae({action:i.action}),G.success(u("success.operate")),T()}finally{V(!1)}},r=async i=>{V(!0);try{await De({action:i.action,open:i.open||!1}),G.success(u("success.operate")),T()}finally{V(!1)}},_=A({}),T=async()=>{const{data:i}=await Te();t.value.user_login_register=i.user_login_register,t.value.user_shield_error=i.user_shield_error,t.value.reseller_login_register=i.reseller_login_register,t.value.reseller_shield_error=i.reseller_shield_error,t.value.admin_login=i.admin_login,t.value.quota=i.quota,t.value.test=i.test,_.value=[{action:"user_login_register",title:u("sys.config.item.title.user_login_register"),desc:u("sys.config.item.desc.user_login_register"),config:!0,reset:!0},{action:"user_shield_error",title:u("sys.config.item.title.user_shield_error"),desc:u("sys.config.item.desc.user_shield_error"),open:t.value.user_shield_error.open,config:!0,reset:!0},{action:"reseller_login_register",title:u("sys.config.item.title.reseller_login_register"),desc:u("sys.config.item.desc.reseller_login_register"),config:!0,reset:!0},{action:"reseller_shield_error",title:u("sys.config.item.title.reseller_shield_error"),desc:u("sys.config.item.desc.reseller_shield_error"),open:t.value.reseller_shield_error.open,config:!0,reset:!0},{action:"admin_login",title:u("sys.config.item.title.admin_login"),desc:u("sys.config.item.desc.admin_login"),config:!0,reset:!0},{action:"quota",title:u("sys.config.item.title.quota"),desc:u("sys.config.item.desc.quota"),config:!0,reset:!0},{action:"test",title:u("sys.config.item.title.test"),desc:u("sys.config.item.desc.test"),config:!0,reset:!0}]};T();const M=()=>{t.value.user_shield_error.errors.push("")},J=i=>{t.value.user_shield_error.errors.splice(i,1)},j=()=>{t.value.reseller_shield_error.errors.push("")},Q=i=>{t.value.reseller_shield_error.errors.splice(i,1)},Y=()=>{t.value.test.tests.push({provider:"",model:"",model_type:A(),request_data:""})},I=i=>{t.value.test.tests.splice(i,1)};return(i,y)=>{const h=ve,k=ye,E=be,o=he,m=ke,n=$e,O=de,Be=_e,F=ce,w=we,ae=qe,te=Ve,se=Re,ie=Le,q=je,S=Ke,K=Ue,ge=le;return s(),B("div",ol,[a(F,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),B(R,null,L(_.value,p=>(s(),d(Be,{key:p.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[fe("div",tl,[a(O,{title:p.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[p.open!==void 0?(s(),d(h,{key:0,modelValue:p.open,"onUpdate:modelValue":$=>p.open=$,onChange:$=>r(p)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[p.reset?(s(),d(o,{key:0,onClick:$=>re(p)},{default:l(()=>[g(v(i.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),p.config?(s(),d(o,{key:1,type:"primary",onClick:$=>W(p)},{default:l(()=>[g(v(i.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a(n,{animation:!0},{default:l(()=>[a(m,{widths:["50%","50%","100%","40%"],rows:4}),a(m,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(E,null,{description:l(()=>[g(v(p.desc)+" ",1),a(k,{data:p.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(ge,{visible:e.value,"onUpdate:visible":y[26]||(y[26]=p=>e.value=p),title:i.$t(Z.value),width:t.value.action==="test"?888:t.value.action==="user_shield_error"||t.value.action==="reseller_shield_error"?728:528,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:X,onBeforeOk:oe},{default:l(()=>[a(K,{ref_key:"configForm",ref:P,model:t.value,"auto-label-width":""},{default:l(()=>[t.value.action==="user_login_register"?(s(),d(w,{key:0,field:"user_login_register.account_login",label:i.$t("sys.config.label.account_login"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.user_login_register.account_login,"onUpdate:modelValue":y[0]||(y[0]=p=>t.value.user_login_register.account_login=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="user_login_register"?(s(),d(w,{key:1,field:"user_login_register.email_login",label:i.$t("sys.config.label.email_login"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.user_login_register.email_login,"onUpdate:modelValue":y[1]||(y[1]=p=>t.value.user_login_register.email_login=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="user_login_register"?(s(),d(w,{key:2,field:"user_login_register.email_register",label:i.$t("sys.config.label.email_register"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.user_login_register.email_register,"onUpdate:modelValue":y[2]||(y[2]=p=>t.value.user_login_register.email_register=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="user_login_register"?(s(),d(w,{key:3,field:"user_login_register.email_retrieve",label:i.$t("sys.config.label.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.user_login_register.email_retrieve,"onUpdate:modelValue":y[3]||(y[3]=p=>t.value.user_login_register.email_retrieve=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="user_login_register"?(s(),d(w,{key:4,field:"user_login_register.session_expire",label:i.$t("sys.config.label.session_expire"),rules:[{required:!0,message:i.$t("sys.config.placeholder.session_expire")}]},{default:l(()=>[a(ae,{modelValue:t.value.user_login_register.session_expire,"onUpdate:modelValue":y[4]||(y[4]=p=>t.value.user_login_register.session_expire=p),placeholder:i.$t("sys.config.placeholder.session_expire"),min:10,"allow-clear":""},{append:l(()=>[g(v(i.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),(s(!0),B(R,null,L(t.value.user_shield_error.errors,(p,$)=>x((s(),d(w,{key:$,field:`user_shield_error.errors[${$}]`,label:`${$+1}. `,rules:[{required:!0,message:i.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(te,{modelValue:t.value.user_shield_error.errors[$],"onUpdate:modelValue":U=>t.value.user_shield_error.errors[$]=U,placeholder:i.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"86%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(o,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:y[5]||(y[5]=U=>M())},{default:l(()=>[a(se)]),_:1}),a(o,{type:"secondary",shape:"circle",onClick:U=>J($)},{default:l(()=>[a(ie)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,t.value.action==="user_shield_error"]])),128)),t.value.action==="reseller_login_register"?(s(),d(w,{key:5,field:"reseller_login_register.account_login",label:i.$t("sys.config.label.account_login"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.reseller_login_register.account_login,"onUpdate:modelValue":y[6]||(y[6]=p=>t.value.reseller_login_register.account_login=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="reseller_login_register"?(s(),d(w,{key:6,field:"reseller_login_register.email_login",label:i.$t("sys.config.label.email_login"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.reseller_login_register.email_login,"onUpdate:modelValue":y[7]||(y[7]=p=>t.value.reseller_login_register.email_login=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="reseller_login_register"?(s(),d(w,{key:7,field:"reseller_login_register.email_register",label:i.$t("sys.config.label.email_register"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.reseller_login_register.email_register,"onUpdate:modelValue":y[8]||(y[8]=p=>t.value.reseller_login_register.email_register=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="reseller_login_register"?(s(),d(w,{key:8,field:"reseller_login_register.email_retrieve",label:i.$t("sys.config.label.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.reseller_login_register.email_retrieve,"onUpdate:modelValue":y[9]||(y[9]=p=>t.value.reseller_login_register.email_retrieve=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="reseller_login_register"?(s(),d(w,{key:9,field:"reseller_login_register.session_expire",label:i.$t("sys.config.label.session_expire"),rules:[{required:!0,message:i.$t("sys.config.placeholder.session_expire")}]},{default:l(()=>[a(ae,{modelValue:t.value.reseller_login_register.session_expire,"onUpdate:modelValue":y[10]||(y[10]=p=>t.value.reseller_login_register.session_expire=p),placeholder:i.$t("sys.config.placeholder.session_expire"),min:10,"allow-clear":""},{append:l(()=>[g(v(i.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),(s(!0),B(R,null,L(t.value.reseller_shield_error.errors,(p,$)=>x((s(),d(w,{key:$,field:`reseller_shield_error.errors[${$}]`,label:`${$+1}. `,rules:[{required:!0,message:i.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(te,{modelValue:t.value.reseller_shield_error.errors[$],"onUpdate:modelValue":U=>t.value.reseller_shield_error.errors[$]=U,placeholder:i.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"86%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(o,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:y[11]||(y[11]=U=>j())},{default:l(()=>[a(se)]),_:1}),a(o,{type:"secondary",shape:"circle",onClick:U=>Q($)},{default:l(()=>[a(ie)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,t.value.action==="reseller_shield_error"]])),128)),t.value.action==="admin_login"?(s(),d(w,{key:10,field:"admin_login.account_login",label:i.$t("sys.config.label.account_login"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.admin_login.account_login,"onUpdate:modelValue":y[12]||(y[12]=p=>t.value.admin_login.account_login=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="admin_login"?(s(),d(w,{key:11,field:"admin_login.email_login",label:i.$t("sys.config.label.email_login"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.admin_login.email_login,"onUpdate:modelValue":y[13]||(y[13]=p=>t.value.admin_login.email_login=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="admin_login"?(s(),d(w,{key:12,field:"admin_login.email_retrieve",label:i.$t("sys.config.label.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.admin_login.email_retrieve,"onUpdate:modelValue":y[14]||(y[14]=p=>t.value.admin_login.email_retrieve=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="admin_login"?(s(),d(w,{key:13,field:"admin_login.session_expire",label:i.$t("sys.config.label.session_expire"),rules:[{required:!0,message:i.$t("sys.config.placeholder.session_expire")}]},{default:l(()=>[a(ae,{modelValue:t.value.admin_login.session_expire,"onUpdate:modelValue":y[15]||(y[15]=p=>t.value.admin_login.session_expire=p),placeholder:i.$t("sys.config.placeholder.session_expire"),min:10,"allow-clear":""},{append:l(()=>[g(v(i.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),t.value.action==="admin_login"?(s(),d(w,{key:14,field:"admin_login.path",label:i.$t("sys.config.label.path"),rules:[{required:!0,message:i.$t("sys.config.placeholder.path")},{match:/^[a-zA-Z0-9\-_]+$/,message:i.$t("sys.config.error.pattern.path")}]},{default:l(()=>[a(te,{modelValue:t.value.admin_login.path,"onUpdate:modelValue":y[16]||(y[16]=p=>t.value.admin_login.path=p),placeholder:i.$t("sys.config.placeholder.path"),"allow-clear":""},{prepend:l(()=>[g(" / ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),t.value.action==="quota"?(s(),d(w,{key:15,field:"quota.warning",label:i.$t("sys.config.label.quota.warning"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.quota.warning,"onUpdate:modelValue":y[17]||(y[17]=p=>t.value.quota.warning=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="quota"&&t.value.quota.warning?(s(),d(w,{key:16,field:"quota.threshold",label:i.$t("sys.config.label.quota.threshold"),rules:[{required:!0,message:i.$t("sys.config.placeholder.quota.threshold")}]},{default:l(()=>[a(ae,{modelValue:t.value.quota.threshold,"onUpdate:modelValue":y[18]||(y[18]=p=>t.value.quota.threshold=p),placeholder:i.$t("sys.config.placeholder.quota.threshold"),precision:0,min:1,"allow-clear":""},{prefix:l(()=>[g(v(Me(D).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),t.value.action==="quota"?(s(),d(w,{key:17,field:"quota.expired_warning",label:i.$t("sys.config.label.quota.expired_warning"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.quota.expired_warning,"onUpdate:modelValue":y[19]||(y[19]=p=>t.value.quota.expired_warning=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="quota"&&t.value.quota.expired_warning?(s(),d(w,{key:18,field:"quota.expired_threshold",label:i.$t("sys.config.label.quota.expired_threshold"),rules:[{required:!0,message:i.$t("sys.config.placeholder.quota.expired_threshold")}]},{default:l(()=>[a(ae,{modelValue:t.value.quota.expired_threshold,"onUpdate:modelValue":y[20]||(y[20]=p=>t.value.quota.expired_threshold=p),placeholder:i.$t("sys.config.placeholder.quota.expired_threshold"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(i.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),t.value.action==="quota"?(s(),d(w,{key:19,field:"quota.exhausted_notice",label:i.$t("sys.config.label.quota.exhausted_notice"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.quota.exhausted_notice,"onUpdate:modelValue":y[21]||(y[21]=p=>t.value.quota.exhausted_notice=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="quota"?(s(),d(w,{key:20,field:"quota.expired_notice",label:i.$t("sys.config.label.quota.expired_notice"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.quota.expired_notice,"onUpdate:modelValue":y[22]||(y[22]=p=>t.value.quota.expired_notice=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="quota"?(s(),d(w,{key:21,field:"quota.expired_clear",label:i.$t("sys.config.label.quota.expired_clear"),rules:[{required:!0}]},{default:l(()=>[a(h,{modelValue:t.value.quota.expired_clear,"onUpdate:modelValue":y[23]||(y[23]=p=>t.value.quota.expired_clear=p)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.value.action==="quota"&&t.value.quota.expired_clear?(s(),d(w,{key:22,field:"quota.expired_clear_defer",label:i.$t("sys.config.label.quota.expired_clear_defer"),rules:[{required:!0,message:i.$t("sys.config.placeholder.quota.expired_clear_defer")}]},{default:l(()=>[a(ae,{modelValue:t.value.quota.expired_clear_defer,"onUpdate:modelValue":y[24]||(y[24]=p=>t.value.quota.expired_clear_defer=p),placeholder:i.$t("sys.config.placeholder.quota.expired_clear_defer"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(i.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),(s(!0),B(R,null,L(t.value.test.tests,(p,$)=>x((s(),d(w,{key:$,field:`test.tests[${$}].provider`&&`test.tests[${$}].model`&&`test.tests[${$}].model_type`&&`test.tests[${$}].request_data`,label:`${$+1}. `,rules:[{required:!0,message:i.$t("sys.config.error.required.tests")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(S,{modelValue:t.value.test.tests[$].provider,"onUpdate:modelValue":U=>t.value.test.tests[$].provider=U,placeholder:i.$t("common.provider"),scrollbar:!1,"allow-search":"",style:{width:"15%","margin-right":"5px"}},{default:l(()=>[(s(!0),B(R,null,L(H.value,U=>(s(),d(q,{key:U.id,value:U.code,label:U.name},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),a(te,{modelValue:t.value.test.tests[$].model,"onUpdate:modelValue":U=>t.value.test.tests[$].model=U,placeholder:i.$t("sys.config.placeholder.test.model"),"allow-clear":"",style:{width:"25%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(S,{modelValue:t.value.test.tests[$].model_type,"onUpdate:modelValue":U=>t.value.test.tests[$].model_type=U,placeholder:i.$t("common.model_type"),scrollbar:!1,"allow-search":"",style:{"max-width":"15%","margin-right":"5px"}},{default:l(()=>[a(q,{value:1},{default:l(()=>[g(v(i.$t("dict.model_type.1")),1)]),_:1}),a(q,{value:2},{default:l(()=>[g(v(i.$t("dict.model_type.2")),1)]),_:1}),a(q,{value:3},{default:l(()=>[g(v(i.$t("dict.model_type.3")),1)]),_:1}),a(q,{value:4},{default:l(()=>[g(v(i.$t("dict.model_type.4")),1)]),_:1}),a(q,{value:5},{default:l(()=>[g(v(i.$t("dict.model_type.5")),1)]),_:1}),a(q,{value:6},{default:l(()=>[g(v(i.$t("dict.model_type.6")),1)]),_:1}),a(q,{value:7},{default:l(()=>[g(v(i.$t("dict.model_type.7")),1)]),_:1}),a(q,{value:8},{default:l(()=>[g(v(i.$t("dict.model_type.8")),1)]),_:1}),a(q,{value:100},{default:l(()=>[g(v(i.$t("dict.model_type.100")),1)]),_:1}),a(q,{value:101},{default:l(()=>[g(v(i.$t("dict.model_type.101")),1)]),_:1}),a(q,{value:102},{default:l(()=>[g(v(i.$t("dict.model_type.102")),1)]),_:1}),a(q,{value:103},{default:l(()=>[g(v(i.$t("dict.model_type.103")),1)]),_:1}),a(q,{value:1e4},{default:l(()=>[g(v(i.$t("dict.model_type.10000")),1)]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),a(te,{modelValue:t.value.test.tests[$].request_data,"onUpdate:modelValue":U=>t.value.test.tests[$].request_data=U,placeholder:i.$t("sys.config.placeholder.test.request_data"),"allow-clear":"",style:{"max-width":"32%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(o,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:y[25]||(y[25]=U=>Y())},{default:l(()=>[a(se)]),_:1}),a(o,{type:"secondary",shape:"circle",onClick:U=>I($)},{default:l(()=>[a(ie)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,t.value.action==="test"]])),128))]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Fe=ne(il,[["__scopeId","data-v-d6b1e8f3"]]),nl={class:"list-wrap",style:{"margin-top":"10px"}},ul={class:"card-wrap"},dl={name:"Task"},_l=ue({...dl,setup(pe){const{setLoading:V}=Ce(!0),{t:u}=me(),D=A(!1),H=A(""),z=A(),e=A({statistics:{},notice:{},quota_task:{}}),Z=async r=>{H.value=u(`sys.config.item.title.${r.action}`),e.value.action=r.action,D.value=!0},P=async r=>{le.warning({title:u("modal.warning.title"),titleAlign:"center",content:`${u("sys.config.placeholder.are_you_sure_reset")}${u(`sys.config.item.title.${r.action}`)}?`,okText:u("button.ok"),cancelText:u("button.cancel"),hideCancel:!1,onOk:()=>{re(r)}})},t=async r=>{var T;if(await((T=z.value)==null?void 0:T.validate())){D.value=!0,r(!1);return}V(!0);try{await Se(e.value),r(),G.success(u("success.operate")),N()}catch{r(!1)}finally{V(!1)}},W=()=>{D.value=!1},re=async r=>{V(!0);try{await Ae({action:r.action}),G.success(u("success.operate")),N()}finally{V(!1)}},oe=async r=>{V(!0);try{await De({action:r.action,open:r.open||!1}),G.success(u("success.operate")),N()}finally{V(!1)}},X=A({}),N=async()=>{const{data:r}=await Te();e.value.quota_task=r.quota_task,e.value.statistics=r.statistics,e.value.video_task=r.video_task,e.value.file_task=r.file_task,e.value.batch_task=r.batch_task,e.value.notice=r.notice,X.value=[{action:"quota_task",title:u("sys.config.item.title.quota_task"),desc:u("sys.config.item.desc.quota_task"),open:e.value.quota_task.open,config:!0,reset:!0},{action:"statistics",title:u("sys.config.item.title.statistics"),desc:u("sys.config.item.desc.statistics"),open:e.value.statistics.open,config:!0,reset:!0},{action:"video_task",title:u("sys.config.item.title.video_task"),desc:u("sys.config.item.desc.video_task"),open:e.value.video_task.open,config:!0,reset:!0},{action:"file_task",title:u("sys.config.item.title.file_task"),desc:u("sys.config.item.desc.file_task"),open:e.value.file_task.open,config:!0,reset:!0},{action:"batch_task",title:u("sys.config.item.title.batch_task"),desc:u("sys.config.item.desc.batch_task"),open:e.value.batch_task.open,config:!0,reset:!0},{action:"notice",title:u("sys.config.item.title.notice"),desc:u("sys.config.item.desc.notice"),open:e.value.notice.open,config:!0,reset:!0}]};return N(),(r,_)=>{const T=ve,M=ye,J=be,j=he,Q=ke,Y=$e,I=de,i=_e,y=ce,h=Ve,k=we,E=qe,o=Ue,m=le;return s(),B("div",nl,[a(y,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),B(R,null,L(X.value,n=>(s(),d(i,{key:n.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[fe("div",ul,[a(I,{title:n.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[n.open!==void 0?(s(),d(T,{key:0,modelValue:n.open,"onUpdate:modelValue":O=>n.open=O,onChange:O=>oe(n)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[n.reset?(s(),d(j,{key:0,onClick:O=>P(n)},{default:l(()=>[g(v(r.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),n.config?(s(),d(j,{key:1,type:"primary",onClick:O=>Z(n)},{default:l(()=>[g(v(r.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a(Y,{animation:!0},{default:l(()=>[a(Q,{widths:["50%","50%","100%","40%"],rows:4}),a(Q,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(J,null,{description:l(()=>[g(v(n.desc)+" ",1),a(M,{data:n.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(m,{visible:D.value,"onUpdate:visible":_[23]||(_[23]=n=>D.value=n),title:r.$t(H.value),width:568,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:W,onBeforeOk:t},{default:l(()=>[a(o,{ref_key:"configForm",ref:z,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="quota_task"?(s(),d(k,{key:0,field:"quota_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(h,{modelValue:e.value.quota_task.cron,"onUpdate:modelValue":_[0]||(_[0]=n=>e.value.quota_task.cron=n),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="quota_task"?(s(),d(k,{key:1,field:"quota_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.quota_task.lock_minutes")}]},{default:l(()=>[a(E,{modelValue:e.value.quota_task.lock_minutes,"onUpdate:modelValue":_[1]||(_[1]=n=>e.value.quota_task.lock_minutes=n),placeholder:r.$t("sys.config.placeholder.quota_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="statistics"?(s(),d(k,{key:2,field:"statistics.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(h,{modelValue:e.value.statistics.cron,"onUpdate:modelValue":_[2]||(_[2]=n=>e.value.statistics.cron=n),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="statistics"?(s(),d(k,{key:3,field:"statistics.limit",label:r.$t("sys.config.label.statistics.limit"),rules:[{required:!0,message:r.$t("sys.config.error.required.statistics.limit")}]},{default:l(()=>[a(E,{modelValue:e.value.statistics.limit,"onUpdate:modelValue":_[3]||(_[3]=n=>e.value.statistics.limit=n),placeholder:r.$t("sys.config.placeholder.statistics.limit"),min:10,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.item")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="statistics"?(s(),d(k,{key:4,field:"statistics.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.statistics.lock_minutes")}]},{default:l(()=>[a(E,{modelValue:e.value.statistics.lock_minutes,"onUpdate:modelValue":_[4]||(_[4]=n=>e.value.statistics.lock_minutes=n),placeholder:r.$t("sys.config.placeholder.statistics.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="video_task"?(s(),d(k,{key:5,field:"video_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(h,{modelValue:e.value.video_task.cron,"onUpdate:modelValue":_[5]||(_[5]=n=>e.value.video_task.cron=n),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="video_task"?(s(),d(k,{key:6,field:"video_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.video_task.lock_minutes")}]},{default:l(()=>[a(E,{modelValue:e.value.video_task.lock_minutes,"onUpdate:modelValue":_[6]||(_[6]=n=>e.value.video_task.lock_minutes=n),placeholder:r.$t("sys.config.placeholder.video_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="video_task"?(s(),d(k,{key:7,field:"video_task.is_enable_storage",label:r.$t("sys.config.label.video_task.is_enable_storage")},{default:l(()=>[a(T,{modelValue:e.value.video_task.is_enable_storage,"onUpdate:modelValue":_[7]||(_[7]=n=>e.value.video_task.is_enable_storage=n)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),d(k,{key:8,field:"video_task.storage_dir",label:r.$t("sys.config.label.video_task.storage_dir")},{default:l(()=>[a(h,{modelValue:e.value.video_task.storage_dir,"onUpdate:modelValue":_[8]||(_[8]=n=>e.value.video_task.storage_dir=n),placeholder:r.$t("sys.config.placeholder.video_task.storage_dir"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),d(k,{key:9,field:"video_task.storage_base_url",label:r.$t("sys.config.label.video_task.storage_base_url")},{default:l(()=>[a(h,{modelValue:e.value.video_task.storage_base_url,"onUpdate:modelValue":_[9]||(_[9]=n=>e.value.video_task.storage_base_url=n),placeholder:r.$t("sys.config.placeholder.video_task.storage_base_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),d(k,{key:10,field:"video_task.storage_expires_at",label:r.$t("sys.config.label.video_task.storage_expires_at")},{default:l(()=>[a(E,{modelValue:e.value.video_task.storage_expires_at,"onUpdate:modelValue":_[10]||(_[10]=n=>e.value.video_task.storage_expires_at=n),placeholder:r.$t("sys.config.placeholder.video_task.storage_expires_at"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(s(),d(k,{key:11,field:"video_task.storage_expired_delete",label:r.$t("sys.config.label.video_task.storage_expired_delete")},{default:l(()=>[a(T,{modelValue:e.value.video_task.storage_expired_delete,"onUpdate:modelValue":_[11]||(_[11]=n=>e.value.video_task.storage_expired_delete=n)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"?(s(),d(k,{key:12,field:"file_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(h,{modelValue:e.value.file_task.cron,"onUpdate:modelValue":_[12]||(_[12]=n=>e.value.file_task.cron=n),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="file_task"?(s(),d(k,{key:13,field:"file_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.file_task.lock_minutes")}]},{default:l(()=>[a(E,{modelValue:e.value.file_task.lock_minutes,"onUpdate:modelValue":_[13]||(_[13]=n=>e.value.file_task.lock_minutes=n),placeholder:r.$t("sys.config.placeholder.file_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="file_task"?(s(),d(k,{key:14,field:"file_task.is_enable_storage",label:r.$t("sys.config.label.file_task.is_enable_storage")},{default:l(()=>[a(T,{modelValue:e.value.file_task.is_enable_storage,"onUpdate:modelValue":_[14]||(_[14]=n=>e.value.file_task.is_enable_storage=n)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),d(k,{key:15,field:"file_task.storage_dir",label:r.$t("sys.config.label.file_task.storage_dir")},{default:l(()=>[a(h,{modelValue:e.value.file_task.storage_dir,"onUpdate:modelValue":_[15]||(_[15]=n=>e.value.file_task.storage_dir=n),placeholder:r.$t("sys.config.placeholder.file_task.storage_dir"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),d(k,{key:16,field:"file_task.storage_base_url",label:r.$t("sys.config.label.file_task.storage_base_url")},{default:l(()=>[a(h,{modelValue:e.value.file_task.storage_base_url,"onUpdate:modelValue":_[16]||(_[16]=n=>e.value.file_task.storage_base_url=n),placeholder:r.$t("sys.config.placeholder.file_task.storage_base_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),d(k,{key:17,field:"file_task.storage_expires_at",label:r.$t("sys.config.label.file_task.storage_expires_at")},{default:l(()=>[a(E,{modelValue:e.value.file_task.storage_expires_at,"onUpdate:modelValue":_[17]||(_[17]=n=>e.value.file_task.storage_expires_at=n),placeholder:r.$t("sys.config.placeholder.file_task.storage_expires_at"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(s(),d(k,{key:18,field:"file_task.storage_expired_delete",label:r.$t("sys.config.label.file_task.storage_expired_delete")},{default:l(()=>[a(T,{modelValue:e.value.file_task.storage_expired_delete,"onUpdate:modelValue":_[18]||(_[18]=n=>e.value.file_task.storage_expired_delete=n)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="batch_task"?(s(),d(k,{key:19,field:"batch_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(h,{modelValue:e.value.batch_task.cron,"onUpdate:modelValue":_[19]||(_[19]=n=>e.value.batch_task.cron=n),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="batch_task"?(s(),d(k,{key:20,field:"batch_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.batch_task.lock_minutes")}]},{default:l(()=>[a(E,{modelValue:e.value.batch_task.lock_minutes,"onUpdate:modelValue":_[20]||(_[20]=n=>e.value.batch_task.lock_minutes=n),placeholder:r.$t("sys.config.placeholder.batch_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="notice"?(s(),d(k,{key:21,field:"notice.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(h,{modelValue:e.value.notice.cron,"onUpdate:modelValue":_[21]||(_[21]=n=>e.value.notice.cron=n),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="notice"?(s(),d(k,{key:22,field:"notice.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.notice.lock_minutes")}]},{default:l(()=>[a(E,{modelValue:e.value.notice.lock_minutes,"onUpdate:modelValue":_[22]||(_[22]=n=>e.value.notice.lock_minutes=n),placeholder:r.$t("sys.config.placeholder.notice.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[g(v(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}});const He=ne(_l,[["__scopeId","data-v-4ef6d053"]]),cl={class:"list-wrap",style:{"margin-top":"10px"}},pl={class:"card-wrap"},gl={name:"API"},ml=ue({...gl,setup(pe){const{setLoading:V}=Ce(!0),{t:u}=me(),D=A(!1),H=A(""),z=A(),e=A({base:{},log:{},auto_disabled_error:{},auto_enable_error:{},not_retry_error:{},not_shield_error:{},service_unavailable:{},general_api:{}}),Z=async o=>{o.action==="auto_disabled_error"&&e.value.auto_disabled_error.errors.length===0&&T(),o.action==="auto_enable_error"&&e.value.auto_enable_error.enable_errors.length===0&&J(),o.action==="not_retry_error"&&e.value.not_retry_error.errors.length===0&&Q(),o.action==="not_shield_error"&&e.value.not_shield_error.errors.length===0&&I(),o.action==="service_unavailable"&&e.value.service_unavailable.ip_whitelist.length===0&&y(),o.action==="general_api"&&e.value.general_api.ip_whitelist.length===0&&k(),H.value=u(`sys.config.item.title.${o.action}`),e.value.action=o.action,D.value=!0},P=async o=>{le.warning({title:u("modal.warning.title"),titleAlign:"center",content:`${u("sys.config.placeholder.are_you_sure")}${o.action!=="reset_api_error"?u("button.reset"):""}${u(`sys.config.item.title.${o.action}`)}?`,okText:u("button.ok"),cancelText:u("button.cancel"),hideCancel:!1,onOk:()=>{oe(o)}})},t=async o=>{le.warning({title:u("modal.warning.title"),titleAlign:"center",content:`${u("sys.config.placeholder.are_you_sure")}${u(`sys.config.item.title.${o.action}`)}?`,okText:u("button.ok"),cancelText:u("button.cancel"),hideCancel:!1,onOk:()=>{X(o)}})},W=async o=>{var n;if(await((n=z.value)==null?void 0:n.validate())){D.value=!0,o(!1);return}V(!0);try{await Se(e.value),o(),G.success(u("success.operate")),_()}catch{o(!1)}finally{V(!1)}},re=()=>{D.value=!1,e.value.auto_disabled_error.errors.length>0&&!e.value.auto_disabled_error.errors[e.value.auto_disabled_error.errors.length-1]&&M(e.value.auto_disabled_error.errors.length-1),e.value.auto_enable_error.enable_errors.length>0&&(!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].enable_time||!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].cron||!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].error)&&j(e.value.auto_enable_error.enable_errors.length-1),e.value.not_retry_error.errors.length>0&&!e.value.not_retry_error.errors[e.value.not_retry_error.errors.length-1]&&Y(e.value.not_retry_error.errors.length-1),e.value.not_shield_error.errors.length>0&&!e.value.not_shield_error.errors[e.value.not_shield_error.errors.length-1]&&i(e.value.not_shield_error.errors.length-1),e.value.service_unavailable.ip_whitelist.length>0&&!e.value.service_unavailable.ip_whitelist[e.value.service_unavailable.ip_whitelist.length-1]&&h(e.value.service_unavailable.ip_whitelist.length-1),e.value.general_api.ip_whitelist.length>0&&!e.value.general_api.ip_whitelist[e.value.general_api.ip_whitelist.length-1]&&E(e.value.general_api.ip_whitelist.length-1)},oe=async o=>{V(!0);try{await Ae({action:o.action}),G.success(u("success.operate")),_()}finally{V(!1)}},X=async o=>{V(!0);try{await Ie({action:o.action}),G.success(u("success.operate")),_()}finally{V(!1)}},N=async o=>{V(!0);try{await De({action:o.action,open:o.open||!1}),G.success(u("success.operate")),_()}finally{V(!1)}},r=A({}),_=async()=>{const{data:o}=await Te();e.value.base=o.base,e.value.log=o.log,e.value.auto_disabled_error=o.auto_disabled_error,e.value.auto_enable_error=o.auto_enable_error,e.value.not_retry_error=o.not_retry_error,e.value.not_shield_error=o.not_shield_error,e.value.service_unavailable=o.service_unavailable,e.value.general_api=o.general_api,r.value=[{action:"base",title:u("sys.config.item.title.base"),desc:u("sys.config.item.desc.base"),config:!0,reset:!0},{action:"log",title:u("sys.config.item.title.log"),desc:u("sys.config.item.desc.log"),open:e.value.log.open,config:!0,reset:!0},{action:"auto_disabled_error",title:u("sys.config.item.title.auto_disabled_error"),desc:u("sys.config.item.desc.auto_disabled_error"),open:e.value.auto_disabled_error.open,config:!0,reset:!0},{action:"auto_enable_error",title:u("sys.config.item.title.auto_enable_error"),desc:u("sys.config.item.desc.auto_enable_error"),open:e.value.auto_enable_error.open,config:!0,reset:!0},{action:"not_retry_error",title:u("sys.config.item.title.not_retry_error"),desc:u("sys.config.item.desc.not_retry_error"),open:e.value.not_retry_error.open,config:!0,reset:!0},{action:"not_shield_error",title:u("sys.config.item.title.not_shield_error"),desc:u("sys.config.item.desc.not_shield_error"),open:e.value.not_shield_error.open,config:!0,reset:!0},{action:"reset_api_error",title:u("sys.config.item.title.reset_api_error"),desc:u("sys.config.item.desc.reset_api_error"),reset:!0},{action:"refresh_api_cache",title:u("sys.config.item.title.refresh_api_cache"),desc:u("sys.config.item.desc.refresh_api_cache"),refresh:!0},{action:"service_unavailable",title:u("sys.config.item.title.service_unavailable"),desc:u("sys.config.item.desc.service_unavailable"),open:e.value.service_unavailable.open,config:!0,reset:!0},{action:"general_api",title:u("sys.config.item.title.general_api"),desc:u("sys.config.item.desc.general_api"),open:e.value.general_api.open,config:!0,reset:!0}]};_();const T=()=>{e.value.auto_disabled_error.errors.push("")},M=o=>{e.value.auto_disabled_error.errors.splice(o,1)},J=()=>{e.value.auto_enable_error.enable_errors.push({cron:"",enable_time:A(),error:""})},j=o=>{e.value.auto_enable_error.enable_errors.length>1&&e.value.auto_enable_error.enable_errors.splice(o,1)},Q=()=>{e.value.not_retry_error.errors.push("")},Y=o=>{e.value.not_retry_error.errors.splice(o,1)},I=()=>{e.value.not_shield_error.errors.push("")},i=o=>{e.value.not_shield_error.errors.splice(o,1)},y=()=>{e.value.service_unavailable.ip_whitelist.push("")},h=o=>{e.value.service_unavailable.ip_whitelist.splice(o,1)},k=()=>{e.value.general_api.ip_whitelist.push("")},E=o=>{e.value.general_api.ip_whitelist.splice(o,1)};return(o,m)=>{const n=ve,O=ye,Be=be,F=he,w=ke,ae=$e,te=de,se=_e,ie=ce,q=qe,S=we,K=Ze,ge=Je,p=Ve,$=Re,U=Le,Ne=Ue,Ge=le;return s(),B("div",cl,[a(ie,{class:"list-row",gutter:24},{default:l(()=>[(s(!0),B(R,null,L(r.value,f=>(s(),d(se,{key:f.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[fe("div",pl,[a(te,{title:f.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[f.open!==void 0?(s(),d(n,{key:0,modelValue:f.open,"onUpdate:modelValue":b=>f.open=b,onChange:b=>N(f)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[f.reset?(s(),d(F,{key:0,onClick:b=>P(f)},{default:l(()=>[g(v(o.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),f.refresh?(s(),d(F,{key:1,status:"success",onClick:b=>t(f)},{default:l(()=>[g(v(o.$t("button.refresh")),1)]),_:2},1032,["onClick"])):c("",!0),f.config?(s(),d(F,{key:2,type:"primary",onClick:b=>Z(f)},{default:l(()=>[g(v(o.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a(ae,{animation:!0},{default:l(()=>[a(w,{widths:["50%","50%","100%","40%"],rows:4}),a(w,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(Be,null,{description:l(()=>[g(v(f.desc)+" ",1),a(O,{data:f.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(Ge,{visible:D.value,"onUpdate:visible":m[29]||(m[29]=f=>D.value=f),title:o.$t(H.value),width:e.value.action==="base"?588:e.value.action==="log"?647:728,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:re,onBeforeOk:W},{default:l(()=>[a(Ne,{ref_key:"configForm",ref:z,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="base"?(s(),d(S,{key:0,field:"base.err_retry",label:o.$t("sys.config.label.base.err_retry"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.err_retry")}]},{default:l(()=>[a(q,{modelValue:e.value.base.err_retry,"onUpdate:modelValue":m[0]||(m[0]=f=>e.value.base.err_retry=f),placeholder:o.$t("sys.config.placeholder.base.err_retry"),"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(s(),d(S,{key:1,field:"base.model_key_err_disable",label:o.$t("sys.config.label.base.model_key_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.model_key_err_disable")}]},{default:l(()=>[a(q,{modelValue:e.value.base.model_key_err_disable,"onUpdate:modelValue":m[1]||(m[1]=f=>e.value.base.model_key_err_disable=f),placeholder:o.$t("sys.config.placeholder.base.model_key_err_disable"),min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(s(),d(S,{key:2,field:"base.model_agent_err_disable",label:o.$t("sys.config.label.base.model_agent_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.model_agent_err_disable")}]},{default:l(()=>[a(q,{modelValue:e.value.base.model_agent_err_disable,"onUpdate:modelValue":m[2]||(m[2]=f=>e.value.base.model_agent_err_disable=f),placeholder:o.$t("sys.config.placeholder.base.model_agent_err_disable"),min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(s(),d(S,{key:3,field:"base.model_agent_key_err_disable",label:o.$t("sys.config.label.base.model_agent_key_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.model_agent_key_err_disable")}]},{default:l(()=>[a(q,{modelValue:e.value.base.model_agent_key_err_disable,"onUpdate:modelValue":m[3]||(m[3]=f=>e.value.base.model_agent_key_err_disable=f),placeholder:o.$t("sys.config.placeholder.base.model_agent_key_err_disable"),min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(s(),d(S,{key:4,field:"base.short_timeout",label:o.$t("sys.config.label.base.short_timeout"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.short_timeout")}]},{default:l(()=>[a(q,{modelValue:e.value.base.short_timeout,"onUpdate:modelValue":m[4]||(m[4]=f=>e.value.base.short_timeout=f),placeholder:o.$t("sys.config.placeholder.base.short_timeout"),min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(s(),d(S,{key:5,field:"base.long_timeout",label:o.$t("sys.config.label.base.long_timeout"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.long_timeout")}]},{default:l(()=>[a(q,{modelValue:e.value.base.long_timeout,"onUpdate:modelValue":m[5]||(m[5]=f=>e.value.base.long_timeout=f),placeholder:o.$t("sys.config.placeholder.base.long_timeout"),min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:6,field:"log.text_records",label:o.$t("sys.config.label.log.text_records")},{default:l(()=>[a(ge,{size:"large"},{default:l(()=>[a(K,{modelValue:e.value.log.text_records,"onUpdate:modelValue":m[6]||(m[6]=f=>e.value.log.text_records=f),value:"prompt"},{default:l(()=>[g(v(o.$t("sys.config.dict.text_records.prompt")),1)]),_:1},8,["modelValue"]),a(K,{modelValue:e.value.log.text_records,"onUpdate:modelValue":m[7]||(m[7]=f=>e.value.log.text_records=f),value:"completion"},{default:l(()=>[g(v(o.$t("sys.config.dict.text_records.completion")),1)]),_:1},8,["modelValue"]),a(K,{modelValue:e.value.log.text_records,"onUpdate:modelValue":m[8]||(m[8]=f=>e.value.log.text_records=f),value:"messages"},{default:l(()=>[g(v(o.$t("sys.config.dict.text_records.messages")),1)]),_:1},8,["modelValue"]),a(K,{modelValue:e.value.log.text_records,"onUpdate:modelValue":m[9]||(m[9]=f=>e.value.log.text_records=f),value:"image"},{default:l(()=>[g(v(o.$t("sys.config.dict.text_records.image")),1)]),_:1},8,["modelValue"]),a(K,{modelValue:e.value.log.text_records,"onUpdate:modelValue":m[10]||(m[10]=f=>e.value.log.text_records=f),value:"audio"},{default:l(()=>[g(v(o.$t("sys.config.dict.text_records.audio")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:7,field:"log.text_reserve",label:o.$t("sys.config.label.log.text_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.text_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.text_reserve,"onUpdate:modelValue":m[11]||(m[11]=f=>e.value.log.text_reserve=f),placeholder:o.$t("sys.config.placeholder.log.text_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:8,field:"log.image_reserve",label:o.$t("sys.config.label.log.image_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.image_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.image_reserve,"onUpdate:modelValue":m[12]||(m[12]=f=>e.value.log.image_reserve=f),placeholder:o.$t("sys.config.placeholder.log.image_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:9,field:"log.audio_reserve",label:o.$t("sys.config.label.log.audio_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.audio_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.audio_reserve,"onUpdate:modelValue":m[13]||(m[13]=f=>e.value.log.audio_reserve=f),placeholder:o.$t("sys.config.placeholder.log.audio_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:10,field:"log.video_reserve",label:o.$t("sys.config.label.log.video_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.video_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.video_reserve,"onUpdate:modelValue":m[14]||(m[14]=f=>e.value.log.video_reserve=f),placeholder:o.$t("sys.config.placeholder.log.video_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:11,field:"log.file_reserve",label:o.$t("sys.config.label.log.file_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.file_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.file_reserve,"onUpdate:modelValue":m[15]||(m[15]=f=>e.value.log.file_reserve=f),placeholder:o.$t("sys.config.placeholder.log.file_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:12,field:"log.batch_reserve",label:o.$t("sys.config.label.log.batch_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.batch_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.batch_reserve,"onUpdate:modelValue":m[16]||(m[16]=f=>e.value.log.batch_reserve=f),placeholder:o.$t("sys.config.placeholder.log.batch_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:13,field:"log.general_reserve",label:o.$t("sys.config.label.log.general_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.general_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.general_reserve,"onUpdate:modelValue":m[17]||(m[17]=f=>e.value.log.general_reserve=f),placeholder:o.$t("sys.config.placeholder.log.general_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[g(v(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:14,field:"log.status",label:o.$t("sys.config.label.log.status"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.status")}]},{default:l(()=>[a(ge,{size:"large"},{default:l(()=>[a(K,{modelValue:e.value.log.status,"onUpdate:modelValue":m[18]||(m[18]=f=>e.value.log.status=f),value:1},{default:l(()=>[g(v(o.$t("log.dict.status.1")),1)]),_:1},8,["modelValue"]),a(K,{modelValue:e.value.log.status,"onUpdate:modelValue":m[19]||(m[19]=f=>e.value.log.status=f),value:2},{default:l(()=>[g(v(o.$t("log.dict.status.2")),1)]),_:1},8,["modelValue"]),a(K,{modelValue:e.value.log.status,"onUpdate:modelValue":m[20]||(m[20]=f=>e.value.log.status=f),value:3},{default:l(()=>[g(v(o.$t("log.dict.status.3")),1)]),_:1},8,["modelValue"]),a(K,{modelValue:e.value.log.status,"onUpdate:modelValue":m[21]||(m[21]=f=>e.value.log.status=f),value:-1},{default:l(()=>[g(v(o.$t("log.dict.status.-1")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(s(),d(S,{key:15,field:"log.cron",label:o.$t("sys.config.label.log.cron"),rules:[{required:!0,message:o.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(p,{modelValue:e.value.log.cron,"onUpdate:modelValue":m[22]||(m[22]=f=>e.value.log.cron=f),placeholder:o.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),(s(!0),B(R,null,L(e.value.auto_disabled_error.errors,(f,b)=>x((s(),d(S,{key:b,field:`auto_disabled_error.errors[${b}]`,label:`${b+1}. `,rules:[{required:!0,message:o.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(p,{modelValue:e.value.auto_disabled_error.errors[b],"onUpdate:modelValue":C=>e.value.auto_disabled_error.errors[b]=C,placeholder:o.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"86%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[23]||(m[23]=C=>T())},{default:l(()=>[a($)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:C=>M(b)},{default:l(()=>[a(U)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="auto_disabled_error"]])),128)),(s(!0),B(R,null,L(e.value.auto_enable_error.enable_errors,(f,b)=>x((s(),d(S,{key:b,field:`auto_enable_error.enable_errors[${b}].cron`&&`auto_enable_error.enable_errors[${b}].enable_time`&&`auto_enable_error.enable_errors[${b}].error`,label:`${b+1}.`,rules:[{required:!0,message:o.$t("sys.config.error.required.auto_enable_error")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(p,{modelValue:e.value.auto_enable_error.enable_errors[b].cron,"onUpdate:modelValue":C=>e.value.auto_enable_error.enable_errors[b].cron=C,placeholder:o.$t("sys.config.placeholder.auto_enable_error.enable_errors.cron"),"allow-clear":"",style:{width:"20%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(q,{modelValue:e.value.auto_enable_error.enable_errors[b].enable_time,"onUpdate:modelValue":C=>e.value.auto_enable_error.enable_errors[b].enable_time=C,placeholder:o.$t("sys.config.placeholder.auto_enable_error.enable_errors.enable_time"),"allow-clear":"",style:{width:"22%","margin-right":"5px"}},{append:l(()=>[g(v(o.$t("unit.second")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),a(p,{modelValue:e.value.auto_enable_error.enable_errors[b].error,"onUpdate:modelValue":C=>e.value.auto_enable_error.enable_errors[b].error=C,placeholder:o.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"42%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[24]||(m[24]=C=>J())},{default:l(()=>[a($)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:C=>j(b)},{default:l(()=>[a(U)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="auto_enable_error"]])),128)),(s(!0),B(R,null,L(e.value.not_retry_error.errors,(f,b)=>x((s(),d(S,{key:b,field:`not_retry_error.errors[${b}]`,label:`${b+1}. `,rules:[{required:!0,message:o.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(p,{modelValue:e.value.not_retry_error.errors[b],"onUpdate:modelValue":C=>e.value.not_retry_error.errors[b]=C,placeholder:o.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"86%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[25]||(m[25]=C=>Q())},{default:l(()=>[a($)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:C=>Y(b)},{default:l(()=>[a(U)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="not_retry_error"]])),128)),(s(!0),B(R,null,L(e.value.not_shield_error.errors,(f,b)=>x((s(),d(S,{key:b,field:`not_shield_error.errors[${b}]`,label:`${b+1}. `,rules:[{required:!0,message:o.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(p,{modelValue:e.value.not_shield_error.errors[b],"onUpdate:modelValue":C=>e.value.not_shield_error.errors[b]=C,placeholder:o.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"86%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[26]||(m[26]=C=>I())},{default:l(()=>[a($)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:C=>i(b)},{default:l(()=>[a(U)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="not_shield_error"]])),128)),(s(!0),B(R,null,L(e.value.service_unavailable.ip_whitelist,(f,b)=>x((s(),d(S,{key:b,field:`service_unavailable.ip_whitelist[${b}]`,label:`${b+1}. `+o.$t("common.ip_whitelist"),rules:[{required:!0,message:o.$t("sys.config.error.required.service_unavailable.ip_whitelist")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(p,{modelValue:e.value.service_unavailable.ip_whitelist[b],"onUpdate:modelValue":C=>e.value.service_unavailable.ip_whitelist[b]=C,placeholder:o.$t("sys.config.placeholder.service_unavailable.ip_whitelist"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[27]||(m[27]=C=>y())},{default:l(()=>[a($)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:C=>h(b)},{default:l(()=>[a(U)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="service_unavailable"]])),128)),(s(!0),B(R,null,L(e.value.general_api.ip_whitelist,(f,b)=>x((s(),d(S,{key:b,field:`general_api.ip_whitelist[${b}]`,label:`${b+1}. `+o.$t("common.ip_whitelist"),rules:[{required:!0,message:o.$t("sys.config.error.required.general_api.ip_whitelist")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(p,{modelValue:e.value.general_api.ip_whitelist[b],"onUpdate:modelValue":C=>e.value.general_api.ip_whitelist[b]=C,placeholder:o.$t("sys.config.placeholder.general_api.ip_whitelist"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:m[28]||(m[28]=C=>k())},{default:l(()=>[a($)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:C=>E(b)},{default:l(()=>[a(U)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="general_api"]])),128))]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Oe=ne(ml,[["__scopeId","data-v-51d94a83"]]),fl={class:"container"},vl={name:"SysConfig"},yl=ue({...vl,setup(pe){return(V,u)=>{const D=Pe,H=Qe,z=We,e=Xe,Z=Ye,P=_e,t=ce,W=de;return s(),B("div",fl,[a(z,{class:"container-breadcrumb"},{default:l(()=>[a(H,null,{default:l(()=>[a(D)]),_:1}),a(H,null,{default:l(()=>[g(v(V.$t("sys.menu")),1)]),_:1}),a(H,null,{default:l(()=>[g(v(V.$t("sys.config.menu")),1)]),_:1})]),_:1}),a(t,{gutter:20,align:"stretch"},{default:l(()=>[a(P,{span:24},{default:l(()=>[a(W,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 14px"}},{default:l(()=>[a(t,{justify:"space-between"},{default:l(()=>[a(P,{span:24},{default:l(()=>[a(Z,{"default-active-tab":0,type:"rounded"},{default:l(()=>[a(e,{key:"0",title:V.$t("common.all")},{default:l(()=>[a(Ee),a(Fe),a(He),a(Oe)]),_:1},8,["title"]),a(e,{key:"1",title:V.$t("sys.config.tab.title.global")},{default:l(()=>[a(Ee)]),_:1},8,["title"]),a(e,{key:"2",title:V.$t("sys.config.tab.title.general")},{default:l(()=>[a(Fe)]),_:1},8,["title"]),a(e,{key:"3",title:V.$t("sys.config.tab.title.task")},{default:l(()=>[a(He)]),_:1},8,["title"]),a(e,{key:"4",title:V.$t("sys.config.tab.title.api")},{default:l(()=>[a(Oe)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}});const Hl=ne(yl,[["__scopeId","data-v-9173f87c"]]);export{Hl as default};
