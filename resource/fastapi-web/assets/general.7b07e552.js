import{u as Le,_ as Ne,J as ol,s as nl,A as sl,k as il,B as ul}from"./index.9568ffd6.js";/* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css              */import{d as ze,e as w,w as Me,aZ as dl,bF as Ae,B as l,C as _,bu as k,aD as n,aG as e,aH as a,u as m,aL as d,aM as s,D as U,aE as rl,bA as ml,bB as _l,ad as pl,bC as cl,a6 as be,bj as de,bD as Be,bE as fl,bi as Pe,bb as yl,b6 as vl,a_ as Te,r as De,c as ke,h as H,aJ as j,aI as J,E as kl,n as gl,aK as bl,aF as hl,bH as $l,bI as wl,b2 as Vl,bG as Cl,b1 as Il,aS as ql,bJ as Sl,bK as Dl,b5 as Ul,bL as Ll,ab as Nl,aU as zl,bk as Ml,bl as Al,b4 as Bl,bM as Pl,bN as Tl,aV as Fl,bT as Hl}from"./arco.3f46b4ae.js";import{u as Fe}from"./loading.37fd256d.js";import{b as N,a as Ue}from"./common.cfd92899.js";import{V as Gl,_ as He,r as Yl,u as El,w as Rl}from"./styles.8894ff25.js";import{e as jl}from"./app.8ff6d005.js";import{c as ge,S as Jl}from"./sortable.esm.078712c4.js";import{u as Ql,h as Wl}from"./vue.dbcf9bc3.js";import{q as Ol}from"./model.317ef65e.js";import{q as Kl}from"./model_agent.0b0fc9cc.js";import{Q as he}from"./quota.42a28822.js";/* empty css               *//* empty css                *//* empty css                */import"./chart.2cea905d.js";const Zl={style:{margin:"10px 0 30px 10px"}},Xl={key:1},xl={key:1},ea={key:1},la={key:1},aa={key:1},ta={key:1},oa={key:1},na={key:1},sa={key:1},ia={key:1},ua={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},da={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ra={key:1},ma={key:1},_a={key:1},pa={key:1},ca={key:1},fa={key:1},ya={key:1},va={key:1},ka={key:1},ga={key:1},ba={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ha={key:1},$a={key:1},wa={key:1},Va={key:1},Ca={key:1},Ia={key:1},qa={key:1},Sa={key:1},Da={key:1},Ua={key:1},La={key:1},Na={key:1},za={key:1},Ma={key:1},Aa={key:1},Ba={key:1},Pa={key:1},Ta={key:1},Fa={key:1},Ha={key:1},Ga={key:1},Ya={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ea={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ra={key:1},ja={key:1},Ja={key:1},Qa={key:1},Wa={key:1},Oa={key:1},Ka={key:1},Za={key:1},Xa={key:1},xa={key:1},et={key:1},lt={key:1},at={key:1},tt={key:1},ot={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},nt={key:1},st={name:"LogGeneralDetail"},it=ze({...st,props:{id:{type:String,default:""}},setup($e){const re=$e,{t:ee}=Le(),{loading:u,setLoading:q}=Fe(!0),o=w({}),{copy:le,copied:Q}=Ql();(async(i={id:re.id})=>{q(!0);try{const{data:$}=await Yl(i);o.value=$}catch{}finally{q(!1)}})();const v=i=>{le(i)};Me(Q,()=>{Q.value&&dl.success(ee("success.copy"))});const S=async(i,$)=>{const{data:p}=await El({id:i,field:$});le(p.value)},F=w(!1),G=w(),z=w(),Y=async(i,$)=>{F.value=!0,G.value=i,z.value=$};return(i,$)=>{const p=ml,c=_l,M=pl,f=cl,ae=be,te=de,b=Be,W=fl,oe=Pe,_e=yl,ne=vl,we=Te,E=Ae("permission");return l(),_("div",Zl,[k((l(),n(W,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(f,{label:i.$t("common.trace_id"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Xl,[d(s(o.value.trace_id)+" ",1),a(M,{class:"copy-btn",onClick:$[0]||($[0]=V=>v(o.value.trace_id))})]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.host"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",xl,s(o.value.host||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.path"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ea,s(o.value.method||"-")+" "+s(o.value.path||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.creator"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",la,[d(s(o.value.creator)+" ",1),a(M,{class:"copy-btn",onClick:$[1]||($[1]=V=>S(o.value.id,"creator"))})]))]),_:1},8,["label"]),a(f,{label:i.$t("common.user_id")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",aa,s(o.value.user_id||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.app_id")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",ta,s(o.value.app_id||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.provider")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",oa,s(o.value.provider_name),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.model")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",na,s(o.value.model||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.model_type")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",sa,s(i.$t(`dict.model_type.${o.value.model_type}`)),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.stream")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ia,s(i.$t(`dict.${o.value.stream||!1}`)),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.request_data"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ua,s(o.value.request_data||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.response_data"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",da,s(o.value.response_data||o.value.completion||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.group_name")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ra,s(o.value.spend.group_name||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.discount")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ma,s(o.value.spend.group_discount>0?Number((o.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.billing_methods")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",_a,s(o.value.spend.billing_methods?i.$t(`dict.billing_methods.${o.value.spend.billing_methods}`):"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.total.spend")},{label:e(()=>[U("span",null,[d(s(i.$t("common.total.spend"))+" ",1),a(te,{content:i.$t("log.columns.tooltip.total_spend_tokens"),"content-style":{whiteSpace:"nowrap",maxWidth:"none"}},{default:e(()=>[a(ae,{style:{color:"var(--color-text-3)"}})]),_:1},8,["content"])])]),default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",{key:1,class:"spend",onClick:$[2]||($[2]=V=>o.value.status===1||o.value.status===2?Y(o.value.spend,o.value.model_type):void 0)},[o.value.status===1||o.value.status===2?(l(),n(he,{key:0,"model-value":o.value.spend.total_spend_tokens},null,8,["model-value"])):(l(),_("span",pa," - "))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.conn_time")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ca,[o.value.conn_time>3e4?(l(),n(b,{key:0,color:"red"},{default:e(()=>[d(s(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>15e3?(l(),n(b,{key:1,color:"orange"},{default:e(()=>[d(s(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>5e3?(l(),n(b,{key:2,color:"gold"},{default:e(()=>[d(s(o.value.conn_time)+" ms ",1)]),_:1})):(l(),n(b,{key:3,color:"green"},{default:e(()=>[d(s(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.duration")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",fa,[o.value.duration>18e4?(l(),n(b,{key:0,color:"red"},{default:e(()=>[d(s(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>12e4?(l(),n(b,{key:1,color:"orange"},{default:e(()=>[d(s(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>9e4?(l(),n(b,{key:2,color:"gold"},{default:e(()=>[d(s(o.value.duration)+" ms ",1)]),_:1})):(l(),n(b,{key:3,color:"green"},{default:e(()=>[d(s(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.total_time")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ya,[o.value.total_time>18e4?(l(),n(b,{key:0,color:"red"},{default:e(()=>[d(s(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>12e4?(l(),n(b,{key:1,color:"orange"},{default:e(()=>[d(s(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>9e4?(l(),n(b,{key:2,color:"gold"},{default:e(()=>[d(s(o.value.total_time)+" ms ",1)]),_:1})):(l(),n(b,{key:3,color:"green"},{default:e(()=>[d(s(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.status")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",va,[o.value.status===1?(l(),n(b,{key:0,color:"green"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===2?(l(),n(b,{key:1,color:"gold"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===3?(l(),n(b,{key:2,color:"orange"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1})):(l(),n(b,{key:3,color:"red"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.client_ip")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",ka,s(o.value.client_ip||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.req_time")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",ga,s(o.value.req_time||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.err_msg")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ba,s(o.value.err_msg||"-"),1))]),_:1},8,["label"])]),_:1})),[[E,["user","reseller"]]]),k((l(),n(W,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(f,{label:i.$t("common.trace_id"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ha,[d(s(o.value.trace_id)+" ",1),a(M,{class:"copy-btn",onClick:$[3]||($[3]=V=>v(o.value.trace_id))})]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.host"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",$a,s(o.value.host||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.path"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",wa,s(o.value.method||"-")+" "+s(o.value.path||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.creator"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Va,[d(s(o.value.is_smart_match?"-":o.value.creator)+" ",1),o.value.is_smart_match?rl("",!0):(l(),n(M,{key:0,class:"copy-btn",onClick:$[4]||($[4]=V=>S(o.value.id,"creator"))}))]))]),_:1},8,["label"]),a(f,{label:i.$t("common.user_id")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",Ca,s(o.value.is_smart_match?"-":o.value.user_id||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.app_id")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",Ia,s(o.value.is_smart_match?"-":o.value.app_id||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.provider")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",qa,s(o.value.provider_name),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.model_type")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Sa,s(i.$t(`dict.model_type.${o.value.model_type}`)),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.req_model_name")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",Da,s(o.value.model_name||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.req_model")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ua,s(o.value.model||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.real_model_name")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",La,s(o.value.real_model_name),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.real_model")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Na,s(o.value.real_model),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.stream")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",za,s(i.$t(`dict.${o.value.stream||!1}`)),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.enable_fallback")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ma,s(i.$t(`dict.${o.value.is_enable_fallback||!1}`)),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.fallback_model_agent")},{default:e(()=>{var V,D;return[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",Aa,s(((D=(V=o.value)==null?void 0:V.fallback_config)==null?void 0:D.model_agent_name)||"-"),1))]}),_:1},8,["label"]),a(f,{label:i.$t("log.detail.fallback_model")},{default:e(()=>{var V,D;return[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",Ba,s(((D=(V=o.value)==null?void 0:V.fallback_config)==null?void 0:D.model)||"-"),1))]}),_:1},8,["label"]),a(f,{label:i.$t("log.detail.enable_forward")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Pa,s(i.$t(`dict.${o.value.is_enable_forward||!1}`)),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.forward_rule")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ta,s(o.value.is_enable_forward?i.$t(`dict.forward_rule.${o.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.enable_model_agent")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Fa,s(i.$t(`dict.${o.value.is_enable_model_agent||!1}`)),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.model_agent_name")},{default:e(()=>{var V,D;return[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",Ha,s(((D=(V=o.value)==null?void 0:V.model_agent)==null?void 0:D.name)||"-"),1))]}),_:1},8,["label"]),a(f,{label:i.$t("common.key"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ga,[d(s(o.value.key?o.value.key.length>0?o.value.key.substr(0,o.value.key.length/2>10?10:o.value.key.length/2)+"************************************"+o.value.key.substr(-(o.value.key.length/2>5?5:o.value.key.length/2)):o.value.key:"-")+" ",1),a(M,{class:"copy-btn",onClick:$[5]||($[5]=V=>S(o.value.id,"key"))})]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.request_data"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ya,s(o.value.request_data||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.response_data"),span:2},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ea,s(o.value.response_data||o.value.completion||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.group_name")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ra,s(o.value.spend.group_name||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.discount")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ja,s(o.value.spend.group_discount>0?Number((o.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.billing_methods")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ja,s(o.value.spend.billing_methods?i.$t(`dict.billing_methods.${o.value.spend.billing_methods}`):"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.total.spend")},{label:e(()=>[U("span",null,[d(s(i.$t("common.total.spend"))+" ",1),a(te,{content:i.$t("log.columns.tooltip.total_spend_tokens"),"content-style":{whiteSpace:"nowrap",maxWidth:"none"}},{default:e(()=>[a(ae,{style:{color:"var(--color-text-3)"}})]),_:1},8,["content"])])]),default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",{key:1,class:"spend",onClick:$[6]||($[6]=V=>o.value.status===1||o.value.status===2?Y(o.value.spend,o.value.model_type):void 0)},[o.value.status===1||o.value.status===2?(l(),n(he,{key:0,"model-value":o.value.spend.total_spend_tokens},null,8,["model-value"])):(l(),_("span",Qa," - "))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.conn_time")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Wa,[o.value.conn_time>1e4?(l(),n(b,{key:0,color:"red"},{default:e(()=>[d(s(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>5e3?(l(),n(b,{key:1,color:"orange"},{default:e(()=>[d(s(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>3e3?(l(),n(b,{key:2,color:"gold"},{default:e(()=>[d(s(o.value.conn_time)+" ms ",1)]),_:1})):(l(),n(b,{key:3,color:"green"},{default:e(()=>[d(s(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.duration")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Oa,[o.value.duration>12e4?(l(),n(b,{key:0,color:"red"},{default:e(()=>[d(s(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>9e4?(l(),n(b,{key:1,color:"orange"},{default:e(()=>[d(s(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>6e4?(l(),n(b,{key:2,color:"gold"},{default:e(()=>[d(s(o.value.duration)+" ms ",1)]),_:1})):(l(),n(b,{key:3,color:"green"},{default:e(()=>[d(s(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.total_time")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Ka,[o.value.total_time>12e4?(l(),n(b,{key:0,color:"red"},{default:e(()=>[d(s(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>9e4?(l(),n(b,{key:1,color:"orange"},{default:e(()=>[d(s(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>6e4?(l(),n(b,{key:2,color:"gold"},{default:e(()=>[d(s(o.value.total_time)+" ms ",1)]),_:1})):(l(),n(b,{key:3,color:"green"},{default:e(()=>[d(s(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.internal_time")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Za,[o.value.internal_time>500?(l(),n(b,{key:0,color:"red"},{default:e(()=>[d(s(o.value.internal_time)+" ms ",1)]),_:1})):o.value.internal_time>300?(l(),n(b,{key:1,color:"orange"},{default:e(()=>[d(s(o.value.internal_time)+" ms ",1)]),_:1})):o.value.internal_time>100?(l(),n(b,{key:2,color:"gold"},{default:e(()=>[d(s(o.value.internal_time)+" ms ",1)]),_:1})):(l(),n(b,{key:3,color:"green"},{default:e(()=>[d(s(o.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.status")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",Xa,[o.value.status===1?(l(),n(b,{key:0,color:"green"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===2?(l(),n(b,{key:1,color:"gold"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===3?(l(),n(b,{key:2,color:"orange"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1})):(l(),n(b,{key:3,color:"red"},{default:e(()=>[d(s(i.$t(`log.dict.status.${o.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.local_ip")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",xa,s(o.value.local_ip||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.client_ip")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",et,s(o.value.client_ip||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.remote_ip")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",lt,s(o.value.remote_ip||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.req_time")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",at,s(o.value.req_time||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("common.created_at")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(l(),_("span",tt,s(o.value.created_at||"-"),1))]),_:1},8,["label"]),a(f,{label:i.$t("log.detail.err_msg")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(l(),_("span",ot,s(o.value.err_msg||"-"),1))]),_:1},8,["label"])]),_:1})),[[E,["admin"]]]),k((l(),n(W,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(f,null,{default:e(()=>[a(ne,{type:"card"},{default:e(()=>[a(_e,{key:"1",title:i.$t("common.model_agents")},{default:e(()=>[m(u)?(l(),n(c,{key:0,animation:!0},{default:e(()=>[a(p,{rows:3})]),_:1})):(l(),n(oe,{key:1},{default:e(()=>[o.value.model_agent?(l(),n(m(Gl),{key:0,data:o.value.model_agent,"show-length":!0},null,8,["data"])):(l(),_("span",nt,"-"))]),_:1}))]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})),[[E,["admin"]]]),a(we,{visible:F.value,"onUpdate:visible":$[8]||($[8]=V=>F.value=V),width:1068,"body-style":{maxHeight:"520px"},"modal-style":{padding:"25px 20px 20px 20px"},"hide-title":"","hide-cancel":"","unmount-on-close":"",simple:"","ok-text":i.$t("button.close")},{default:e(()=>[a(He,{modelValue:G.value,"onUpdate:modelValue":$[7]||($[7]=V=>G.value=V),"model-type":z.value},null,8,["modelValue","model-type"])]),_:1},8,["visible","ok-text"])])}}});const ut=Ne(it,[["__scopeId","data-v-aa0a8769"]]),dt={class:"container"},rt={class:"action-icon"},mt={class:"action-icon"},_t={id:"tableSetting"},pt={style:{"margin-right":"4px",cursor:"move"}},ct={class:"title"},ft=["onClick"],yt={key:1},vt={name:"LogGeneralList"},kt=ze({...vt,setup($e){const{loading:re,setLoading:ee}=Fe(!0),{t:u}=Le(),q=localStorage.getItem("userRole"),o=Wl(),le=De({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),Q=()=>({app_id:w(),trace_id:w(),user_id:w(),key:"",models:[],model_agents:[],total_time:w(),status:w(),req_time:[Ue().format("YYYY-MM-DD 00:00:00"),Ue().format("YYYY-MM-DD 23:59:59")]}),me=w([]),v=w(Q()),S=w([]),F=w([]),G=w("medium"),z={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},Y=De({...z}),i=ke(()=>[{name:u("size.mini"),value:"mini"},{name:u("size.small"),value:"small"},{name:u("size.medium"),value:"medium"},{name:u("size.large"),value:"large"}]),$=ke(()=>[{title:u(q==="reseller"||q==="admin"?"common.user_id":"common.app_id"),dataIndex:q==="reseller"||q==="admin"?"user_id":"app_id",slotName:q==="reseller"||q==="admin"?"user_id":"app_id",align:"center",width:75},{title:u("common.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:u("log.columns.input_tokens"),dataIndex:"input_tokens",slotName:"input_tokens",align:"center",width:85},{title:u("log.columns.output_tokens"),dataIndex:"output_tokens",slotName:"output_tokens",align:"center",width:85},{title:u("common.total.spend"),dataIndex:"total_spend_tokens",slotName:"total_spend_tokens",align:"center",width:110,slots:{title:()=>[H("div",{style:{display:"flex",alignItems:"center",gap:"3px",justifyContent:"center"}},[H("span",u("common.total.spend")),H(de,{content:u("log.columns.tooltip.total_spend_tokens"),contentStyle:{whiteSpace:"nowrap",maxWidth:"none"}},{default:()=>H(be,{style:{color:"var(--color-text-3)"}})})])]}},{title:u("log.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center",width:60},{title:u("log.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:u("log.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:u("log.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center",slots:{title:()=>[H("div",{style:{display:"flex",alignItems:"center",gap:"3px",justifyContent:"center"}},[H("span",u("log.columns.total_time")),H(de,{content:u("log.columns.tooltip.total_time"),contentStyle:{whiteSpace:"nowrap",maxWidth:"none"}},{default:()=>H(be,{style:{color:"var(--color-text-3)"}})})])]}},{title:u("log.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:u("log.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:u("common.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:u("common.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]),p=ke(()=>[{label:u("log.dict.status.1"),value:1},{label:u("log.dict.status.2"),value:2},{label:u("log.dict.status.-1"),value:-1}]);q==="admin"&&p.value.push({label:u("log.dict.status.3"),value:3},{label:u("log.dict.status.-100"),value:-100}),v.value.trace_id=o.query.trace_id;const c=async(r={...z,...v.value})=>{ee(!0);try{const{data:y}=await Rl(r);me.value=y.items,Y.current=r.current,Y.pageSize=r.pageSize,Y.total=y.paging.total}catch{}finally{ee(!1)}};c();const M=()=>{c({...z,...v.value})},f=r=>{c({...z,...v.value,current:r})},ae=r=>{z.pageSize=r,c({...z,...v.value})},te=()=>{v.value=Q(),M()},b=(r,y)=>{G.value=r},W=(r,y,A)=>{r?S.value.splice(A,0,y):S.value=F.value.filter(L=>L.dataIndex!==y.dataIndex)},oe=(r,y,A,L=!1)=>{const B=L?ge(r):r;return y>-1&&A>-1&&B.splice(y,1,B.splice(A,1,B[y]).pop()),B},_e=r=>{r&&gl(()=>{const y=document.getElementById("tableSetting");new Jl(y,{onEnd(A){const{oldIndex:L,newIndex:B}=A;oe(S.value,L,B),oe(F.value,L,B)}})})};Me(()=>$.value,r=>{S.value=ge(r),q!=="admin"&&S.value.splice(9,1),S.value.forEach((y,A)=>{y.checked=!0}),F.value=ge(S.value)},{deep:!0,immediate:!0});const ne=w([]);q==="user"&&(async()=>{try{const{data:r}=await jl();ne.value=r.items}catch{}})();const E=w([]);(async()=>{try{const{data:r}=await Ol();E.value=r.items}catch{}})();const D=w([]);q==="admin"&&(async()=>{try{const{data:r}=await Kl();D.value=r.items}catch{}})();const pe=w(!1),Ve=w(),Ge=r=>{pe.value=!0,Ve.value=r},Ye=()=>{pe.value=!1},ce=w(!1),fe=w(),Ce=w(),Ee=async(r,y)=>{ce.value=!0,fe.value=r,Ce.value=y};return(r,y)=>{const A=ol,L=bl,B=hl,se=$l,R=wl,I=Vl,C=Cl,O=Il,ie=ql,Ie=Sl,ue=Dl,Re=Ul,qe=Ll,je=Nl,ye=zl,Se=nl,Je=Pe,ve=de,Qe=sl,We=Ml,Oe=Al,Ke=il,Ze=ul,Xe=Bl,xe=Pl,h=Be,el=Tl,ll=Fl,al=Te,tl=Hl,g=Ae("permission");return l(),_("div",dt,[a(B,{class:"container-breadcrumb"},{default:e(()=>[a(L,null,{default:e(()=>[a(A)]),_:1}),a(L,null,{default:e(()=>[d(s(r.$t("log.menu")),1)]),_:1}),a(L,null,{default:e(()=>[d(s(r.$t("log.menu.general")),1)]),_:1})]),_:1}),a(tl,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(ue,null,{default:e(()=>[a(C,{flex:1},{default:e(()=>[a(Re,{model:v.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[k((l(),n(ue,{gutter:16},{default:e(()=>[k((l(),n(C,{span:8},{default:e(()=>[a(I,{field:"app_id",label:r.$t("log.form.app_id")},{default:e(()=>[a(R,{modelValue:v.value.app_id,"onUpdate:modelValue":y[0]||(y[0]=t=>v.value.app_id=t),placeholder:r.$t("common.all"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),_(j,null,J(ne.value,t=>(l(),n(se,{key:t.app_id,value:t.app_id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[g,["user"]]]),k((l(),n(C,{span:8},{default:e(()=>[a(I,{field:"trace_id",label:r.$t("common.trace_id")},{default:e(()=>[a(O,{modelValue:v.value.trace_id,"onUpdate:modelValue":y[1]||(y[1]=t=>v.value.trace_id=t),placeholder:r.$t("placeholder.trace_id"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[g,["reseller"]]]),k((l(),n(C,{span:8},{default:e(()=>[a(I,{field:"user_id",label:r.$t("common.user_id")},{default:e(()=>[a(ie,{modelValue:v.value.user_id,"onUpdate:modelValue":y[2]||(y[2]=t=>v.value.user_id=t),placeholder:r.$t("placeholder.user_id"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[g,["reseller"]]]),k((l(),n(C,{span:8},{default:e(()=>[a(I,{field:"key",label:r.$t("common.key")},{default:e(()=>[a(O,{modelValue:v.value.key,"onUpdate:modelValue":y[3]||(y[3]=t=>v.value.key=t),placeholder:r.$t("placeholder.key"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[g,["user"]]]),k((l(),n(C,{span:8},{default:e(()=>[a(I,{field:"trace_id",label:r.$t("common.trace_id")},{default:e(()=>[a(O,{modelValue:v.value.trace_id,"onUpdate:modelValue":y[4]||(y[4]=t=>v.value.trace_id=t),placeholder:r.$t("placeholder.trace_id"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[g,["user"]]]),k((l(),n(C,{span:8},{default:e(()=>[a(I,{field:"total_time",label:r.$t("log.form.total_time")},{default:e(()=>[a(ie,{modelValue:v.value.total_time,"onUpdate:modelValue":y[5]||(y[5]=t=>v.value.total_time=t),placeholder:r.$t("log.form.placeholder.total_time"),precision:0,min:1,"allow-clear":""},{append:e(()=>[d(" ms ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[g,["reseller"]]]),a(C,{span:8},{default:e(()=>[a(I,{field:"models",label:r.$t("common.model")},{default:e(()=>[a(R,{modelValue:v.value.models,"onUpdate:modelValue":y[6]||(y[6]=t=>v.value.models=t),placeholder:r.$t("common.all"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),_(j,null,J(E.value,t=>(l(),n(se,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(C,{span:8},{default:e(()=>[a(I,{field:"status",label:r.$t("log.form.status")},{default:e(()=>[a(R,{modelValue:v.value.status,"onUpdate:modelValue":y[7]||(y[7]=t=>v.value.status=t),placeholder:r.$t("common.all"),options:m(p),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),a(C,{span:8},{default:e(()=>[a(I,{field:"req_time",label:r.$t("common.req_time")},{default:e(()=>[a(Ie,{modelValue:v.value.req_time,"onUpdate:modelValue":y[8]||(y[8]=t=>v.value.req_time=t),placeholder:[r.$t("common.start_time"),r.$t("common.end_time")],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})),[[g,["user","reseller"]]]),k((l(),n(ue,{gutter:16},{default:e(()=>[a(C,{span:5},{default:e(()=>[a(I,{field:"trace_id",label:r.$t("log.form.trace_id"),"label-col-props":{span:6}},{default:e(()=>[a(O,{modelValue:v.value.trace_id,"onUpdate:modelValue":y[9]||(y[9]=t=>v.value.trace_id=t),placeholder:r.$t("placeholder.trace_id"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(C,{span:6},{default:e(()=>[a(I,{field:"models",label:r.$t("common.model"),"label-col-props":{span:5}},{default:e(()=>[a(R,{modelValue:v.value.models,"onUpdate:modelValue":y[10]||(y[10]=t=>v.value.models=t),placeholder:r.$t("common.all"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),_(j,null,J(E.value,t=>(l(),n(se,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(C,{span:5},{default:e(()=>[a(I,{field:"key",label:r.$t("common.key"),"label-col-props":{span:6}},{default:e(()=>[a(O,{modelValue:v.value.key,"onUpdate:modelValue":y[11]||(y[11]=t=>v.value.key=t),placeholder:r.$t("placeholder.key"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(C,{span:8},{default:e(()=>[a(I,{field:"total_time",label:r.$t("log.form.total_time")},{default:e(()=>[a(ie,{modelValue:v.value.total_time,"onUpdate:modelValue":y[12]||(y[12]=t=>v.value.total_time=t),placeholder:r.$t("log.form.placeholder.total_time"),precision:0,min:1,"allow-clear":""},{append:e(()=>[d(" ms ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(C,{span:5},{default:e(()=>[a(I,{field:"user_id",label:r.$t("log.form.user_id"),"label-col-props":{span:6}},{default:e(()=>[a(ie,{modelValue:v.value.user_id,"onUpdate:modelValue":y[13]||(y[13]=t=>v.value.user_id=t),placeholder:r.$t("placeholder.user_id"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(C,{span:6},{default:e(()=>[a(I,{field:"model_agents",label:r.$t("log.form.model_agents"),"label-col-props":{span:5}},{default:e(()=>[a(R,{modelValue:v.value.model_agents,"onUpdate:modelValue":y[14]||(y[14]=t=>v.value.model_agents=t),placeholder:r.$t("common.all"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),_(j,null,J(D.value,t=>(l(),n(se,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(C,{span:5},{default:e(()=>[a(I,{field:"status",label:r.$t("log.form.status"),"label-col-props":{span:6}},{default:e(()=>[a(R,{modelValue:v.value.status,"onUpdate:modelValue":y[15]||(y[15]=t=>v.value.status=t),placeholder:r.$t("common.all"),options:m(p),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),a(C,{span:8},{default:e(()=>[a(I,{field:"req_time",label:r.$t("common.req_time")},{default:e(()=>[a(Ie,{modelValue:v.value.req_time,"onUpdate:modelValue":y[16]||(y[16]=t=>v.value.req_time=t),placeholder:[r.$t("common.start_time"),r.$t("common.end_time")],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})),[[g,["admin"]]])]),_:1},8,["model"])]),_:1}),a(qe,{style:{height:"84px"},direction:"vertical"}),a(C,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(Je,{direction:"vertical",size:18},{default:e(()=>[a(ye,{type:"primary",onClick:M},{icon:e(()=>[a(je)]),default:e(()=>[d(" "+s(r.$t("button.search")),1)]),_:1}),a(ye,{onClick:te},{icon:e(()=>[a(Se)]),default:e(()=>[d(" "+s(r.$t("button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(qe,{style:{"margin-top":"0"}}),a(ue,{style:{"margin-bottom":"16px"}},{default:e(()=>[a(C,{span:24,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(ve,{content:r.$t("action.refresh")},{default:e(()=>[U("div",{class:"action-icon",onClick:M},[a(Se,{size:"18"})])]),_:1},8,["content"]),a(Oe,{onSelect:b},{content:e(()=>[(l(!0),_(j,null,J(m(i),t=>(l(),n(We,{key:t.value,value:t.value,class:kl({active:t.value===G.value})},{default:e(()=>[U("span",null,s(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(ve,{content:r.$t("action.density")},{default:e(()=>[U("div",rt,[a(Qe,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(ve,{content:r.$t("action.column_setting")},{default:e(()=>[a(xe,{trigger:"click",position:"bl",onPopupVisibleChange:_e},{content:e(()=>[U("div",_t,[(l(!0),_(j,null,J(F.value,(t,P)=>(l(),_("div",{key:t.dataIndex,class:"setting"},[U("div",pt,[a(Ze)]),U("div",null,[a(Xe,{modelValue:t.checked,"onUpdate:modelValue":T=>t.checked=T,onChange:T=>W(T,t,P)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),U("div",ct,s(t.title),1)]))),128))])]),default:e(()=>[U("div",mt,[a(Ke,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(el,{"row-key":"id",loading:m(re),pagination:Y,columns:S.value,data:me.value,bordered:!1,size:G.value,"row-selection":le,onPageChange:f,onPageSizeChange:ae},{user_id:e(({record:t})=>[d(s(t.is_smart_match?"-":t.user_id),1)]),input_tokens:e(({record:t})=>{var P,T,K,Z,X,x;return[d(s((P=t.spend.text)!=null&&P.input_tokens?m(N)((T=t.spend.text)==null?void 0:T.input_tokens):m(N)((K=t.spend.tiered_text)==null?void 0:K.input_tokens)?m(N)((Z=t.spend.tiered_text)==null?void 0:Z.input_tokens):m(N)((X=t.spend.once)==null?void 0:X.input_tokens)?m(N)((x=t.spend.once)==null?void 0:x.input_tokens):t.status===1?0:"-"),1)]}),output_tokens:e(({record:t})=>{var P,T,K,Z,X,x;return[d(s((P=t.spend.text)!=null&&P.output_tokens?m(N)((T=t.spend.text)==null?void 0:T.output_tokens):m(N)((K=t.spend.tiered_text)==null?void 0:K.output_tokens)?m(N)((Z=t.spend.tiered_text)==null?void 0:Z.output_tokens):m(N)((X=t.spend.once)==null?void 0:X.output_tokens)?m(N)((x=t.spend.once)==null?void 0:x.output_tokens):t.status===1?0:"-"),1)]}),total_spend_tokens:e(({record:t})=>[U("span",{class:"spend",onClick:P=>t.status===1||t.status===2?Ee(t.spend,t.model_type):void 0},[t.status===1||t.status===2?(l(),n(he,{key:0,"model-value":t.spend.total_spend_tokens},null,8,["model-value"])):(l(),_("span",yt," - "))],8,ft)]),stream:e(({record:t})=>[d(s(r.$t(`dict.${t.stream||!1}`)),1)]),conn_time:e(({record:t})=>[t.conn_time>3e4?k((l(),n(h,{key:0,color:"red"},{default:e(()=>[d(s(t.conn_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.conn_time>15e3?k((l(),n(h,{key:1,color:"orange"},{default:e(()=>[d(s(t.conn_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.conn_time>5e3?k((l(),n(h,{key:2,color:"gold"},{default:e(()=>[d(s(t.conn_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):k((l(),n(h,{key:3,color:"green"},{default:e(()=>[d(s(t.conn_time||"-"),1)]),_:2},1024)),[[g,["user","reseller"]]]),t.conn_time>1e4?k((l(),n(h,{key:4,color:"red"},{default:e(()=>[d(s(t.conn_time),1)]),_:2},1024)),[[g,["admin"]]]):t.conn_time>5e3?k((l(),n(h,{key:5,color:"orange"},{default:e(()=>[d(s(t.conn_time),1)]),_:2},1024)),[[g,["admin"]]]):t.conn_time>3e3?k((l(),n(h,{key:6,color:"gold"},{default:e(()=>[d(s(t.conn_time),1)]),_:2},1024)),[[g,["admin"]]]):k((l(),n(h,{key:7,color:"green"},{default:e(()=>[d(s(t.conn_time||"-"),1)]),_:2},1024)),[[g,["admin"]]])]),duration:e(({record:t})=>[t.duration>18e4?k((l(),n(h,{key:0,color:"red"},{default:e(()=>[d(s(t.duration),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.duration>12e4?k((l(),n(h,{key:1,color:"orange"},{default:e(()=>[d(s(t.duration),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.duration>9e4?k((l(),n(h,{key:2,color:"gold"},{default:e(()=>[d(s(t.duration),1)]),_:2},1024)),[[g,["user","reseller"]]]):k((l(),n(h,{key:3,color:"green"},{default:e(()=>[d(s(t.duration||"-"),1)]),_:2},1024)),[[g,["user","reseller"]]]),t.duration>12e4?k((l(),n(h,{key:4,color:"red"},{default:e(()=>[d(s(t.duration),1)]),_:2},1024)),[[g,["admin"]]]):t.duration>9e4?k((l(),n(h,{key:5,color:"orange"},{default:e(()=>[d(s(t.duration),1)]),_:2},1024)),[[g,["admin"]]]):t.duration>6e4?k((l(),n(h,{key:6,color:"gold"},{default:e(()=>[d(s(t.duration),1)]),_:2},1024)),[[g,["admin"]]]):k((l(),n(h,{key:7,color:"green"},{default:e(()=>[d(s(t.duration||"-"),1)]),_:2},1024)),[[g,["admin"]]])]),total_time:e(({record:t})=>[t.total_time>18e4?k((l(),n(h,{key:0,color:"red"},{default:e(()=>[d(s(t.total_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.total_time>12e4?k((l(),n(h,{key:1,color:"orange"},{default:e(()=>[d(s(t.total_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.total_time>9e4?k((l(),n(h,{key:2,color:"gold"},{default:e(()=>[d(s(t.total_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):k((l(),n(h,{key:3,color:"green"},{default:e(()=>[d(s(t.total_time||"-"),1)]),_:2},1024)),[[g,["user","reseller"]]]),t.total_time>12e4?k((l(),n(h,{key:4,color:"red"},{default:e(()=>[d(s(t.total_time),1)]),_:2},1024)),[[g,["admin"]]]):t.total_time>9e4?k((l(),n(h,{key:5,color:"orange"},{default:e(()=>[d(s(t.total_time),1)]),_:2},1024)),[[g,["admin"]]]):t.total_time>6e4?k((l(),n(h,{key:6,color:"gold"},{default:e(()=>[d(s(t.total_time),1)]),_:2},1024)),[[g,["admin"]]]):k((l(),n(h,{key:7,color:"green"},{default:e(()=>[d(s(t.total_time||"-"),1)]),_:2},1024)),[[g,["admin"]]])]),internal_time:e(({record:t})=>[t.internal_time>1e3?k((l(),n(h,{key:0,color:"red"},{default:e(()=>[d(s(t.internal_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.internal_time>500?k((l(),n(h,{key:1,color:"orange"},{default:e(()=>[d(s(t.internal_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):t.internal_time>300?k((l(),n(h,{key:2,color:"gold"},{default:e(()=>[d(s(t.internal_time),1)]),_:2},1024)),[[g,["user","reseller"]]]):k((l(),n(h,{key:3,color:"green"},{default:e(()=>[d(s(t.internal_time||"-"),1)]),_:2},1024)),[[g,["user","reseller"]]]),t.internal_time>500?k((l(),n(h,{key:4,color:"red"},{default:e(()=>[d(s(t.internal_time),1)]),_:2},1024)),[[g,["admin"]]]):t.internal_time>300?k((l(),n(h,{key:5,color:"orange"},{default:e(()=>[d(s(t.internal_time),1)]),_:2},1024)),[[g,["admin"]]]):t.internal_time>100?k((l(),n(h,{key:6,color:"gold"},{default:e(()=>[d(s(t.internal_time),1)]),_:2},1024)),[[g,["admin"]]]):k((l(),n(h,{key:7,color:"green"},{default:e(()=>[d(s(t.internal_time||"-"),1)]),_:2},1024)),[[g,["admin"]]])]),status:e(({record:t})=>[t.status===-1?(l(),n(h,{key:0,color:"red"},{default:e(()=>[d(s(r.$t(`log.dict.status.${t.status}`)),1)]),_:2},1024)):t.status===2?(l(),n(h,{key:1,color:"gold"},{default:e(()=>[d(s(r.$t(`log.dict.status.${t.status}`)),1)]),_:2},1024)):t.status===3?(l(),n(h,{key:2,color:"orange"},{default:e(()=>[d(s(r.$t(`log.dict.status.${t.status}`)),1)]),_:2},1024)):(l(),n(h,{key:3,color:"green"},{default:e(()=>[d(s(r.$t(`log.dict.status.${t.status}`)),1)]),_:2},1024))]),operations:e(({record:t})=>[a(ye,{type:"text",size:"small",onClick:P=>Ge(t.id)},{default:e(()=>[d(s(r.$t("button.detail")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(ll,{title:r.$t("log.menu.general.detail"),width:700,footer:!1,visible:pe.value,"unmount-on-close":"","render-to-body":"",onCancel:Ye},{default:e(()=>[a(ut,{id:Ve.value},null,8,["id"])]),_:1},8,["title","visible"]),a(al,{visible:ce.value,"onUpdate:visible":y[18]||(y[18]=t=>ce.value=t),width:1068,"body-style":{maxHeight:"520px"},"modal-style":{padding:"25px 20px 20px 20px"},"hide-title":"","hide-cancel":"","unmount-on-close":"",simple:"","ok-text":r.$t("button.close")},{default:e(()=>[a(He,{modelValue:fe.value,"onUpdate:modelValue":y[17]||(y[17]=t=>fe.value=t),"model-type":Ce.value},null,8,["modelValue","model-type"])]),_:1},8,["visible","ok-text"])]),_:1})])}}});const Ot=Ne(kt,[["__scopeId","data-v-3caca27e"]]);export{Ot as default};
