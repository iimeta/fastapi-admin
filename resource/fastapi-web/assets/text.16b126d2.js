import{_ as Ke,u as Ft,H as Vt,q as Ct,z as Dt,j as Bt,A as Et}from"./index.2adbf4c1.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css              */import{d as Xe,e as x,w as Ze,bF as et,B as l,C as r,bu as v,aD as u,aG as e,aH as t,u as _,aL as i,aM as n,D as U,aE as At,g as tt,bA as It,bB as qt,ad as Ut,bC as St,a6 as Be,bj as ye,bD as lt,bE as Lt,bi as at,bb as Tt,b6 as zt,a_ as ot,r as We,c as Ce,h as M,bq as Nt,b as Mt,aJ as J,aI as G,E as Pt,n as Ht,aK as Ot,aF as Rt,bH as jt,bI as Yt,b2 as Qt,bG as Wt,b1 as Jt,aS as Gt,bJ as Kt,bK as Xt,b5 as Zt,bL as el,ab as tl,aU as ll,bl as al,bm as ol,b4 as ul,bM as nl,bO as sl,aV as il,bU as dl}from"./arco.088e2a49.js";import{u as ut}from"./loading.6f488126.js";import{b as K,a as Je}from"./common.051a2527.js";import{V as Ge,_ as nt,q as rl,t as _l,a as ml,s as pl,b as cl}from"./styles.d460ddb3.js";import{f as fl}from"./app.6383f6ac.js";import{b as vl}from"./dashboard.9b2b288c.js";import{c as De,S as yl}from"./sortable.esm.70bb3f9a.js";import{q as kl}from"./model.0d2c84b5.js";import{q as bl}from"./model_agent.53d171c0.js";import{Q as Ee}from"./quota.ddc6f79a.js";/* empty css               *//* empty css                *//* empty css                */import{u as gl}from"./vue.bd25b247.js";import"./chart.0bfa65d3.js";const hl={style:{margin:"10px 0 30px 10px"}},xl={key:1},wl={key:1},$l={key:1},Fl={key:1},Vl={key:1},Cl={key:1},Dl={key:1},Bl={key:1},El={key:1},Al={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Il={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ql={key:1},Ul={key:1},Sl={key:1},Ll={key:1},Tl={key:1},zl={key:1},Nl={key:1},Ml={key:1},Pl={key:1},Hl={key:1},Ol={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Rl={key:1},jl={key:1},Yl={key:1},Ql={key:1},Wl={key:1},Jl={key:1},Gl={key:1},Kl={key:1},Xl={key:1},Zl={key:1},ea={key:1},ta={key:1},la={key:1},aa={key:1},oa={key:1},ua={key:1},na={key:1},sa={key:1},ia={key:1},da={key:1},ra={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},_a={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ma={key:1},pa={key:1},ca={key:1},fa={key:1},va={key:1},ya={key:1},ka={key:1},ba={key:1},ga={key:1},ha={key:1},xa={key:1},wa={key:1},$a={key:1},Fa={key:1},Va={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ca={key:1},Da={key:1},Ba={name:"TextDetail"},Ea=Xe({...Ba,props:{id:{type:String,default:""}},setup(Ae){const ke=Ae,{loading:m,setLoading:w}=ut(!0),o=x({}),{copy:se,copied:X}=gl(),{proxy:ie}=tt();(async(h={id:ke.id})=>{w(!0);try{const{data:$}=await rl(h);o.value=$}catch{}finally{w(!1)}})();const S=h=>{se(h)};Ze(X,()=>{X.value&&ie.$message.success("\u590D\u5236\u6210\u529F")});const N=async(h,$)=>{const{data:c}=await _l({id:h,field:$});se(c.value)},P=x(!1),q=x(),de=x(),H=async(h,$)=>{P.value=!0,q.value=h,de.value=$};return(h,$)=>{const c=It,f=qt,L=Ut,p=St,O=Be,re=ye,b=lt,j=Lt,_e=at,me=Tt,Z=zt,be=ot,Y=et("permission");return l(),r("div",hl,[v((l(),u(j,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[t(p,{label:"Trace ID",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",xl,[i(n(o.value.trace_id)+" ",1),t(L,{class:"copy-btn",onClick:$[0]||($[0]=C=>S(o.value.trace_id))})]))]),_:1}),t(p,{label:"Host",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",wl,n(o.value.host||"-"),1))]),_:1}),t(p,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",$l,[i(n(o.value.creator)+" ",1),t(L,{class:"copy-btn",onClick:$[1]||($[1]=C=>N(o.value.id,"creator"))})]))]),_:1}),t(p,{label:"\u7528\u6237ID"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Fl,n(o.value.user_id||"-"),1))]),_:1}),t(p,{label:"\u5E94\u7528ID"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Vl,n(o.value.app_id||"-"),1))]),_:1}),t(p,{label:"\u63D0\u4F9B\u5546"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Cl,n(o.value.provider_name),1))]),_:1}),t(p,{label:"\u6A21\u578B"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Dl,n(o.value.model||"-"),1))]),_:1}),t(p,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Bl,n(h.$t(`dict.model_type.${o.value.model_type}`)),1))]),_:1}),t(p,{label:"\u6D41\u5F0F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",El,n(h.$t(`text.dict.stream.${o.value.stream||!1}`)),1))]),_:1}),t(p,{label:"\u63D0\u95EE",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Al,n(o.value.prompt||"-"),1))]),_:1}),t(p,{label:"\u56DE\u7B54",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Il,n(o.value.completion||"-"),1))]),_:1}),t(p,{label:"\u5206\u7EC4\u540D\u79F0"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ql,n(o.value.spend.group_name||"-"),1))]),_:1}),t(p,{label:"\u5206\u7EC4\u6298\u6263"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Ul,n(o.value.spend.group_discount>0?Number((o.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1}),t(p,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Sl,n(o.value.spend.billing_methods?h.$t(`model.dict.billing_methods.${o.value.spend.billing_methods}`):"-"),1))]),_:1}),t(p,{label:"\u603B\u82B1\u8D39"},{label:e(()=>[U("span",null,[i(" \u603B\u82B1\u8D39 "),t(re,{content:h.$t("text.columns.tooltip.total_spend_tokens"),"content-style":{whiteSpace:"nowrap",maxWidth:"none"}},{default:e(()=>[t(O,{style:{color:"var(--color-text-3)"}})]),_:1},8,["content"])])]),default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",{key:1,class:"spend",onClick:$[2]||($[2]=C=>o.value.status===1||o.value.status===2?H(o.value.spend,o.value.model_type):void 0)},[o.value.status===1||o.value.status===2?(l(),u(Ee,{key:0,"model-value":o.value.spend.total_spend_tokens},null,8,["model-value"])):(l(),r("span",Ll," - "))]))]),_:1}),t(p,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Tl,[o.value.conn_time>3e4?(l(),u(b,{key:0,color:"red"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>15e3?(l(),u(b,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>5e3?(l(),u(b,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):(l(),u(b,{key:3,color:"green"},{default:e(()=>[i(n(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(p,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",zl,[o.value.duration>18e4?(l(),u(b,{key:0,color:"red"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>12e4?(l(),u(b,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>9e4?(l(),u(b,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):(l(),u(b,{key:3,color:"green"},{default:e(()=>[i(n(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),t(p,{label:"\u603B\u8017\u65F6"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Nl,[o.value.total_time>18e4?(l(),u(b,{key:0,color:"red"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>12e4?(l(),u(b,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>9e4?(l(),u(b,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):(l(),u(b,{key:3,color:"green"},{default:e(()=>[i(n(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(p,{label:"\u7ED3\u679C"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Ml,[o.value.status===1?(l(),u(b,{key:0,color:"green"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===2?(l(),u(b,{key:1,color:"gold"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===3?(l(),u(b,{key:2,color:"orange"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1})):(l(),u(b,{key:3,color:"red"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1}))]))]),_:1}),t(p,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Pl,n(o.value.client_ip||"-"),1))]),_:1}),t(p,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Hl,n(o.value.req_time||"-"),1))]),_:1}),t(p,{label:"\u9519\u8BEF\u4FE1\u606F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Ol,n(o.value.err_msg||"-"),1))]),_:1})]),_:1})),[[Y,["user","reseller"]]]),v((l(),u(j,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[t(p,{label:"Trace ID",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Rl,[i(n(o.value.trace_id)+" ",1),t(L,{class:"copy-btn",onClick:$[3]||($[3]=C=>S(o.value.trace_id))})]))]),_:1}),t(p,{label:"Host",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",jl,n(o.value.host||"-"),1))]),_:1}),t(p,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Yl,[i(n(o.value.is_smart_match?"-":o.value.creator)+" ",1),o.value.is_smart_match?At("",!0):(l(),u(L,{key:0,class:"copy-btn",onClick:$[4]||($[4]=C=>N(o.value.id,"creator"))}))]))]),_:1}),t(p,{label:"\u7528\u6237ID"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Ql,n(o.value.is_smart_match?"-":o.value.user_id||"-"),1))]),_:1}),t(p,{label:"\u5E94\u7528ID"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Wl,n(o.value.is_smart_match?"-":o.value.app_id||"-"),1))]),_:1}),t(p,{label:"\u63D0\u4F9B\u5546"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Jl,n(o.value.provider_name),1))]),_:1}),t(p,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Gl,n(h.$t(`dict.model_type.${o.value.model_type}`)),1))]),_:1}),t(p,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Kl,n(o.value.model_name||"-"),1))]),_:1}),t(p,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Xl,n(o.value.model||"-"),1))]),_:1}),t(p,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Zl,n(o.value.real_model_name),1))]),_:1}),t(p,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ea,n(o.value.real_model),1))]),_:1}),t(p,{label:"\u6D41\u5F0F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ta,n(h.$t(`text.dict.stream.${o.value.stream||!1}`)),1))]),_:1}),t(p,{label:"\u542F\u7528\u540E\u5907"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",la,n(h.$t(`text.dict.is_enable_fallback.${o.value.is_enable_fallback||!1}`)),1))]),_:1}),t(p,{label:"\u540E\u5907\u4EE3\u7406"},{default:e(()=>{var C,I;return[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",aa,n(((I=(C=o.value)==null?void 0:C.fallback_config)==null?void 0:I.model_agent_name)||"-"),1))]}),_:1}),t(p,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var C,I;return[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",oa,n(((I=(C=o.value)==null?void 0:C.fallback_config)==null?void 0:I.model)||"-"),1))]}),_:1}),t(p,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ua,n(h.$t(`text.dict.is_enable_forward.${o.value.is_enable_forward||!1}`)),1))]),_:1}),t(p,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",na,n(o.value.is_enable_forward?h.$t(`text.dict.forward_rule.${o.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),t(p,{label:"\u542F\u7528\u4EE3\u7406"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",sa,n(h.$t(`text.dict.is_enable_model_agent.${o.value.is_enable_model_agent||!1}`)),1))]),_:1}),t(p,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var C,I;return[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",ia,n(((I=(C=o.value)==null?void 0:C.model_agent)==null?void 0:I.name)||"-"),1))]}),_:1}),t(p,{label:"\u5BC6\u94A5",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",da,[i(n(o.value.key?o.value.key.length>0?o.value.key.substr(0,o.value.key.length/2>10?10:o.value.key.length/2)+"************************************"+o.value.key.substr(-(o.value.key.length/2>5?5:o.value.key.length/2)):o.value.key:"-")+" ",1),t(L,{class:"copy-btn",onClick:$[5]||($[5]=C=>N(o.value.id,"key"))})]))]),_:1}),t(p,{label:"\u63D0\u95EE",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ra,n(o.value.prompt||"-"),1))]),_:1}),t(p,{label:"\u56DE\u7B54",span:2},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",_a,n(o.value.completion||"-"),1))]),_:1}),t(p,{label:"\u5206\u7EC4\u540D\u79F0"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ma,n(o.value.spend.group_name||"-"),1))]),_:1}),t(p,{label:"\u5206\u7EC4\u6298\u6263"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",pa,n(o.value.spend.group_discount>0?Number((o.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1}),t(p,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ca,n(o.value.spend.billing_methods?h.$t(`model.dict.billing_methods.${o.value.spend.billing_methods}`):"-"),1))]),_:1}),t(p,{label:"\u603B\u82B1\u8D39"},{label:e(()=>[U("span",null,[i(" \u603B\u82B1\u8D39 "),t(re,{content:h.$t("text.columns.tooltip.total_spend_tokens"),"content-style":{whiteSpace:"nowrap",maxWidth:"none"}},{default:e(()=>[t(O,{style:{color:"var(--color-text-3)"}})]),_:1},8,["content"])])]),default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",{key:1,class:"spend",onClick:$[6]||($[6]=C=>o.value.status===1||o.value.status===2?H(o.value.spend,o.value.model_type):void 0)},[o.value.status===1||o.value.status===2?(l(),u(Ee,{key:0,"model-value":o.value.spend.total_spend_tokens},null,8,["model-value"])):(l(),r("span",fa," - "))]))]),_:1}),t(p,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",va,[o.value.conn_time>1e4?(l(),u(b,{key:0,color:"red"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>5e3?(l(),u(b,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>3e3?(l(),u(b,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):(l(),u(b,{key:3,color:"green"},{default:e(()=>[i(n(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(p,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ya,[o.value.duration>12e4?(l(),u(b,{key:0,color:"red"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>9e4?(l(),u(b,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>6e4?(l(),u(b,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):(l(),u(b,{key:3,color:"green"},{default:e(()=>[i(n(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),t(p,{label:"\u603B\u8017\u65F6"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ka,[o.value.total_time>12e4?(l(),u(b,{key:0,color:"red"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>9e4?(l(),u(b,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>6e4?(l(),u(b,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):(l(),u(b,{key:3,color:"green"},{default:e(()=>[i(n(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(p,{label:"\u5185\u8017"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ba,[o.value.internal_time>500?(l(),u(b,{key:0,color:"red"},{default:e(()=>[i(n(o.value.internal_time)+" ms ",1)]),_:1})):o.value.internal_time>300?(l(),u(b,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.internal_time)+" ms ",1)]),_:1})):o.value.internal_time>100?(l(),u(b,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.internal_time)+" ms ",1)]),_:1})):(l(),u(b,{key:3,color:"green"},{default:e(()=>[i(n(o.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(p,{label:"\u7ED3\u679C"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",ga,[o.value.status===1?(l(),u(b,{key:0,color:"green"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===2?(l(),u(b,{key:1,color:"gold"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===3?(l(),u(b,{key:2,color:"orange"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1})):(l(),u(b,{key:3,color:"red"},{default:e(()=>[i(n(h.$t(`text.dict.status.${o.value.status}`)),1)]),_:1}))]))]),_:1}),t(p,{label:"\u672C\u5730IP"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",ha,n(o.value.local_ip||"-"),1))]),_:1}),t(p,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",xa,n(o.value.client_ip||"-"),1))]),_:1}),t(p,{label:"\u8FDC\u7A0BIP"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",wa,n(o.value.remote_ip||"-"),1))]),_:1}),t(p,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",$a,n(o.value.req_time||"-"),1))]),_:1}),t(p,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{widths:["200px"],rows:1})]),_:1})):(l(),r("span",Fa,n(o.value.created_at||"-"),1))]),_:1}),t(p,{label:"\u9519\u8BEF\u4FE1\u606F"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:1})]),_:1})):(l(),r("span",Va,n(o.value.err_msg||"-"),1))]),_:1})]),_:1})),[[Y,["admin"]]]),t(j,{layout:"inline-vertical",column:1,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[t(p,null,{default:e(()=>[t(Z,{type:"card"},{default:e(()=>[t(me,{key:"1",title:"\u63D0\u95EE\u4E0A\u4E0B\u6587"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:3})]),_:1})):(l(),u(_e,{key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},{default:e(()=>[o.value.messages?(l(),u(_(Ge),{key:0,path:"res",data:o.value.messages,"show-length":!0},null,8,["data"])):(l(),r("span",Ca,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),v((l(),u(j,{layout:"inline-vertical",column:1,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[t(p,null,{default:e(()=>[t(Z,{type:"card"},{default:e(()=>[t(me,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[_(m)?(l(),u(f,{key:0,animation:!0},{default:e(()=>[t(c,{rows:3})]),_:1})):(l(),u(_e,{key:1},{default:e(()=>[o.value.model_agent?(l(),u(_(Ge),{key:0,data:o.value.model_agent,"show-length":!0},null,8,["data"])):(l(),r("span",Da,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[Y,["admin"]]]),t(be,{visible:P.value,"onUpdate:visible":$[8]||($[8]=C=>P.value=C),width:888,"body-style":{maxHeight:"520px"},"modal-style":{padding:"25px 20px 20px 20px"},"hide-title":"","hide-cancel":"","unmount-on-close":"",simple:"","ok-text":"\u5173\u95ED"},{default:e(()=>[t(nt,{modelValue:q.value,"onUpdate:modelValue":$[7]||($[7]=C=>q.value=C),"model-type":de.value},null,8,["modelValue","model-type"])]),_:1},8,["visible"])])}}});const Aa=Ke(Ea,[["__scopeId","data-v-ada97ab2"]]),Ia={class:"container"},qa={class:"action-icon"},Ua={class:"action-icon"},Sa={id:"tableSetting"},La={style:{"margin-right":"4px",cursor:"move"}},Ta={class:"title"},za=["onClick"],Na={key:1},Ma={name:"TextList"},Pa=Xe({...Ma,setup(Ae){const{loading:ke,setLoading:m}=ut(!0),{t:w}=Ft(),o=localStorage.getItem("userRole"),se=We({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),X=()=>({app_id:x(),trace_id:x(),user_id:x(),key:"",models:[],model_agents:[],total_time:x(),status:x(),req_time:[Je().format("YYYY-MM-DD 00:00:00"),Je().format("YYYY-MM-DD 23:59:59")]}),ie=x([]),y=x(X()),S=x([]),N=x([]),P=x("medium"),q=x([]),de=x(!0),H=x(),h={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},$=We({...h}),c=Ce(()=>[{name:w("size.mini"),value:"mini"},{name:w("size.small"),value:"small"},{name:w("size.medium"),value:"medium"},{name:w("size.large"),value:"large"}]),f=Ce(()=>[{title:w(o==="reseller"||o==="admin"?"text.columns.user_id":"text.columns.app_id"),dataIndex:o==="reseller"||o==="admin"?"user_id":"app_id",slotName:o==="reseller"||o==="admin"?"user_id":"app_id",align:"center",width:75},{title:w("text.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:w("text.columns.input_tokens"),dataIndex:"input_tokens",slotName:"input_tokens",align:"center",width:85},{title:w("text.columns.output_tokens"),dataIndex:"output_tokens",slotName:"output_tokens",align:"center",width:85},{title:w("text.columns.total_spend_tokens"),dataIndex:"total_spend_tokens",slotName:"total_spend_tokens",align:"center",width:110,slots:{title:()=>[M("div",{style:{display:"flex",alignItems:"center",gap:"3px",justifyContent:"center"}},[M("span",w("text.columns.total_spend_tokens")),M(ye,{content:w("text.columns.tooltip.total_spend_tokens"),contentStyle:{whiteSpace:"nowrap",maxWidth:"none"}},{default:()=>M(Be,{style:{color:"var(--color-text-3)"}})})])]}},{title:w("text.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center",width:60},{title:w("text.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:w("text.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:w("text.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center",slots:{title:()=>[M("div",{style:{display:"flex",alignItems:"center",gap:"3px",justifyContent:"center"}},[M("span",w("text.columns.total_time")),M(ye,{content:w("text.columns.tooltip.total_time"),contentStyle:{whiteSpace:"nowrap",maxWidth:"none"}},{default:()=>M(Be,{style:{color:"var(--color-text-3)"}})})])]}},{title:w("text.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:w("text.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:w("text.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:w("text.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);(o==="reseller"||o==="user")&&f.value.splice(9,1);const L=Ce(()=>[{label:w("text.dict.status.1"),value:1},{label:w("text.dict.status.2"),value:2},{label:w("text.dict.status.-1"),value:-1}]);o==="admin"&&L.value.push({label:w("text.dict.status.3"),value:3},{label:w("text.dict.status.-100"),value:-100});const p=async(s={...h,...y.value})=>{m(!0);try{const{data:d}=await ml(s);ie.value=d.items,$.current=s.current,$.pageSize=s.pageSize,$.total=d.paging.total}catch{}finally{m(!1),H.value.selectAll(!1)}};p();const O=()=>{p({...h,...y.value})},re=s=>{p({...h,...y.value,current:s})},b=s=>{h.pageSize=s,p({...h,...y.value})},j=()=>{y.value=X(),O()},_e=(s,d)=>{P.value=s},me=(s,d,D)=>{s?S.value.splice(D,0,d):S.value=N.value.filter(A=>A.dataIndex!==d.dataIndex)},Z=(s,d,D,A=!1)=>{const E=A?De(s):s;return d>-1&&D>-1&&E.splice(d,1,E.splice(D,1,E[d]).pop()),E},be=s=>{s&&Ht(()=>{const d=document.getElementById("tableSetting");new yl(d,{onEnd(D){const{oldIndex:A,newIndex:E}=D;Z(S.value,A,E),Z(N.value,A,E)}})})};Ze(()=>f.value,s=>{S.value=De(s),S.value.forEach((d,D)=>{d.checked=!0}),N.value=De(S.value)},{deep:!0,immediate:!0});const Y=x([]);o==="user"&&(async()=>{try{const{data:s}=await fl();Y.value=s.items}catch{}})();const I=x([]);(async()=>{try{const{data:s}=await kl();I.value=s.items}catch{}})();const Ie=x([]);o==="admin"&&(async()=>{try{const{data:s}=await bl();Ie.value=s.items}catch{}})();const{proxy:pe}=tt(),ge=x(!1),qe=x(),st=s=>{ge.value=!0,qe.value=s},it=()=>{ge.value=!1},Ue=x(0),Se=x(0),Le=async(s={...y.value})=>{const{data:d}=await vl(s);Ue.value=d.rpm||0,Se.value=d.tpm||0};Le();let Te;const ze=()=>{clearInterval(Te)},Ne=()=>{Te=setInterval(Le,3e3)},Me=()=>{document.visibilityState==="hidden"?ze():Ne()};Nt(()=>{Ne(),document.addEventListener("visibilitychange",Me)}),Mt(()=>{ze(),document.removeEventListener("visibilitychange",Me)});const Pe=x(),ee=x(!1),R=x({}),dt=async s=>{var D;if(await((D=Pe.value)==null?void 0:D.validate())){ee.value=!0,s(!1);return}s(),He({req_time:R.value.req_time,user_id:R.value.user_id})},rt=()=>{ee.value=!1},He=s=>{if(q.value.length===0&&!s.req_time){ee.value=!0;return}m(!0),s.ids=q.value,pl(s).then(d=>{m(!1),pe.$message.success("\u5BFC\u51FA\u6210\u529F"),H.value.selectAll(!1);const D=new Blob([d.data],{type:"application/vnd.ms-excel"}),A=window.URL.createObjectURL(D),E=document.createElement("a");E.href=A,E.setAttribute("download","\u6587\u672C\u65E5\u5FD7.xlsx"),document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(A)}).catch(d=>{pe.$message.error("\u5BFC\u51FA\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",d)})},Oe=x(),te=x(!1),B=x({status:[1,2,3,-1]}),_t=async s=>{var D;if(await((D=Oe.value)==null?void 0:D.validate())){te.value=!0,s(!1);return}s(),Re({action:"time",value:B.value.value,user_id:B.value.user_id,status:B.value.status})},mt=()=>{te.value=!1},pt=s=>{q.value=s,de.value=!s.length},Re=s=>{if(q.value.length===0&&!s.value)te.value=!0;else{let d=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${q.value.length}\u6761\u6570\u636E?`;switch(s.action){case"delete":d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${q.value.length}\u6761\u6570\u636E?`;break;case"time":s.user_id?d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u7528\u6237ID: ${s.user_id} \u8BF7\u6C42\u65F6\u95F4: ${s.value[0]} \u81F3 ${s.value[1]} \u7684\u6570\u636E?`:d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u8BF7\u6C42\u65F6\u95F4: ${s.value[0]} \u81F3 ${s.value[1]} \u7684\u6570\u636E?`;break}pe.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:d,hideCancel:!1,onOk:()=>{m(!0),s.ids=q.value,cl(s).then(D=>{m(!1),pe.$message.success("\u64CD\u4F5C\u6210\u529F, \u4EFB\u52A1\u5DF2\u63D0\u4EA4"),O(),H.value.selectAll(!1)})}})}},he=x(!1),xe=x(),je=x(),ct=async(s,d)=>{he.value=!0,xe.value=s,je.value=d};return(s,d)=>{const D=Vt,A=Ot,E=Rt,ce=jt,Q=Yt,V=Qt,F=Wt,le=Jt,W=Gt,fe=Kt,ve=Xt,we=Zt,Ye=el,ft=tl,ae=ll,Qe=Ct,$e=at,Fe=ye,vt=Dt,yt=al,kt=ol,bt=Bt,gt=Et,oe=ul,ht=nl,g=lt,xt=sl,wt=il,Ve=ot,$t=dl,k=et("permission");return l(),r("div",Ia,[t(E,{class:"container-breadcrumb"},{default:e(()=>[t(A,null,{default:e(()=>[t(D)]),_:1}),t(A,null,{default:e(()=>[i(n(s.$t("menu.text")),1)]),_:1}),t(A,null,{default:e(()=>[i(n(s.$t("menu.text.list")),1)]),_:1})]),_:1}),t($t,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[t(ve,null,{default:e(()=>[t(F,{flex:1},{default:e(()=>[t(we,{model:y.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[v((l(),u(ve,{gutter:16},{default:e(()=>[v((l(),u(F,{span:8},{default:e(()=>[t(V,{field:"app_id",label:s.$t("text.form.app_id")},{default:e(()=>[t(Q,{modelValue:y.value.app_id,"onUpdate:modelValue":d[0]||(d[0]=a=>y.value.app_id=a),placeholder:s.$t("text.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),r(J,null,G(Y.value,a=>(l(),u(ce,{key:a.app_id,value:a.app_id,label:a.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["user"]]]),v((l(),u(F,{span:8},{default:e(()=>[t(V,{field:"trace_id",label:s.$t("text.form.user.trace_id")},{default:e(()=>[t(le,{modelValue:y.value.trace_id,"onUpdate:modelValue":d[1]||(d[1]=a=>y.value.trace_id=a),placeholder:s.$t("text.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["reseller"]]]),v((l(),u(F,{span:8},{default:e(()=>[t(V,{field:"user_id",label:s.$t("text.form.reseller.user_id")},{default:e(()=>[t(W,{modelValue:y.value.user_id,"onUpdate:modelValue":d[2]||(d[2]=a=>y.value.user_id=a),placeholder:s.$t("text.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["reseller"]]]),v((l(),u(F,{span:8},{default:e(()=>[t(V,{field:"key",label:s.$t("text.form.key")},{default:e(()=>[t(le,{modelValue:y.value.key,"onUpdate:modelValue":d[3]||(d[3]=a=>y.value.key=a),placeholder:s.$t("text.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["user"]]]),v((l(),u(F,{span:8},{default:e(()=>[t(V,{field:"trace_id",label:s.$t("text.form.user.trace_id")},{default:e(()=>[t(le,{modelValue:y.value.trace_id,"onUpdate:modelValue":d[4]||(d[4]=a=>y.value.trace_id=a),placeholder:s.$t("text.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["user"]]]),v((l(),u(F,{span:8},{default:e(()=>[t(V,{field:"total_time",label:s.$t("text.form.total_time")},{default:e(()=>[t(W,{modelValue:y.value.total_time,"onUpdate:modelValue":d[5]||(d[5]=a=>y.value.total_time=a),placeholder:s.$t("text.form.total_time.placeholder"),precision:0,min:1,"allow-clear":""},{append:e(()=>[i(" ms ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["reseller"]]]),t(F,{span:8},{default:e(()=>[t(V,{field:"models",label:s.$t("text.form.models")},{default:e(()=>[t(Q,{modelValue:y.value.models,"onUpdate:modelValue":d[6]||(d[6]=a=>y.value.models=a),placeholder:s.$t("text.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),r(J,null,G(I.value,a=>(l(),u(ce,{key:a.id,value:a.id,label:a.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(F,{span:8},{default:e(()=>[t(V,{field:"status",label:s.$t("text.form.status")},{default:e(()=>[t(Q,{modelValue:y.value.status,"onUpdate:modelValue":d[7]||(d[7]=a=>y.value.status=a),placeholder:s.$t("text.form.selectDefault"),options:_(L),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),t(F,{span:8},{default:e(()=>[t(V,{field:"req_time",label:s.$t("text.form.req_time")},{default:e(()=>[t(fe,{modelValue:y.value.req_time,"onUpdate:modelValue":d[8]||(d[8]=a=>y.value.req_time=a),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[k,["user","reseller"]]]),v((l(),u(ve,{gutter:16},{default:e(()=>[t(F,{span:5},{default:e(()=>[t(V,{field:"trace_id",label:s.$t("text.form.trace_id"),"label-col-props":{span:6}},{default:e(()=>[t(le,{modelValue:y.value.trace_id,"onUpdate:modelValue":d[9]||(d[9]=a=>y.value.trace_id=a),placeholder:s.$t("text.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(F,{span:6},{default:e(()=>[t(V,{field:"models",label:s.$t("text.form.models"),"label-col-props":{span:5}},{default:e(()=>[t(Q,{modelValue:y.value.models,"onUpdate:modelValue":d[10]||(d[10]=a=>y.value.models=a),placeholder:s.$t("text.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),r(J,null,G(I.value,a=>(l(),u(ce,{key:a.id,value:a.id,label:a.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(F,{span:5},{default:e(()=>[t(V,{field:"key",label:s.$t("text.form.key"),"label-col-props":{span:6}},{default:e(()=>[t(le,{modelValue:y.value.key,"onUpdate:modelValue":d[11]||(d[11]=a=>y.value.key=a),placeholder:s.$t("text.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(F,{span:8},{default:e(()=>[t(V,{field:"total_time",label:s.$t("text.form.total_time")},{default:e(()=>[t(W,{modelValue:y.value.total_time,"onUpdate:modelValue":d[12]||(d[12]=a=>y.value.total_time=a),placeholder:s.$t("text.form.total_time.placeholder"),precision:0,min:1,"allow-clear":""},{append:e(()=>[i(" ms ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(F,{span:5},{default:e(()=>[t(V,{field:"user_id",label:s.$t("text.form.user_id"),"label-col-props":{span:6}},{default:e(()=>[t(W,{modelValue:y.value.user_id,"onUpdate:modelValue":d[13]||(d[13]=a=>y.value.user_id=a),placeholder:s.$t("text.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(F,{span:6},{default:e(()=>[t(V,{field:"model_agents",label:s.$t("text.form.model_agents"),"label-col-props":{span:5}},{default:e(()=>[t(Q,{modelValue:y.value.model_agents,"onUpdate:modelValue":d[14]||(d[14]=a=>y.value.model_agents=a),placeholder:s.$t("text.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(l(!0),r(J,null,G(Ie.value,a=>(l(),u(ce,{key:a.id,value:a.id,label:a.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(F,{span:5},{default:e(()=>[t(V,{field:"status",label:s.$t("text.form.status"),"label-col-props":{span:6}},{default:e(()=>[t(Q,{modelValue:y.value.status,"onUpdate:modelValue":d[15]||(d[15]=a=>y.value.status=a),placeholder:s.$t("text.form.selectDefault"),options:_(L),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),t(F,{span:8},{default:e(()=>[t(V,{field:"req_time",label:s.$t("text.form.req_time")},{default:e(()=>[t(fe,{modelValue:y.value.req_time,"onUpdate:modelValue":d[16]||(d[16]=a=>y.value.req_time=a),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[k,["admin"]]])]),_:1},8,["model"])]),_:1}),t(Ye,{style:{height:"84px"},direction:"vertical"}),t(F,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[t($e,{direction:"vertical",size:18},{default:e(()=>[t(ae,{type:"primary",onClick:O},{icon:e(()=>[t(ft)]),default:e(()=>[i(" "+n(s.$t("text.form.search")),1)]),_:1}),t(ae,{onClick:j},{icon:e(()=>[t(Qe)]),default:e(()=>[i(" "+n(s.$t("text.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(Ye,{style:{"margin-top":"0","margin-bottom":"16px"}}),t(ve,{style:{"margin-bottom":"16px","align-items":"center"}},{default:e(()=>[t(F,{span:16},{default:e(()=>[t($e,null,{default:e(()=>[t(ae,{type:"primary",onClick:d[17]||(d[17]=a=>He({}))},{default:e(()=>[i(" \u5BFC\u51FA ")]),_:1}),v((l(),u(ae,{type:"primary",status:"danger",onClick:d[18]||(d[18]=a=>Re({action:"delete"}))},{default:e(()=>[i(" \u5220\u9664 ")]),_:1})),[[k,["admin"]]])]),_:1})]),_:1}),t(F,{span:3},{default:e(()=>[i(" RPM: \xA0"+n(Ue.value.toLocaleString()),1)]),_:1}),t(F,{span:3},{default:e(()=>[i(" TPM: \xA0"+n(Se.value.toLocaleString()),1)]),_:1}),t(F,{span:2,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[t(Fe,{content:s.$t("actions.refresh")},{default:e(()=>[U("div",{class:"action-icon",onClick:O},[t(Qe,{size:"18"})])]),_:1},8,["content"]),t(kt,{onSelect:_e},{content:e(()=>[(l(!0),r(J,null,G(_(c),a=>(l(),u(yt,{key:a.value,value:a.value,class:Pt({active:a.value===P.value})},{default:e(()=>[U("span",null,n(a.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[t(Fe,{content:s.$t("actions.density")},{default:e(()=>[U("div",qa,[t(vt,{size:"18"})])]),_:1},8,["content"])]),_:1}),t(Fe,{content:s.$t("actions.column_setting")},{default:e(()=>[t(ht,{trigger:"click",position:"bl",onPopupVisibleChange:be},{content:e(()=>[U("div",Sa,[(l(!0),r(J,null,G(N.value,(a,T)=>(l(),r("div",{key:a.dataIndex,class:"setting"},[U("div",La,[t(gt)]),U("div",null,[t(oe,{modelValue:a.checked,"onUpdate:modelValue":z=>a.checked=z,onChange:z=>me(z,a,T)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),U("div",Ta,n(a.title==="#"?"\u5E8F\u5217\u53F7":a.title),1)]))),128))])]),default:e(()=>[U("div",Ua,[t(bt,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),t(xt,{ref_key:"tableRef",ref:H,"row-key":"id",loading:_(ke),pagination:$,columns:S.value,data:ie.value,bordered:!1,size:P.value,"row-selection":se,onPageChange:re,onPageSizeChange:b,onSelectionChange:pt},{user_id:e(({record:a})=>[i(n(a.is_smart_match?"-":a.user_id),1)]),input_tokens:e(({record:a})=>{var T,z,ue,ne;return[i(n((T=a.spend.text)!=null&&T.input_tokens?_(K)((z=a.spend.text)==null?void 0:z.input_tokens):_(K)((ue=a.spend.tiered_text)==null?void 0:ue.input_tokens)?_(K)((ne=a.spend.tiered_text)==null?void 0:ne.input_tokens):a.status===1?0:"-"),1)]}),output_tokens:e(({record:a})=>{var T,z,ue,ne;return[i(n((T=a.spend.text)!=null&&T.output_tokens?_(K)((z=a.spend.text)==null?void 0:z.output_tokens):_(K)((ue=a.spend.tiered_text)==null?void 0:ue.output_tokens)?_(K)((ne=a.spend.tiered_text)==null?void 0:ne.output_tokens):a.status===1?0:"-"),1)]}),total_spend_tokens:e(({record:a})=>[U("span",{class:"spend",onClick:T=>a.status===1||a.status===2?ct(a.spend,a.model_type):void 0},[a.status===1||a.status===2?(l(),u(Ee,{key:0,"model-value":a.spend.total_spend_tokens},null,8,["model-value"])):(l(),r("span",Na," - "))],8,za)]),stream:e(({record:a})=>[i(n(s.$t(`text.dict.stream.${a.stream||!1}`)),1)]),conn_time:e(({record:a})=>[a.conn_time>3e4?v((l(),u(g,{key:0,color:"red"},{default:e(()=>[i(n(a.conn_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.conn_time>15e3?v((l(),u(g,{key:1,color:"orange"},{default:e(()=>[i(n(a.conn_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.conn_time>5e3?v((l(),u(g,{key:2,color:"gold"},{default:e(()=>[i(n(a.conn_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):v((l(),u(g,{key:3,color:"green"},{default:e(()=>[i(n(a.conn_time||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),a.conn_time>1e4?v((l(),u(g,{key:4,color:"red"},{default:e(()=>[i(n(a.conn_time),1)]),_:2},1024)),[[k,["admin"]]]):a.conn_time>5e3?v((l(),u(g,{key:5,color:"orange"},{default:e(()=>[i(n(a.conn_time),1)]),_:2},1024)),[[k,["admin"]]]):a.conn_time>3e3?v((l(),u(g,{key:6,color:"gold"},{default:e(()=>[i(n(a.conn_time),1)]),_:2},1024)),[[k,["admin"]]]):v((l(),u(g,{key:7,color:"green"},{default:e(()=>[i(n(a.conn_time||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),duration:e(({record:a})=>[a.duration>18e4?v((l(),u(g,{key:0,color:"red"},{default:e(()=>[i(n(a.duration),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.duration>12e4?v((l(),u(g,{key:1,color:"orange"},{default:e(()=>[i(n(a.duration),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.duration>9e4?v((l(),u(g,{key:2,color:"gold"},{default:e(()=>[i(n(a.duration),1)]),_:2},1024)),[[k,["user","reseller"]]]):v((l(),u(g,{key:3,color:"green"},{default:e(()=>[i(n(a.duration||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),a.duration>12e4?v((l(),u(g,{key:4,color:"red"},{default:e(()=>[i(n(a.duration),1)]),_:2},1024)),[[k,["admin"]]]):a.duration>9e4?v((l(),u(g,{key:5,color:"orange"},{default:e(()=>[i(n(a.duration),1)]),_:2},1024)),[[k,["admin"]]]):a.duration>6e4?v((l(),u(g,{key:6,color:"gold"},{default:e(()=>[i(n(a.duration),1)]),_:2},1024)),[[k,["admin"]]]):v((l(),u(g,{key:7,color:"green"},{default:e(()=>[i(n(a.duration||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),total_time:e(({record:a})=>[a.total_time>18e4?v((l(),u(g,{key:0,color:"red"},{default:e(()=>[i(n(a.total_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.total_time>12e4?v((l(),u(g,{key:1,color:"orange"},{default:e(()=>[i(n(a.total_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.total_time>9e4?v((l(),u(g,{key:2,color:"gold"},{default:e(()=>[i(n(a.total_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):v((l(),u(g,{key:3,color:"green"},{default:e(()=>[i(n(a.total_time||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),a.total_time>12e4?v((l(),u(g,{key:4,color:"red"},{default:e(()=>[i(n(a.total_time),1)]),_:2},1024)),[[k,["admin"]]]):a.total_time>9e4?v((l(),u(g,{key:5,color:"orange"},{default:e(()=>[i(n(a.total_time),1)]),_:2},1024)),[[k,["admin"]]]):a.total_time>6e4?v((l(),u(g,{key:6,color:"gold"},{default:e(()=>[i(n(a.total_time),1)]),_:2},1024)),[[k,["admin"]]]):v((l(),u(g,{key:7,color:"green"},{default:e(()=>[i(n(a.total_time||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),internal_time:e(({record:a})=>[a.internal_time>1e3?v((l(),u(g,{key:0,color:"red"},{default:e(()=>[i(n(a.internal_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.internal_time>500?v((l(),u(g,{key:1,color:"orange"},{default:e(()=>[i(n(a.internal_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):a.internal_time>300?v((l(),u(g,{key:2,color:"gold"},{default:e(()=>[i(n(a.internal_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):v((l(),u(g,{key:3,color:"green"},{default:e(()=>[i(n(a.internal_time||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),a.internal_time>500?v((l(),u(g,{key:4,color:"red"},{default:e(()=>[i(n(a.internal_time),1)]),_:2},1024)),[[k,["admin"]]]):a.internal_time>300?v((l(),u(g,{key:5,color:"orange"},{default:e(()=>[i(n(a.internal_time),1)]),_:2},1024)),[[k,["admin"]]]):a.internal_time>100?v((l(),u(g,{key:6,color:"gold"},{default:e(()=>[i(n(a.internal_time),1)]),_:2},1024)),[[k,["admin"]]]):v((l(),u(g,{key:7,color:"green"},{default:e(()=>[i(n(a.internal_time||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),status:e(({record:a})=>[a.status===-1?(l(),u(g,{key:0,color:"red"},{default:e(()=>[i(n(s.$t(`text.dict.status.${a.status}`)),1)]),_:2},1024)):a.status===2?(l(),u(g,{key:1,color:"gold"},{default:e(()=>[i(n(s.$t(`text.dict.status.${a.status}`)),1)]),_:2},1024)):a.status===3?(l(),u(g,{key:2,color:"orange"},{default:e(()=>[i(n(s.$t(`text.dict.status.${a.status}`)),1)]),_:2},1024)):(l(),u(g,{key:3,color:"green"},{default:e(()=>[i(n(s.$t(`text.dict.status.${a.status}`)),1)]),_:2},1024))]),operations:e(({record:a})=>[t(ae,{type:"text",size:"small",onClick:T=>st(a.id)},{default:e(()=>[i(n(s.$t("text.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),t(wt,{title:s.$t("menu.text.detail"),width:700,footer:!1,visible:ge.value,"unmount-on-close":"","render-to-body":"",onCancel:it},{default:e(()=>[t(Aa,{id:qe.value},null,8,["id"])]),_:1},8,["title","visible"]),t(Ve,{visible:ee.value,"onUpdate:visible":d[21]||(d[21]=a=>ee.value=a),title:s.$t("text.form.title.text_export"),onCancel:rt,onBeforeOk:dt},{default:e(()=>[t(we,{ref_key:"textExportForm",ref:Pe,model:R.value},{default:e(()=>[t(V,{field:"req_time",label:s.$t("text.form.req_time"),rules:[{required:!0,message:s.$t("text.error.req_time.required")}]},{default:e(()=>[t(fe,{modelValue:R.value.req_time,"onUpdate:modelValue":d[19]||(d[19]=a=>R.value.req_time=a),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),v((l(),u(V,{field:"user_id",label:s.$t("text.form.req.user_id")},{default:e(()=>[t(W,{modelValue:R.value.user_id,"onUpdate:modelValue":d[20]||(d[20]=a=>R.value.user_id=a),placeholder:s.$t("text.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])),[[k,["reseller","admin"]]])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(Ve,{visible:te.value,"onUpdate:visible":d[28]||(d[28]=a=>te.value=a),title:s.$t("text.form.title.text_del"),onCancel:mt,onBeforeOk:_t},{default:e(()=>[t(we,{ref_key:"textDelForm",ref:Oe,model:B.value},{default:e(()=>[t(V,{field:"value",label:s.$t("text.form.req_time"),rules:[{required:!0,message:s.$t("text.error.req_time.required")}]},{default:e(()=>[t(fe,{modelValue:B.value.value,"onUpdate:modelValue":d[22]||(d[22]=a=>B.value.value=a),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(V,{field:"status",label:s.$t("text.form.req.status"),rules:[{required:!0,message:s.$t("text.error.req.status.required")}]},{default:e(()=>[t($e,{size:"large"},{default:e(()=>[t(oe,{modelValue:B.value.status,"onUpdate:modelValue":d[23]||(d[23]=a=>B.value.status=a),value:1},{default:e(()=>[i(" \u6210\u529F ")]),_:1},8,["modelValue"]),t(oe,{modelValue:B.value.status,"onUpdate:modelValue":d[24]||(d[24]=a=>B.value.status=a),value:2},{default:e(()=>[i(" \u4E2D\u6B62 ")]),_:1},8,["modelValue"]),t(oe,{modelValue:B.value.status,"onUpdate:modelValue":d[25]||(d[25]=a=>B.value.status=a),value:3},{default:e(()=>[i(" \u91CD\u8BD5 ")]),_:1},8,["modelValue"]),t(oe,{modelValue:B.value.status,"onUpdate:modelValue":d[26]||(d[26]=a=>B.value.status=a),value:-1},{default:e(()=>[i(" \u5931\u8D25 ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),t(V,{field:"user_id",label:s.$t("text.form.req.user_id")},{default:e(()=>[t(W,{modelValue:B.value.user_id,"onUpdate:modelValue":d[27]||(d[27]=a=>B.value.user_id=a),placeholder:s.$t("text.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(Ve,{visible:he.value,"onUpdate:visible":d[30]||(d[30]=a=>he.value=a),width:888,"body-style":{maxHeight:"520px"},"modal-style":{padding:"25px 20px 20px 20px"},"hide-title":"","hide-cancel":"","unmount-on-close":"",simple:"","ok-text":"\u5173\u95ED"},{default:e(()=>[t(nt,{modelValue:xe.value,"onUpdate:modelValue":d[29]||(d[29]=a=>xe.value=a),"model-type":je.value},null,8,["modelValue","model-type"])]),_:1},8,["visible"])]),_:1})])}}});const xo=Ke(Pa,[["__scopeId","data-v-cb2c6b65"]]);export{xo as default};
