import{u as Re,H as Je,s as Ke,A as Qe,k as Ze,B as We,_ as Xe}from"./index.7f2156d6.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as pe,e as w,B as o,C as u,aH as e,aG as a,u as d,aD as _,aM as s,aL as k,bA as Ye,bB as ea,bC as aa,bD as ta,bE as la,r as re,c as W,w as oa,aJ as M,aI as T,D as x,E as na,n as sa,aZ as A,a_ as ce,aK as ia,aF as ua,b1 as da,b2 as ra,bG as ca,bH as pa,bI as ma,bJ as _a,bK as ba,b5 as fa,bL as ga,ab as va,aU as ha,bi as ya,bj as ka,bk as $a,bl as wa,b4 as Ca,bM as Va,aT as Da,bS as Sa,bN as za,bO as qa,aV as xa,bU as Ua}from"./arco.73de4031.js";import{u as me}from"./loading.0c20cf1b.js";import{d as Ia,a as G}from"./common.0ef165cd.js";import{a as Na,b as La,s as Ga,c as Ha,d as Aa,e as Ba,f as Pa}from"./group.2c5fa114.js";import{c as X,S as Ma}from"./sortable.esm.7de80f5d.js";import{q as Ta}from"./model.6597d195.js";import{q as ja}from"./model_agent.2c1d5584.js";import{M as Ea}from"./models.1de29733.js";import{Q as j}from"./quota.6e1dc52a.js";/* empty css                *//* empty css                */import"./chart.b5ad42b0.js";import"./vue.e54f3d1e.js";import"./provider.78b4d2d7.js";const Oa={style:{margin:"10px 0 30px 10px"}},Fa={key:1},Ra={key:1},Ja={key:1},Ka={key:1},Qa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Za={key:1},Wa={key:1},Xa={key:2},Ya={key:1},et={key:1},at={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},tt={key:1},lt={key:1},ot={key:1},nt={key:1},st={key:1},it={key:1},ut={key:1},dt={key:1},rt={key:1},ct={key:1},pt={key:1},mt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},_t={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},bt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},ft={key:1},gt={key:1},vt={key:1},ht={key:1},yt={name:"GroupDetail"},kt=pe({...yt,props:{id:{type:String,default:""}},setup(Y){const b=Y,{loading:v,setLoading:C}=me(!0),r=w({});return(async(n={id:b.id})=>{C(!0);try{const{data:h}=await Na(n);r.value=h}catch{}finally{C(!1)}})(),(n,h)=>{const m=Ye,f=ea,g=aa,D=ta,U=la;return o(),u("div",Oa,[e(U,{column:2,bordered:"","label-style":{padding:"5px 8px 5px 15px"},"value-style":{width:"350px",padding:"5px 8px 5px 15px"}},{default:a(()=>[e(g,{label:n.$t("group.label.name")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",Fa,s(r.value.name),1))]),_:1},8,["label"]),e(g,{label:n.$t("group.detail.is_default")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",Ra,s(n.$t(`dict.${r.value.is_default||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.discount")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",Ja,s(Number((r.value.discount*100).toFixed(2)))+"% ",1))]),_:1},8,["label"]),e(g,{label:n.$t("common.used_quota")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",Ka,[e(j,{"model-value":r.value.used_quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(g,{label:n.$t("common.models"),span:2},{default:a(()=>{var c,p;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",Qa,s(((p=(c=r.value)==null?void 0:c.model_names)==null?void 0:p.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.is_public")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",Za,s(n.$t(`dict.public.${r.value.is_public||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("group.label.weight")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):r.value.is_default?(o(),u("span",Wa,s(n.$t("common.highest")),1)):(o(),u("span",Xa,s(r.value.weight||"-"),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.enable_model_agent")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",Ya,s(n.$t(`dict.enable.${r.value.is_enable_model_agent||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.lb_strategy")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",et,s(n.$t(`dict.lb_strategy.${r.value.lb_strategy||1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.model_agents"),span:2},{default:a(()=>{var c,p;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",at,s(((p=(c=r.value)==null?void 0:c.model_agent_names)==null?void 0:p.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.limit_quota")},{default:a(()=>{var c;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",tt,s(n.$t(`dict.${((c=r.value)==null?void 0:c.is_limit_quota)||!1}`)),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.quota")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",lt,[r.value.is_limit_quota?(o(),_(j,{key:0,"model-value":r.value.quota},null,8,["model-value"])):(o(),u("span",ot,s(n.$t("common.no_limit")),1))]))]),_:1},8,["label"]),e(g,{label:n.$t("group.label.is_enable_forward")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",nt,s(n.$t(`dict.enable.${r.value.is_enable_forward||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("group.label.forward_rule")},{default:a(()=>{var c,p,y,S;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",st,s((p=(c=r.value)==null?void 0:c.forward_config)!=null&&p.forward_rule?n.$t(`dict.forward_rule.${((S=(y=r.value)==null?void 0:y.forward_config)==null?void 0:S.forward_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.content_length")},{default:a(()=>{var c,p;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",it,s(((p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.content_length)||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.used_quota")},{default:a(()=>{var c,p,y,S;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",ut,[(p=(c=r.value)==null?void 0:c.forward_config)!=null&&p.used_quota?(o(),_(j,{key:0,"model-value":(S=(y=r.value)==null?void 0:y.forward_config)==null?void 0:S.used_quota},null,8,["model-value"])):(o(),u("span",dt," - "))]))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.target_model")},{default:a(()=>{var c,p;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",rt,s(((p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.target_model_name)||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.match_rule")},{default:a(()=>{var c,p,y,S;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",ct,s((p=(c=r.value)==null?void 0:c.forward_config)!=null&&p.match_rule?n.$t(`dict.match_rule.${((S=(y=r.value)==null?void 0:y.forward_config)==null?void 0:S.match_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.decision_model")},{default:a(()=>{var c,p;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",pt,s(((p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.decision_model_name)||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.keywords")},{default:a(()=>{var c,p,y;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",mt,s(((y=(p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.keywords)==null?void 0:y.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.target_model")},{default:a(()=>{var c,p,y;return[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",_t,s(((y=(p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.target_model_names)==null?void 0:y.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.remark"),span:2},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",bt,s(r.value.remark||"-"),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.expires_at")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",ft,s(r.value.expires_at||"-"),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.status")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",gt,[r.value.status===1?(o(),_(D,{key:0,color:"green"},{default:a(()=>[k(s(n.$t(`dict.status.${r.value.status}`)),1)]),_:1})):(o(),_(D,{key:1,color:"red"},{default:a(()=>[k(s(n.$t(`dict.status.${r.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(g,{label:n.$t("common.created_at")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",vt,s(r.value.created_at),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.updated_at")},{default:a(()=>[d(v)?(o(),_(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),u("span",ht,s(r.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),$t={class:"container"},wt={class:"action-icon"},Ct={class:"action-icon"},Vt={id:"tableSetting"},Dt={style:{"margin-right":"4px",cursor:"move"}},St={class:"title"},zt=["title"],qt={key:1},xt={key:0},Ut={key:1},It={key:0},Nt={key:1},Lt={name:"GroupList"},Gt=pe({...Lt,setup(Y){const{t:b}=Re(),{loading:v,setLoading:C}=me(!0),r=re({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),E=()=>({name:"",models:[],model_agents:[],status:w(),remark:"",expires_at:[]}),n=w([]),h=w(E()),m=w([]),f=w([]),g=w("medium"),D=w([]),U=w(!0),c=w(),p={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},y=re({...p}),S=W(()=>[{name:b("size.mini"),value:"mini"},{name:b("size.small"),value:"small"},{name:b("size.medium"),value:"medium"},{name:b("size.large"),value:"large"}]),_e=W(()=>[{title:b("group.label.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.discount"),dataIndex:"discount",slotName:"discount",align:"center"},{title:b("common.models"),dataIndex:"model_names",slotName:"model_names",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:b("group.label.weight"),dataIndex:"weight",slotName:"weight",align:"center"},{title:b("common.lb_strategy"),dataIndex:"lb_strategy",slotName:"lb_strategy",align:"center"},{title:b("common.public"),dataIndex:"is_public",slotName:"is_public",align:"center",width:65},{title:b("group.label.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:b("common.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),be=W(()=>[{label:b("dict.status.1"),value:1},{label:b("dict.status.2"),value:2}]),B=async(l={...p})=>{C(!0);try{const{data:i}=await La(l);n.value=i.items,y.current=l.current,y.pageSize=l.pageSize,y.total=i.paging.total}catch{}finally{C(!1),c.value.selectAll(!1)}};B();const L=()=>{B({...p,...h.value})},fe=l=>{B({...p,...h.value,current:l})},ge=l=>{p.pageSize=l,B({...p,...h.value})},ve=()=>{h.value=E(),L()},he=(l,i)=>{g.value=l},ye=(l,i,z)=>{l?m.value.splice(z,0,i):m.value=f.value.filter(I=>I.dataIndex!==i.dataIndex)},ee=(l,i,z,I=!1)=>{const N=I?X(l):l;return i>-1&&z>-1&&N.splice(i,1,N.splice(z,1,N[i]).pop()),N},ke=l=>{l&&sa(()=>{const i=document.getElementById("tableSetting");new Ma(i,{onEnd(z){const{oldIndex:I,newIndex:N}=z;ee(m.value,I,N),ee(f.value,I,N)}})})};oa(()=>_e.value,l=>{m.value=X(l),m.value.forEach((i,z)=>{i.checked=!0}),f.value=X(m.value)},{deep:!0,immediate:!0});const ae=w([]);(async()=>{try{const{data:l}=await Ta();ae.value=l.items}catch{}})();const te=w([]);(async()=>{try{const{data:l}=await ja();te.value=l.items}catch{}})();const $e=async l=>{C(!0);try{await Ga(l),A.success(b("success.delete")),L()}catch{}finally{C(!1)}},we=async l=>{C(!0);try{await Ha(l),A.success(b("success.operate")),L()}catch{}finally{C(!1)}},Ce=async l=>{C(!0);try{await Aa(l),A.success(b("success.operate")),L()}catch{}finally{C(!1)}},Ve=async l=>{C(!0);try{await Ba(l),A.success(b("success.operate")),L()}catch{}finally{C(!1)}},De=l=>{D.value=l,U.value=!l.length},O=l=>{if(D.value.length===0)A.info(b("placeholder.operation.data"));else{let i=b("placeholder.batch.operation",{count:D.value.length});switch(l.action){case"status":l.value===1?i=b("placeholder.batch.operation.enable",{count:D.value.length}):i=b("placeholder.batch.operation.disable",{count:D.value.length});break;case"delete":i=b("placeholder.batch.operation.delete",{count:D.value.length});break}ce.warning({title:b("modal.warning.title"),titleAlign:"center",content:i,okText:b("button.ok"),cancelText:b("button.cancel"),hideCancel:!1,onOk:()=>{C(!0),l.ids=D.value,Pa(l).then(z=>{C(!1),A.success(b("success.operate")),L(),c.value.selectAll(!1)})}})}},F=w(!1),P=w(),Se=l=>{F.value=!0,P.value=l},ze=()=>{F.value=!1},R=w(!1),le=w(),qe=l=>{R.value=!0,P.value=l,le.value="group"};return(l,i)=>{const z=Je,I=ia,N=ua,oe=da,H=ra,q=ca,ne=pa,J=ma,xe=_a,K=ba,Ue=fa,se=ga,Ie=va,V=ha,ie=Ke,ue=ya,Q=ka,Ne=Qe,Le=$a,Ge=wa,He=Ze,Ae=We,Be=Ca,Pe=Va,de=Da,Me=Sa,Te=za,je=qa,Ee=xa,Oe=ce,Fe=Ua;return o(),u("div",$t,[e(N,{class:"container-breadcrumb"},{default:a(()=>[e(I,null,{default:a(()=>[e(z)]),_:1}),e(I,null,{default:a(()=>[k(s(l.$t("group.menu")),1)]),_:1})]),_:1}),e(Fe,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(K,null,{default:a(()=>[e(q,{flex:1},{default:a(()=>[e(Ue,{model:h.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(K,{gutter:16},{default:a(()=>[e(q,{span:8},{default:a(()=>[e(H,{field:"name",label:l.$t("group.label.name")},{default:a(()=>[e(oe,{modelValue:h.value.name,"onUpdate:modelValue":i[0]||(i[0]=t=>h.value.name=t),placeholder:l.$t("group.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(q,{span:8},{default:a(()=>[e(H,{field:"models",label:l.$t("common.models")},{default:a(()=>[e(J,{modelValue:h.value.models,"onUpdate:modelValue":i[1]||(i[1]=t=>h.value.models=t),placeholder:l.$t("common.all"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(o(!0),u(M,null,T(ae.value,t=>(o(),_(ne,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(q,{span:8},{default:a(()=>[e(H,{field:"model_agents",label:l.$t("common.model_agents")},{default:a(()=>[e(J,{modelValue:h.value.model_agents,"onUpdate:modelValue":i[2]||(i[2]=t=>h.value.model_agents=t),placeholder:l.$t("common.all"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(o(!0),u(M,null,T(te.value,t=>(o(),_(ne,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(q,{span:8},{default:a(()=>[e(H,{field:"remark",label:l.$t("group.label.remark")},{default:a(()=>[e(oe,{modelValue:h.value.remark,"onUpdate:modelValue":i[3]||(i[3]=t=>h.value.remark=t),placeholder:l.$t("group.placeholder.remark"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(q,{span:8},{default:a(()=>[e(H,{field:"status",label:l.$t("common.status")},{default:a(()=>[e(J,{modelValue:h.value.status,"onUpdate:modelValue":i[4]||(i[4]=t=>h.value.status=t),placeholder:l.$t("common.all"),options:d(be),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(q,{span:8},{default:a(()=>[e(H,{field:"expires_at",label:l.$t("common.expires_at")},{default:a(()=>[e(xe,{modelValue:h.value.expires_at,"onUpdate:modelValue":i[5]||(i[5]=t=>h.value.expires_at=t),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(se,{style:{height:"84px"},direction:"vertical"}),e(q,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(ue,{direction:"vertical",size:18},{default:a(()=>[e(V,{type:"primary",onClick:L},{icon:a(()=>[e(Ie)]),default:a(()=>[k(" "+s(l.$t("button.search")),1)]),_:1}),e(V,{onClick:ve},{icon:a(()=>[e(ie)]),default:a(()=>[k(" "+s(l.$t("button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(se,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(K,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(q,{span:12},{default:a(()=>[e(ue,null,{default:a(()=>[e(V,{type:"primary",onClick:i[6]||(i[6]=t=>l.$router.push({name:"GroupCreate"}))},{default:a(()=>[k(s(l.$t("button.create")),1)]),_:1}),e(V,{type:"primary",status:"success",disabled:U.value,title:U.value?l.$t("placeholder.operation.data"):"",onClick:i[7]||(i[7]=t=>O({action:"status",value:1}))},{default:a(()=>[k(s(l.$t("button.enable")),1)]),_:1},8,["disabled","title"]),e(V,{type:"primary",status:"danger",disabled:U.value,title:U.value?l.$t("placeholder.operation.data"):"",onClick:i[8]||(i[8]=t=>O({action:"status",value:2}))},{default:a(()=>[k(s(l.$t("button.disable")),1)]),_:1},8,["disabled","title"]),e(V,{type:"primary",status:"danger",disabled:U.value,title:U.value?l.$t("placeholder.operation.data"):"",onClick:i[9]||(i[9]=t=>O({action:"delete"}))},{default:a(()=>[k(s(l.$t("button.delete")),1)]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(q,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(Q,{content:l.$t("action.refresh")},{default:a(()=>[x("div",{class:"action-icon",onClick:L},[e(ie,{size:"18"})])]),_:1},8,["content"]),e(Ge,{onSelect:he},{content:a(()=>[(o(!0),u(M,null,T(d(S),t=>(o(),_(Le,{key:t.value,value:t.value,class:na({active:t.value===g.value})},{default:a(()=>[x("span",null,s(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(Q,{content:l.$t("action.density")},{default:a(()=>[x("div",wt,[e(Ne,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(Q,{content:l.$t("action.column_setting")},{default:a(()=>[e(Pe,{trigger:"click",position:"bl",onPopupVisibleChange:ke},{content:a(()=>[x("div",Vt,[(o(!0),u(M,null,T(f.value,(t,$)=>(o(),u("div",{key:t.dataIndex,class:"setting"},[x("div",Dt,[e(Ae)]),x("div",null,[e(Be,{modelValue:t.checked,"onUpdate:modelValue":Z=>t.checked=Z,onChange:Z=>ye(Z,t,$)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),x("div",St,s(t.title),1)]))),128))])]),default:a(()=>[x("div",Ct,[e(He,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(je,{ref_key:"tableRef",ref:c,"row-key":"id",loading:d(v),pagination:y,columns:m.value,data:n.value,bordered:!1,size:g.value,"row-selection":r,onPageChange:fe,onPageSizeChange:ge,onSelectionChange:De},{name:a(({record:t})=>[t.is_default?(o(),u("span",{key:0,title:l.$t("group.detail.is_default")},[x("b",null,s(t.name),1)],8,zt)):(o(),u("span",qt,s(t.name),1))]),discount:a(({record:t})=>[k(s(Number((t.discount*100).toFixed(2)))+"% ",1)]),model_names:a(({record:t})=>[t.model_names?(o(),u("span",xt,[e(V,{type:"text",size:"small",onClick:$=>qe(t.id)},{default:a(()=>[k(s(l.$t("button.view")),1)]),_:2},1032,["onClick"])])):(o(),u("span",Ut,s("-")))]),model_agent_names:a(({record:t})=>{var $;return[k(s((($=t==null?void 0:t.model_agent_names)==null?void 0:$.join(","))||"-"),1)]}),used_quota:a(({record:t})=>[e(j,{"model-value":t.used_quota},null,8,["model-value"])]),weight:a(({record:t})=>[t.is_default?(o(),u("span",It,[x("b",null,s(l.$t("common.highest")),1)])):(o(),u("span",Nt,s(t.weight||"-"),1))]),lb_strategy:a(({record:t})=>[k(s(t.is_enable_model_agent?l.$t(`dict.lb_strategy.${t.lb_strategy||1}`):"-"),1)]),is_public:a(({record:t})=>[e(de,{modelValue:t.is_public,"onUpdate:modelValue":$=>t.is_public=$,"checked-value":!0,"unchecked-value":!1,onChange:$=>we({id:t.id,is_public:t.is_public})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),status:a(({record:t})=>[e(de,{modelValue:t.status,"onUpdate:modelValue":$=>t.status=$,"checked-value":1,"unchecked-value":2,onChange:$=>Ve({id:t.id,status:t.status})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),remark:a(({record:t})=>[k(s(t.remark||"-"),1)]),expires_at:a(({rowIndex:t})=>[e(Me,{modelValue:n.value[t].expires_at,"onUpdate:modelValue":$=>n.value[t].expires_at=$,placeholder:l.$t("placeholder.expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":d(Ia),"show-time":"",shortcuts:[{label:"1",value:()=>d(G)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>d(G)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>d(G)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>d(G)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>d(G)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>d(G)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>d(G)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}],onChange:$=>Ce({id:n.value[t].id,expires_at:n.value[t].expires_at})},{default:a(()=>[e(V,{style:{width:"150px"}},{default:a(()=>[k(s(n.value[t].expires_at||l.$t("placeholder.expires_at")),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled-date","shortcuts","onChange"])]),operations:a(({record:t})=>[e(V,{type:"text",size:"small",onClick:$=>Se(t.id)},{default:a(()=>[k(s(l.$t("button.detail")),1)]),_:2},1032,["onClick"]),e(V,{type:"text",size:"small",onClick:$=>l.$router.push({name:"GroupUpdate",query:{id:t.id}})},{default:a(()=>[k(s(l.$t("button.update")),1)]),_:2},1032,["onClick"]),e(Te,{content:l.$t("placeholder.operation.delete"),onOk:$=>$e({id:t.id})},{default:a(()=>[e(V,{type:"text",size:"small"},{default:a(()=>[k(s(l.$t("button.delete")),1)]),_:1})]),_:2},1032,["content","onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(Ee,{title:l.$t("group.menu.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:F.value,onCancel:ze},{default:a(()=>[e(kt,{id:P.value},null,8,["id"])]),_:1},8,["title","visible"]),e(Oe,{visible:R.value,"onUpdate:visible":i[10]||(i[10]=t=>R.value=t),title:l.$t("common.models"),"modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"1080px","ok-text":l.$t("button.close")},{default:a(()=>[e(Ea,{id:P.value,action:le.value},null,8,["id","action"])]),_:1},8,["visible","title","ok-text"])]),_:1})])}}});const bl=Xe(Gt,[["__scopeId","data-v-6c0346ce"]]);export{bl as default};
