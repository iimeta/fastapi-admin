import{u as pe,_ as ie,b as ze,k as Me}from"./index.6576bf8e.js";/* empty css               *//* empty css              *//* empty css               */import{d as ne,e as S,B as i,C as H,aH as a,aG as l,aJ as L,aI as z,aD as u,D as ge,aE as c,aL as v,aM as b,a_ as W,aZ as G,aT as me,bE as fe,c2 as ve,aU as ye,bA as be,bB as he,bU as ue,bG as de,bK as _e,b1 as ke,b2 as $e,aS as Ve,b5 as we,bu as x,bv as ee,u as Pe,a5 as Re,a4 as Ne,b4 as je,bi as Ke,aK as Ze,aF as Je,bb as Qe,b6 as We}from"./arco.73de4031.js";/* empty css                *//* empty css                */import{u as qe}from"./loading.0c20cf1b.js";import{s as Ue,a as Ce,b as Se,c as De,d as Xe}from"./sys_config.271f5ead.js";/* empty css               *//* empty css               */import"./chart.b5ad42b0.js";import"./vue.e54f3d1e.js";const Ye={class:"list-wrap",style:{"margin-top":"10px"}},Ie={class:"card-wrap"},xe={name:"Global"},el=ne({...xe,setup(ce){const{setLoading:k}=qe(!0),{t:n}=pe(),C=S(!1),T=S(""),R=S(),e=S({email:{},http:{},core:{},debug:{}}),s=async r=>{T.value=n(`sys.config.item.title.${r.action}`),e.value.action=r.action,C.value=!0},P=async r=>{W.warning({title:n("modal.warning.title"),titleAlign:"center",content:`${n("sys.config.placeholder.are_you_sure_reset")}${n(`sys.config.item.title.${r.action}`)}?`,okText:n("button.ok"),cancelText:n("button.cancel"),hideCancel:!1,onOk:()=>{le(r)}})},j=async r=>{var D;if(await((D=R.value)==null?void 0:D.validate())){C.value=!0,r(!1);return}k(!0);try{e.value.core.replace_error_prefixes&&(e.value.core.replace_error_prefixes=e.value.core.replace_error_prefixes.split(",")),await Ue(e.value),r(),G.success(n("success.operate")),O()}catch{r(!1)}finally{k(!1)}},K=()=>{C.value=!1},le=async r=>{k(!0);try{await Ce({action:r.action}),G.success(n("success.operate")),O()}finally{k(!1)}},ae=async r=>{k(!0);try{await Se({action:r.action,open:r.open||!1}),G.success(n("success.operate")),O()}finally{k(!1)}},Z=S({}),O=async()=>{var _;const{data:r}=await De();e.value.email=r.email,e.value.http=r.http,e.value.core=r.core,e.value.core.replace_error_prefixes=(_=e.value.core.replace_error_prefixes)==null?void 0:_.join(","),e.value.debug=r.debug,Z.value=[{action:"email",title:n("sys.config.item.title.email"),desc:n("sys.config.item.desc.email"),open:e.value.email.open,config:!0,reset:!0},{action:"http",title:n("sys.config.item.title.http"),desc:n("sys.config.item.desc.http"),config:!0,reset:!0},{action:"core",title:n("sys.config.item.title.core"),desc:n("sys.config.item.desc.core"),config:!0,reset:!0},{action:"debug",title:n("sys.config.item.title.debug"),desc:n("sys.config.item.desc.debug"),open:e.value.debug.open}]};return O(),(r,_)=>{const D=me,M=fe,X=ve,d=ye,f=be,$=he,J=ue,Y=de,N=_e,w=ke,h=$e,B=Ve,o=we,g=W;return i(),H("div",Ye,[a(N,{class:"list-row",gutter:24},{default:l(()=>[(i(!0),H(L,null,z(Z.value,t=>(i(),u(Y,{key:t.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[ge("div",Ie,[a(J,{title:t.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[t.open!==void 0?(i(),u(D,{key:0,modelValue:t.open,"onUpdate:modelValue":E=>t.open=E,onChange:E=>ae(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[t.reset?(i(),u(d,{key:0,onClick:E=>P(t)},{default:l(()=>[v(b(r.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),t.config?(i(),u(d,{key:1,type:"primary",onClick:E=>s(t)},{default:l(()=>[v(b(r.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a($,{animation:!0},{default:l(()=>[a(f,{widths:["50%","50%","100%","40%"],rows:4}),a(f,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(X,null,{description:l(()=>[v(b(t.desc)+" ",1),a(M,{data:t.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(g,{visible:C.value,"onUpdate:visible":_[11]||(_[11]=t=>C.value=t),title:r.$t(T.value),width:e.value.action==="core"?588:528,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:K,onBeforeOk:j},{default:l(()=>[a(o,{ref_key:"configForm",ref:R,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="email"?(i(),u(h,{key:0,field:"email.host",label:r.$t("sys.config.label.email.host"),rules:[{required:!0,message:r.$t("sys.config.error.required.email.host")}]},{default:l(()=>[a(w,{modelValue:e.value.email.host,"onUpdate:modelValue":_[0]||(_[0]=t=>e.value.email.host=t),placeholder:r.$t("sys.config.placeholder.email.host"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(i(),u(h,{key:1,field:"email.port",label:r.$t("sys.config.label.email.port"),rules:[{required:!0,message:r.$t("sys.config.error.required.email.port")}]},{default:l(()=>[a(B,{modelValue:e.value.email.port,"onUpdate:modelValue":_[1]||(_[1]=t=>e.value.email.port=t),placeholder:r.$t("sys.config.placeholder.email.port"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(i(),u(h,{key:2,field:"email.user_name",label:r.$t("sys.config.label.email.user_name"),rules:[{required:!0,message:r.$t("sys.config.placeholder.email.user_name")}]},{default:l(()=>[a(w,{modelValue:e.value.email.user_name,"onUpdate:modelValue":_[2]||(_[2]=t=>e.value.email.user_name=t),placeholder:r.$t("sys.config.placeholder.email.user_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(i(),u(h,{key:3,field:"email.password",label:r.$t("sys.config.label.email.password"),rules:[{required:!0,message:r.$t("sys.config.placeholder.email.password")}]},{default:l(()=>[a(w,{modelValue:e.value.email.password,"onUpdate:modelValue":_[3]||(_[3]=t=>e.value.email.password=t),placeholder:r.$t("sys.config.placeholder.email.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(i(),u(h,{key:4,field:"email.from_name",label:r.$t("sys.config.label.email.from_name"),rules:[{required:!0,message:r.$t("sys.config.error.required.email.from_name")}]},{default:l(()=>[a(w,{modelValue:e.value.email.from_name,"onUpdate:modelValue":_[4]||(_[4]=t=>e.value.email.from_name=t),placeholder:r.$t("sys.config.placeholder.email.from_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="email"?(i(),u(h,{key:5,field:"email.interval",label:r.$t("sys.config.label.email.interval"),rules:[{required:!0,message:r.$t("sys.config.placeholder.email.interval")}]},{default:l(()=>[a(B,{modelValue:e.value.email.interval,"onUpdate:modelValue":_[5]||(_[5]=t=>e.value.email.interval=t),placeholder:r.$t("sys.config.placeholder.email.interval"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.millisecond")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="http"?(i(),u(h,{key:6,field:"http.timeout",label:r.$t("sys.config.label.http.timeout"),rules:[{required:!0,message:r.$t("sys.config.error.required.http.timeout")}]},{default:l(()=>[a(B,{modelValue:e.value.http.timeout,"onUpdate:modelValue":_[6]||(_[6]=t=>e.value.http.timeout=t),placeholder:r.$t("sys.config.placeholder.http.timeout"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="http"?(i(),u(h,{key:7,field:"http.proxy_url",label:r.$t("sys.config.label.http.proxy_url")},{default:l(()=>[a(w,{modelValue:e.value.http.proxy_url,"onUpdate:modelValue":_[7]||(_[7]=t=>e.value.http.proxy_url=t),placeholder:r.$t("sys.config.placeholder.http.proxy_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="core"?(i(),u(h,{key:8,field:"core.secret_key_prefix",label:r.$t("sys.config.label.core.secret_key_prefix"),rules:[{required:!0,message:r.$t("sys.config.placeholder.core.secret_key_prefix")}]},{default:l(()=>[a(w,{modelValue:e.value.core.secret_key_prefix,"onUpdate:modelValue":_[8]||(_[8]=t=>e.value.core.secret_key_prefix=t),placeholder:r.$t("sys.config.placeholder.core.secret_key_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="core"?(i(),u(h,{key:9,field:"core.error_prefix",label:r.$t("sys.config.label.core.error_prefix"),rules:[{required:!0,message:r.$t("sys.config.placeholder.core.error_prefix")}]},{default:l(()=>[a(w,{modelValue:e.value.core.error_prefix,"onUpdate:modelValue":_[9]||(_[9]=t=>e.value.core.error_prefix=t),placeholder:r.$t("sys.config.placeholder.core.error_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="core"?(i(),u(h,{key:10,field:"core.replace_error_prefixes",label:r.$t("sys.config.label.core.replace_error_prefixes")},{default:l(()=>[a(w,{modelValue:e.value.core.replace_error_prefixes,"onUpdate:modelValue":_[10]||(_[10]=t=>e.value.core.replace_error_prefixes=t),placeholder:r.$t("sys.config.placeholder.core.replace_error_prefixes"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Be=ie(el,[["__scopeId","data-v-60615715"]]),ll={class:"list-wrap",style:{"margin-top":"10px"}},al={class:"card-wrap"},rl={name:"General"},ol=ne({...rl,setup(ce){const{setLoading:k}=qe(!0),{t:n}=pe(),C=ze(),T=S(!1),R=S(""),e=S(),s=S({user_login_register:{},user_shield_error:{},reseller_login_register:{},reseller_shield_error:{},admin_login:{},quota:{}}),P=async d=>{d.action==="user_shield_error"&&s.value.user_shield_error.errors.length===0&&_(),d.action==="reseller_shield_error"&&s.value.reseller_shield_error.errors.length===0&&M(),R.value=n(`sys.config.item.title.${d.action}`),s.value.action=d.action,T.value=!0},j=async d=>{W.warning({title:n("modal.warning.title"),titleAlign:"center",content:`${n("sys.config.placeholder.are_you_sure_reset")}${n(`sys.config.item.title.${d.action}`)}?`,okText:n("button.ok"),cancelText:n("button.cancel"),hideCancel:!1,onOk:()=>{ae(d)}})},K=async d=>{var $;if(await(($=e.value)==null?void 0:$.validate())){T.value=!0,d(!1);return}k(!0);try{await Ue(s.value),d(),G.success(n("success.operate")),r()}catch{d(!1)}finally{k(!1)}},le=()=>{T.value=!1,s.value.user_shield_error.errors.length>0&&!s.value.user_shield_error.errors[s.value.user_shield_error.errors.length-1]&&D(s.value.user_shield_error.errors.length-1),s.value.reseller_shield_error.errors.length>0&&!s.value.reseller_shield_error.errors[s.value.reseller_shield_error.errors.length-1]&&D(s.value.reseller_shield_error.errors.length-1)},ae=async d=>{k(!0);try{await Ce({action:d.action}),G.success(n("success.operate")),r()}finally{k(!1)}},Z=async d=>{k(!0);try{await Se({action:d.action,open:d.open||!1}),G.success(n("success.operate")),r()}finally{k(!1)}},O=S({}),r=async()=>{const{data:d}=await De();s.value.user_login_register=d.user_login_register,s.value.user_shield_error=d.user_shield_error,s.value.reseller_login_register=d.reseller_login_register,s.value.reseller_shield_error=d.reseller_shield_error,s.value.admin_login=d.admin_login,s.value.quota=d.quota,s.value.quota.threshold=d.quota.threshold,O.value=[{action:"user_login_register",title:n("sys.config.item.title.user_login_register"),desc:n("sys.config.item.desc.user_login_register"),config:!0,reset:!0},{action:"user_shield_error",title:n("sys.config.item.title.user_shield_error"),desc:n("sys.config.item.desc.user_shield_error"),open:s.value.user_shield_error.open,config:!0,reset:!0},{action:"reseller_login_register",title:n("sys.config.item.title.reseller_login_register"),desc:n("sys.config.item.desc.reseller_login_register"),config:!0,reset:!0},{action:"reseller_shield_error",title:n("sys.config.item.title.reseller_shield_error"),desc:n("sys.config.item.desc.reseller_shield_error"),open:s.value.reseller_shield_error.open,config:!0,reset:!0},{action:"admin_login",title:n("sys.config.item.title.admin_login"),desc:n("sys.config.item.desc.admin_login"),config:!0,reset:!0},{action:"quota",title:n("sys.config.item.title.quota"),desc:n("sys.config.item.desc.quota"),config:!0,reset:!0}]};r();const _=()=>{s.value.user_shield_error.errors.push("")},D=d=>{s.value.user_shield_error.errors.splice(d,1)},M=()=>{s.value.reseller_shield_error.errors.push("")},X=d=>{s.value.reseller_shield_error.errors.splice(d,1)};return(d,f)=>{const $=me,J=fe,Y=ve,N=ye,w=be,h=he,B=ue,o=de,g=_e,t=$e,E=Ve,te=ke,F=Re,se=Ne,Ae=we,Ee=W;return i(),H("div",ll,[a(g,{class:"list-row",gutter:24},{default:l(()=>[(i(!0),H(L,null,z(O.value,m=>(i(),u(o,{key:m.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[ge("div",al,[a(B,{title:m.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[m.open!==void 0?(i(),u($,{key:0,modelValue:m.open,"onUpdate:modelValue":A=>m.open=A,onChange:A=>Z(m)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[m.reset?(i(),u(N,{key:0,onClick:A=>j(m)},{default:l(()=>[v(b(d.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),m.config?(i(),u(N,{key:1,type:"primary",onClick:A=>P(m)},{default:l(()=>[v(b(d.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a(h,{animation:!0},{default:l(()=>[a(w,{widths:["50%","50%","100%","40%"],rows:4}),a(w,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(Y,null,{description:l(()=>[v(b(m.desc)+" ",1),a(J,{data:m.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(Ee,{visible:T.value,"onUpdate:visible":f[25]||(f[25]=m=>T.value=m),title:d.$t(R.value),width:s.value.action==="user_shield_error"||s.value.action==="reseller_shield_error"?728:528,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:le,onBeforeOk:K},{default:l(()=>[a(Ae,{ref_key:"configForm",ref:e,model:s.value,"auto-label-width":""},{default:l(()=>[s.value.action==="user_login_register"?(i(),u(t,{key:0,field:"user_login_register.account_login",label:d.$t("sys.config.label.account_login"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.user_login_register.account_login,"onUpdate:modelValue":f[0]||(f[0]=m=>s.value.user_login_register.account_login=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="user_login_register"?(i(),u(t,{key:1,field:"user_login_register.email_login",label:d.$t("sys.config.label.email_login"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.user_login_register.email_login,"onUpdate:modelValue":f[1]||(f[1]=m=>s.value.user_login_register.email_login=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="user_login_register"?(i(),u(t,{key:2,field:"user_login_register.email_register",label:d.$t("sys.config.label.email_register"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.user_login_register.email_register,"onUpdate:modelValue":f[2]||(f[2]=m=>s.value.user_login_register.email_register=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="user_login_register"?(i(),u(t,{key:3,field:"user_login_register.email_retrieve",label:d.$t("sys.config.label.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.user_login_register.email_retrieve,"onUpdate:modelValue":f[3]||(f[3]=m=>s.value.user_login_register.email_retrieve=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="user_login_register"?(i(),u(t,{key:4,field:"user_login_register.session_expire",label:d.$t("sys.config.label.session_expire"),rules:[{required:!0,message:d.$t("sys.config.placeholder.session_expire")}]},{default:l(()=>[a(E,{modelValue:s.value.user_login_register.session_expire,"onUpdate:modelValue":f[4]||(f[4]=m=>s.value.user_login_register.session_expire=m),placeholder:d.$t("sys.config.placeholder.session_expire"),min:10,"allow-clear":""},{append:l(()=>[v(b(d.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),(i(!0),H(L,null,z(s.value.user_shield_error.errors,(m,A)=>x((i(),u(t,{key:A,field:`user_shield_error.errors[${A}]`,label:`${A+1}. `+d.$t("sys.config.label.errors"),rules:[{required:!0,message:d.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(te,{modelValue:s.value.user_shield_error.errors[A],"onUpdate:modelValue":q=>s.value.user_shield_error.errors[A]=q,placeholder:d.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(N,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:f[5]||(f[5]=q=>_())},{default:l(()=>[a(F)]),_:1}),a(N,{type:"secondary",shape:"circle",onClick:q=>D(A)},{default:l(()=>[a(se)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,s.value.action==="user_shield_error"]])),128)),s.value.action==="reseller_login_register"?(i(),u(t,{key:5,field:"reseller_login_register.account_login",label:d.$t("sys.config.label.account_login"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.reseller_login_register.account_login,"onUpdate:modelValue":f[6]||(f[6]=m=>s.value.reseller_login_register.account_login=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="reseller_login_register"?(i(),u(t,{key:6,field:"reseller_login_register.email_login",label:d.$t("sys.config.label.email_login"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.reseller_login_register.email_login,"onUpdate:modelValue":f[7]||(f[7]=m=>s.value.reseller_login_register.email_login=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="reseller_login_register"?(i(),u(t,{key:7,field:"reseller_login_register.email_register",label:d.$t("sys.config.label.email_register"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.reseller_login_register.email_register,"onUpdate:modelValue":f[8]||(f[8]=m=>s.value.reseller_login_register.email_register=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="reseller_login_register"?(i(),u(t,{key:8,field:"reseller_login_register.email_retrieve",label:d.$t("sys.config.label.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.reseller_login_register.email_retrieve,"onUpdate:modelValue":f[9]||(f[9]=m=>s.value.reseller_login_register.email_retrieve=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="reseller_login_register"?(i(),u(t,{key:9,field:"reseller_login_register.session_expire",label:d.$t("sys.config.label.session_expire"),rules:[{required:!0,message:d.$t("sys.config.placeholder.session_expire")}]},{default:l(()=>[a(E,{modelValue:s.value.reseller_login_register.session_expire,"onUpdate:modelValue":f[10]||(f[10]=m=>s.value.reseller_login_register.session_expire=m),placeholder:d.$t("sys.config.placeholder.session_expire"),min:10,"allow-clear":""},{append:l(()=>[v(b(d.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),(i(!0),H(L,null,z(s.value.reseller_shield_error.errors,(m,A)=>x((i(),u(t,{key:A,field:`reseller_shield_error.errors[${A}]`,label:`${A+1}. `+d.$t("sys.config.label.errors"),rules:[{required:!0,message:d.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(te,{modelValue:s.value.reseller_shield_error.errors[A],"onUpdate:modelValue":q=>s.value.reseller_shield_error.errors[A]=q,placeholder:d.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(N,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:f[11]||(f[11]=q=>M())},{default:l(()=>[a(F)]),_:1}),a(N,{type:"secondary",shape:"circle",onClick:q=>X(A)},{default:l(()=>[a(se)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,s.value.action==="reseller_shield_error"]])),128)),s.value.action==="admin_login"?(i(),u(t,{key:10,field:"admin_login.account_login",label:d.$t("sys.config.label.account_login"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.admin_login.account_login,"onUpdate:modelValue":f[12]||(f[12]=m=>s.value.admin_login.account_login=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="admin_login"?(i(),u(t,{key:11,field:"admin_login.email_login",label:d.$t("sys.config.label.email_login"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.admin_login.email_login,"onUpdate:modelValue":f[13]||(f[13]=m=>s.value.admin_login.email_login=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="admin_login"?(i(),u(t,{key:12,field:"admin_login.email_retrieve",label:d.$t("sys.config.label.email_retrieve"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.admin_login.email_retrieve,"onUpdate:modelValue":f[14]||(f[14]=m=>s.value.admin_login.email_retrieve=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="admin_login"?(i(),u(t,{key:13,field:"admin_login.session_expire",label:d.$t("sys.config.label.session_expire"),rules:[{required:!0,message:d.$t("sys.config.placeholder.session_expire")}]},{default:l(()=>[a(E,{modelValue:s.value.admin_login.session_expire,"onUpdate:modelValue":f[15]||(f[15]=m=>s.value.admin_login.session_expire=m),placeholder:d.$t("sys.config.placeholder.session_expire"),min:10,"allow-clear":""},{append:l(()=>[v(b(d.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),s.value.action==="admin_login"?(i(),u(t,{key:14,field:"admin_login.path",label:d.$t("sys.config.label.path"),rules:[{required:!0,message:d.$t("sys.config.placeholder.path")},{match:/^[a-zA-Z0-9\-_]+$/,message:d.$t("sys.config.error.pattern.path")}]},{default:l(()=>[a(te,{modelValue:s.value.admin_login.path,"onUpdate:modelValue":f[16]||(f[16]=m=>s.value.admin_login.path=m),placeholder:d.$t("sys.config.placeholder.path"),"allow-clear":""},{prepend:l(()=>[v(" / ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),s.value.action==="quota"?(i(),u(t,{key:15,field:"quota.warning",label:d.$t("sys.config.label.quota.warning"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.quota.warning,"onUpdate:modelValue":f[17]||(f[17]=m=>s.value.quota.warning=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="quota"&&s.value.quota.warning?(i(),u(t,{key:16,field:"quota.threshold",label:d.$t("sys.config.label.quota.threshold"),rules:[{required:!0,message:d.$t("sys.config.placeholder.quota.threshold")}]},{default:l(()=>[a(E,{modelValue:s.value.quota.threshold,"onUpdate:modelValue":f[18]||(f[18]=m=>s.value.quota.threshold=m),placeholder:d.$t("sys.config.placeholder.quota.threshold"),precision:0,min:1,"allow-clear":""},{prefix:l(()=>[v(b(Pe(C).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),s.value.action==="quota"?(i(),u(t,{key:17,field:"quota.expired_warning",label:d.$t("sys.config.label.quota.expired_warning"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.quota.expired_warning,"onUpdate:modelValue":f[19]||(f[19]=m=>s.value.quota.expired_warning=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="quota"&&s.value.quota.expired_warning?(i(),u(t,{key:18,field:"quota.expired_threshold",label:d.$t("sys.config.label.quota.expired_threshold"),rules:[{required:!0,message:d.$t("sys.config.placeholder.quota.expired_threshold")}]},{default:l(()=>[a(E,{modelValue:s.value.quota.expired_threshold,"onUpdate:modelValue":f[20]||(f[20]=m=>s.value.quota.expired_threshold=m),placeholder:d.$t("sys.config.placeholder.quota.expired_threshold"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(d.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),s.value.action==="quota"?(i(),u(t,{key:19,field:"quota.exhausted_notice",label:d.$t("sys.config.label.quota.exhausted_notice"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.quota.exhausted_notice,"onUpdate:modelValue":f[21]||(f[21]=m=>s.value.quota.exhausted_notice=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="quota"?(i(),u(t,{key:20,field:"quota.expired_notice",label:d.$t("sys.config.label.quota.expired_notice"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.quota.expired_notice,"onUpdate:modelValue":f[22]||(f[22]=m=>s.value.quota.expired_notice=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="quota"?(i(),u(t,{key:21,field:"quota.expired_clear",label:d.$t("sys.config.label.quota.expired_clear"),rules:[{required:!0}]},{default:l(()=>[a($,{modelValue:s.value.quota.expired_clear,"onUpdate:modelValue":f[23]||(f[23]=m=>s.value.quota.expired_clear=m)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),s.value.action==="quota"&&s.value.quota.expired_clear?(i(),u(t,{key:22,field:"quota.expired_clear_defer",label:d.$t("sys.config.label.quota.expired_clear_defer"),rules:[{required:!0,message:d.$t("sys.config.placeholder.quota.expired_clear_defer")}]},{default:l(()=>[a(E,{modelValue:s.value.quota.expired_clear_defer,"onUpdate:modelValue":f[24]||(f[24]=m=>s.value.quota.expired_clear_defer=m),placeholder:d.$t("sys.config.placeholder.quota.expired_clear_defer"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(d.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Fe=ie(ol,[["__scopeId","data-v-9a704ade"]]),tl={class:"list-wrap",style:{"margin-top":"10px"}},sl={class:"card-wrap"},il={name:"Task"},nl=ne({...il,setup(ce){const{setLoading:k}=qe(!0),{t:n}=pe(),C=S(!1),T=S(""),R=S(),e=S({statistics:{},notice:{},quota_task:{}}),s=async r=>{T.value=n(`sys.config.item.title.${r.action}`),e.value.action=r.action,C.value=!0},P=async r=>{W.warning({title:n("modal.warning.title"),titleAlign:"center",content:`${n("sys.config.placeholder.are_you_sure_reset")}${n(`sys.config.item.title.${r.action}`)}?`,okText:n("button.ok"),cancelText:n("button.cancel"),hideCancel:!1,onOk:()=>{le(r)}})},j=async r=>{var D;if(await((D=R.value)==null?void 0:D.validate())){C.value=!0,r(!1);return}k(!0);try{await Ue(e.value),r(),G.success(n("success.operate")),O()}catch{r(!1)}finally{k(!1)}},K=()=>{C.value=!1},le=async r=>{k(!0);try{await Ce({action:r.action}),G.success(n("success.operate")),O()}finally{k(!1)}},ae=async r=>{k(!0);try{await Se({action:r.action,open:r.open||!1}),G.success(n("success.operate")),O()}finally{k(!1)}},Z=S({}),O=async()=>{const{data:r}=await De();e.value.quota_task=r.quota_task,e.value.statistics=r.statistics,e.value.video_task=r.video_task,e.value.file_task=r.file_task,e.value.batch_task=r.batch_task,e.value.notice=r.notice,Z.value=[{action:"quota_task",title:n("sys.config.item.title.quota_task"),desc:n("sys.config.item.desc.quota_task"),open:e.value.quota_task.open,config:!0,reset:!0},{action:"statistics",title:n("sys.config.item.title.statistics"),desc:n("sys.config.item.desc.statistics"),open:e.value.statistics.open,config:!0,reset:!0},{action:"video_task",title:n("sys.config.item.title.video_task"),desc:n("sys.config.item.desc.video_task"),open:e.value.video_task.open,config:!0,reset:!0},{action:"file_task",title:n("sys.config.item.title.file_task"),desc:n("sys.config.item.desc.file_task"),open:e.value.file_task.open,config:!0,reset:!0},{action:"batch_task",title:n("sys.config.item.title.batch_task"),desc:n("sys.config.item.desc.batch_task"),open:e.value.batch_task.open,config:!0,reset:!0},{action:"notice",title:n("sys.config.item.title.notice"),desc:n("sys.config.item.desc.notice"),open:e.value.notice.open,config:!0,reset:!0}]};return O(),(r,_)=>{const D=me,M=fe,X=ve,d=ye,f=be,$=he,J=ue,Y=de,N=_e,w=ke,h=$e,B=Ve,o=we,g=W;return i(),H("div",tl,[a(N,{class:"list-row",gutter:24},{default:l(()=>[(i(!0),H(L,null,z(Z.value,t=>(i(),u(Y,{key:t.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[ge("div",sl,[a(J,{title:t.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[t.open!==void 0?(i(),u(D,{key:0,modelValue:t.open,"onUpdate:modelValue":E=>t.open=E,onChange:E=>ae(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[t.reset?(i(),u(d,{key:0,onClick:E=>P(t)},{default:l(()=>[v(b(r.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),t.config?(i(),u(d,{key:1,type:"primary",onClick:E=>s(t)},{default:l(()=>[v(b(r.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a($,{animation:!0},{default:l(()=>[a(f,{widths:["50%","50%","100%","40%"],rows:4}),a(f,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(X,null,{description:l(()=>[v(b(t.desc)+" ",1),a(M,{data:t.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(g,{visible:C.value,"onUpdate:visible":_[23]||(_[23]=t=>C.value=t),title:r.$t(T.value),width:568,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:K,onBeforeOk:j},{default:l(()=>[a(o,{ref_key:"configForm",ref:R,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="quota_task"?(i(),u(h,{key:0,field:"quota_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(w,{modelValue:e.value.quota_task.cron,"onUpdate:modelValue":_[0]||(_[0]=t=>e.value.quota_task.cron=t),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="quota_task"?(i(),u(h,{key:1,field:"quota_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.quota_task.lock_minutes")}]},{default:l(()=>[a(B,{modelValue:e.value.quota_task.lock_minutes,"onUpdate:modelValue":_[1]||(_[1]=t=>e.value.quota_task.lock_minutes=t),placeholder:r.$t("sys.config.placeholder.quota_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="statistics"?(i(),u(h,{key:2,field:"statistics.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(w,{modelValue:e.value.statistics.cron,"onUpdate:modelValue":_[2]||(_[2]=t=>e.value.statistics.cron=t),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="statistics"?(i(),u(h,{key:3,field:"statistics.limit",label:r.$t("sys.config.label.statistics.limit"),rules:[{required:!0,message:r.$t("sys.config.error.required.statistics.limit")}]},{default:l(()=>[a(B,{modelValue:e.value.statistics.limit,"onUpdate:modelValue":_[3]||(_[3]=t=>e.value.statistics.limit=t),placeholder:r.$t("sys.config.placeholder.statistics.limit"),min:10,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.item")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="statistics"?(i(),u(h,{key:4,field:"statistics.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.statistics.lock_minutes")}]},{default:l(()=>[a(B,{modelValue:e.value.statistics.lock_minutes,"onUpdate:modelValue":_[4]||(_[4]=t=>e.value.statistics.lock_minutes=t),placeholder:r.$t("sys.config.placeholder.statistics.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="video_task"?(i(),u(h,{key:5,field:"video_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(w,{modelValue:e.value.video_task.cron,"onUpdate:modelValue":_[5]||(_[5]=t=>e.value.video_task.cron=t),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="video_task"?(i(),u(h,{key:6,field:"video_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.video_task.lock_minutes")}]},{default:l(()=>[a(B,{modelValue:e.value.video_task.lock_minutes,"onUpdate:modelValue":_[6]||(_[6]=t=>e.value.video_task.lock_minutes=t),placeholder:r.$t("sys.config.placeholder.video_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="video_task"?(i(),u(h,{key:7,field:"video_task.is_enable_storage",label:r.$t("sys.config.label.video_task.is_enable_storage")},{default:l(()=>[a(D,{modelValue:e.value.video_task.is_enable_storage,"onUpdate:modelValue":_[7]||(_[7]=t=>e.value.video_task.is_enable_storage=t)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(i(),u(h,{key:8,field:"video_task.storage_dir",label:r.$t("sys.config.label.video_task.storage_dir")},{default:l(()=>[a(w,{modelValue:e.value.video_task.storage_dir,"onUpdate:modelValue":_[8]||(_[8]=t=>e.value.video_task.storage_dir=t),placeholder:r.$t("sys.config.placeholder.video_task.storage_dir"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(i(),u(h,{key:9,field:"video_task.storage_base_url",label:r.$t("sys.config.label.video_task.storage_base_url")},{default:l(()=>[a(w,{modelValue:e.value.video_task.storage_base_url,"onUpdate:modelValue":_[9]||(_[9]=t=>e.value.video_task.storage_base_url=t),placeholder:r.$t("sys.config.placeholder.video_task.storage_base_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(i(),u(h,{key:10,field:"video_task.storage_expires_at",label:r.$t("sys.config.label.video_task.storage_expires_at")},{default:l(()=>[a(B,{modelValue:e.value.video_task.storage_expires_at,"onUpdate:modelValue":_[10]||(_[10]=t=>e.value.video_task.storage_expires_at=t),placeholder:r.$t("sys.config.placeholder.video_task.storage_expires_at"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="video_task"&&e.value.video_task.is_enable_storage?(i(),u(h,{key:11,field:"video_task.storage_expired_delete",label:r.$t("sys.config.label.video_task.storage_expired_delete")},{default:l(()=>[a(D,{modelValue:e.value.video_task.storage_expired_delete,"onUpdate:modelValue":_[11]||(_[11]=t=>e.value.video_task.storage_expired_delete=t)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"?(i(),u(h,{key:12,field:"file_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(w,{modelValue:e.value.file_task.cron,"onUpdate:modelValue":_[12]||(_[12]=t=>e.value.file_task.cron=t),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="file_task"?(i(),u(h,{key:13,field:"file_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.file_task.lock_minutes")}]},{default:l(()=>[a(B,{modelValue:e.value.file_task.lock_minutes,"onUpdate:modelValue":_[13]||(_[13]=t=>e.value.file_task.lock_minutes=t),placeholder:r.$t("sys.config.placeholder.file_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="file_task"?(i(),u(h,{key:14,field:"file_task.is_enable_storage",label:r.$t("sys.config.label.file_task.is_enable_storage")},{default:l(()=>[a(D,{modelValue:e.value.file_task.is_enable_storage,"onUpdate:modelValue":_[14]||(_[14]=t=>e.value.file_task.is_enable_storage=t)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(i(),u(h,{key:15,field:"file_task.storage_dir",label:r.$t("sys.config.label.file_task.storage_dir")},{default:l(()=>[a(w,{modelValue:e.value.file_task.storage_dir,"onUpdate:modelValue":_[15]||(_[15]=t=>e.value.file_task.storage_dir=t),placeholder:r.$t("sys.config.placeholder.file_task.storage_dir"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(i(),u(h,{key:16,field:"file_task.storage_base_url",label:r.$t("sys.config.label.file_task.storage_base_url")},{default:l(()=>[a(w,{modelValue:e.value.file_task.storage_base_url,"onUpdate:modelValue":_[16]||(_[16]=t=>e.value.file_task.storage_base_url=t),placeholder:r.$t("sys.config.placeholder.file_task.storage_base_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(i(),u(h,{key:17,field:"file_task.storage_expires_at",label:r.$t("sys.config.label.file_task.storage_expires_at")},{default:l(()=>[a(B,{modelValue:e.value.file_task.storage_expires_at,"onUpdate:modelValue":_[17]||(_[17]=t=>e.value.file_task.storage_expires_at=t),placeholder:r.$t("sys.config.placeholder.file_task.storage_expires_at"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),e.value.action==="file_task"&&e.value.file_task.is_enable_storage?(i(),u(h,{key:18,field:"file_task.storage_expired_delete",label:r.$t("sys.config.label.file_task.storage_expired_delete")},{default:l(()=>[a(D,{modelValue:e.value.file_task.storage_expired_delete,"onUpdate:modelValue":_[18]||(_[18]=t=>e.value.file_task.storage_expired_delete=t)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),e.value.action==="batch_task"?(i(),u(h,{key:19,field:"batch_task.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(w,{modelValue:e.value.batch_task.cron,"onUpdate:modelValue":_[19]||(_[19]=t=>e.value.batch_task.cron=t),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="batch_task"?(i(),u(h,{key:20,field:"batch_task.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.batch_task.lock_minutes")}]},{default:l(()=>[a(B,{modelValue:e.value.batch_task.lock_minutes,"onUpdate:modelValue":_[20]||(_[20]=t=>e.value.batch_task.lock_minutes=t),placeholder:r.$t("sys.config.placeholder.batch_task.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="notice"?(i(),u(h,{key:21,field:"notice.cron",label:r.$t("sys.config.label.cron"),rules:[{required:!0,message:r.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(w,{modelValue:e.value.notice.cron,"onUpdate:modelValue":_[21]||(_[21]=t=>e.value.notice.cron=t),placeholder:r.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="notice"?(i(),u(h,{key:22,field:"notice.lock_minutes",label:r.$t("sys.config.label.lock_minutes"),rules:[{required:!0,message:r.$t("sys.config.placeholder.notice.lock_minutes")}]},{default:l(()=>[a(B,{modelValue:e.value.notice.lock_minutes,"onUpdate:modelValue":_[22]||(_[22]=t=>e.value.notice.lock_minutes=t),placeholder:r.$t("sys.config.placeholder.notice.lock_minutes"),precision:0,min:1,"allow-clear":""},{append:l(()=>[v(b(r.$t("unit.minute")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}});const He=ie(nl,[["__scopeId","data-v-4ef6d053"]]),ul={class:"list-wrap",style:{"margin-top":"10px"}},dl={class:"card-wrap"},_l={name:"API"},cl=ne({..._l,setup(ce){const{setLoading:k}=qe(!0),{t:n}=pe(),C=S(!1),T=S(""),R=S(),e=S({base:{},log:{},auto_disabled_error:{},auto_enable_error:{},not_retry_error:{},not_shield_error:{},service_unavailable:{},general_api:{}}),s=async o=>{o.action==="auto_disabled_error"&&e.value.auto_disabled_error.errors.length===0&&D(),o.action==="auto_enable_error"&&e.value.auto_enable_error.enable_errors.length===0&&X(),o.action==="not_retry_error"&&e.value.not_retry_error.errors.length===0&&f(),o.action==="not_shield_error"&&e.value.not_shield_error.errors.length===0&&J(),o.action==="service_unavailable"&&e.value.service_unavailable.ip_whitelist.length===0&&N(),o.action==="general_api"&&e.value.general_api.ip_whitelist.length===0&&h(),T.value=n(`sys.config.item.title.${o.action}`),e.value.action=o.action,C.value=!0},P=async o=>{W.warning({title:n("modal.warning.title"),titleAlign:"center",content:`${n("sys.config.placeholder.are_you_sure")}${o.action!=="reset_api_error"?n("button.reset"):""}${n(`sys.config.item.title.${o.action}`)}?`,okText:n("button.ok"),cancelText:n("button.cancel"),hideCancel:!1,onOk:()=>{ae(o)}})},j=async o=>{W.warning({title:n("modal.warning.title"),titleAlign:"center",content:`${n("sys.config.placeholder.are_you_sure")}${n(`sys.config.item.title.${o.action}`)}?`,okText:n("button.ok"),cancelText:n("button.cancel"),hideCancel:!1,onOk:()=>{Z(o)}})},K=async o=>{var t;if(await((t=R.value)==null?void 0:t.validate())){C.value=!0,o(!1);return}k(!0);try{await Ue(e.value),o(),G.success(n("success.operate")),_()}catch{o(!1)}finally{k(!1)}},le=()=>{C.value=!1,e.value.auto_disabled_error.errors.length>0&&!e.value.auto_disabled_error.errors[e.value.auto_disabled_error.errors.length-1]&&M(e.value.auto_disabled_error.errors.length-1),e.value.auto_enable_error.enable_errors.length>0&&(!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].enable_time||!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].cron||!e.value.auto_enable_error.enable_errors[e.value.auto_enable_error.enable_errors.length-1].error)&&d(e.value.auto_enable_error.enable_errors.length-1),e.value.not_retry_error.errors.length>0&&!e.value.not_retry_error.errors[e.value.not_retry_error.errors.length-1]&&$(e.value.not_retry_error.errors.length-1),e.value.not_shield_error.errors.length>0&&!e.value.not_shield_error.errors[e.value.not_shield_error.errors.length-1]&&Y(e.value.not_shield_error.errors.length-1),e.value.service_unavailable.ip_whitelist.length>0&&!e.value.service_unavailable.ip_whitelist[e.value.service_unavailable.ip_whitelist.length-1]&&w(e.value.service_unavailable.ip_whitelist.length-1),e.value.general_api.ip_whitelist.length>0&&!e.value.general_api.ip_whitelist[e.value.general_api.ip_whitelist.length-1]&&B(e.value.general_api.ip_whitelist.length-1)},ae=async o=>{k(!0);try{await Ce({action:o.action}),G.success(n("success.operate")),_()}finally{k(!1)}},Z=async o=>{k(!0);try{await Xe({action:o.action}),G.success(n("success.operate")),_()}finally{k(!1)}},O=async o=>{k(!0);try{await Se({action:o.action,open:o.open||!1}),G.success(n("success.operate")),_()}finally{k(!1)}},r=S({}),_=async()=>{const{data:o}=await De();e.value.base=o.base,e.value.log=o.log,e.value.auto_disabled_error=o.auto_disabled_error,e.value.auto_enable_error=o.auto_enable_error,e.value.not_retry_error=o.not_retry_error,e.value.not_shield_error=o.not_shield_error,e.value.service_unavailable=o.service_unavailable,e.value.general_api=o.general_api,r.value=[{action:"base",title:n("sys.config.item.title.base"),desc:n("sys.config.item.desc.base"),config:!0,reset:!0},{action:"log",title:n("sys.config.item.title.log"),desc:n("sys.config.item.desc.log"),open:e.value.log.open,config:!0,reset:!0},{action:"auto_disabled_error",title:n("sys.config.item.title.auto_disabled_error"),desc:n("sys.config.item.desc.auto_disabled_error"),open:e.value.auto_disabled_error.open,config:!0,reset:!0},{action:"auto_enable_error",title:n("sys.config.item.title.auto_enable_error"),desc:n("sys.config.item.desc.auto_enable_error"),open:e.value.auto_enable_error.open,config:!0,reset:!0},{action:"not_retry_error",title:n("sys.config.item.title.not_retry_error"),desc:n("sys.config.item.desc.not_retry_error"),open:e.value.not_retry_error.open,config:!0,reset:!0},{action:"not_shield_error",title:n("sys.config.item.title.not_shield_error"),desc:n("sys.config.item.desc.not_shield_error"),open:e.value.not_shield_error.open,config:!0,reset:!0},{action:"reset_api_error",title:n("sys.config.item.title.reset_api_error"),desc:n("sys.config.item.desc.reset_api_error"),reset:!0},{action:"refresh_api_cache",title:n("sys.config.item.title.refresh_api_cache"),desc:n("sys.config.item.desc.refresh_api_cache"),refresh:!0},{action:"service_unavailable",title:n("sys.config.item.title.service_unavailable"),desc:n("sys.config.item.desc.service_unavailable"),open:e.value.service_unavailable.open,config:!0,reset:!0},{action:"general_api",title:n("sys.config.item.title.general_api"),desc:n("sys.config.item.desc.general_api"),open:e.value.general_api.open,config:!0,reset:!0}]};_();const D=()=>{e.value.auto_disabled_error.errors.push("")},M=o=>{e.value.auto_disabled_error.errors.splice(o,1)},X=()=>{e.value.auto_enable_error.enable_errors.push({cron:"",enable_time:S(),error:""})},d=o=>{e.value.auto_enable_error.enable_errors.length>1&&e.value.auto_enable_error.enable_errors.splice(o,1)},f=()=>{e.value.not_retry_error.errors.push("")},$=o=>{e.value.not_retry_error.errors.splice(o,1)},J=()=>{e.value.not_shield_error.errors.push("")},Y=o=>{e.value.not_shield_error.errors.splice(o,1)},N=()=>{e.value.service_unavailable.ip_whitelist.push("")},w=o=>{e.value.service_unavailable.ip_whitelist.splice(o,1)},h=()=>{e.value.general_api.ip_whitelist.push("")},B=o=>{e.value.general_api.ip_whitelist.splice(o,1)};return(o,g)=>{const t=me,E=fe,te=ve,F=ye,se=be,Ae=he,Ee=ue,m=de,A=_e,q=Ve,U=$e,Q=je,Te=Ke,I=ke,re=Re,oe=Ne,Ge=we,Le=W;return i(),H("div",ul,[a(A,{class:"list-row",gutter:24},{default:l(()=>[(i(!0),H(L,null,z(r.value,p=>(i(),u(m,{key:p.action,xs:12,sm:12,md:12,lg:8,xl:8,xxl:6,class:"list-col"},{default:l(()=>[ge("div",dl,[a(Ee,{title:p.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:l(()=>[p.open!==void 0?(i(),u(t,{key:0,modelValue:p.open,"onUpdate:modelValue":y=>p.open=y,onChange:y=>O(p)},null,8,["modelValue","onUpdate:modelValue","onChange"])):c("",!0)]),actions:l(()=>[p.reset?(i(),u(F,{key:0,onClick:y=>P(p)},{default:l(()=>[v(b(o.$t("button.reset")),1)]),_:2},1032,["onClick"])):c("",!0),p.refresh?(i(),u(F,{key:1,status:"success",onClick:y=>j(p)},{default:l(()=>[v(b(o.$t("button.refresh")),1)]),_:2},1032,["onClick"])):c("",!0),p.config?(i(),u(F,{key:2,type:"primary",onClick:y=>s(p)},{default:l(()=>[v(b(o.$t("button.config")),1)]),_:2},1032,["onClick"])):c("",!0)]),skeleton:l(()=>[a(Ae,{animation:!0},{default:l(()=>[a(se,{widths:["50%","50%","100%","40%"],rows:4}),a(se,{widths:["40%"],rows:1})]),_:1})]),default:l(()=>[a(te,null,{description:l(()=>[v(b(p.desc)+" ",1),a(E,{data:p.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),a(Le,{visible:C.value,"onUpdate:visible":g[29]||(g[29]=p=>C.value=p),title:o.$t(T.value),width:e.value.action==="base"?588:e.value.action==="log"?647:728,"body-style":{padding:"20px 20px 0 20px",maxHeight:"520px"},onCancel:le,onBeforeOk:K},{default:l(()=>[a(Ge,{ref_key:"configForm",ref:R,model:e.value,"auto-label-width":""},{default:l(()=>[e.value.action==="base"?(i(),u(U,{key:0,field:"base.err_retry",label:o.$t("sys.config.label.base.err_retry"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.err_retry")}]},{default:l(()=>[a(q,{modelValue:e.value.base.err_retry,"onUpdate:modelValue":g[0]||(g[0]=p=>e.value.base.err_retry=p),placeholder:o.$t("sys.config.placeholder.base.err_retry"),"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(i(),u(U,{key:1,field:"base.model_key_err_disable",label:o.$t("sys.config.label.base.model_key_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.model_key_err_disable")}]},{default:l(()=>[a(q,{modelValue:e.value.base.model_key_err_disable,"onUpdate:modelValue":g[1]||(g[1]=p=>e.value.base.model_key_err_disable=p),placeholder:o.$t("sys.config.placeholder.base.model_key_err_disable"),min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(i(),u(U,{key:2,field:"base.model_agent_err_disable",label:o.$t("sys.config.label.base.model_agent_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.model_agent_err_disable")}]},{default:l(()=>[a(q,{modelValue:e.value.base.model_agent_err_disable,"onUpdate:modelValue":g[2]||(g[2]=p=>e.value.base.model_agent_err_disable=p),placeholder:o.$t("sys.config.placeholder.base.model_agent_err_disable"),min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(i(),u(U,{key:3,field:"base.model_agent_key_err_disable",label:o.$t("sys.config.label.base.model_agent_key_err_disable"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.model_agent_key_err_disable")}]},{default:l(()=>[a(q,{modelValue:e.value.base.model_agent_key_err_disable,"onUpdate:modelValue":g[3]||(g[3]=p=>e.value.base.model_agent_key_err_disable=p),placeholder:o.$t("sys.config.placeholder.base.model_agent_key_err_disable"),min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.once")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(i(),u(U,{key:4,field:"base.short_timeout",label:o.$t("sys.config.label.base.short_timeout"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.short_timeout")}]},{default:l(()=>[a(q,{modelValue:e.value.base.short_timeout,"onUpdate:modelValue":g[4]||(g[4]=p=>e.value.base.short_timeout=p),placeholder:o.$t("sys.config.placeholder.base.short_timeout"),min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="base"?(i(),u(U,{key:5,field:"base.long_timeout",label:o.$t("sys.config.label.base.long_timeout"),rules:[{required:!0,message:o.$t("sys.config.error.required.base.long_timeout")}]},{default:l(()=>[a(q,{modelValue:e.value.base.long_timeout,"onUpdate:modelValue":g[5]||(g[5]=p=>e.value.base.long_timeout=p),placeholder:o.$t("sys.config.placeholder.base.long_timeout"),min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:6,field:"log.text_records",label:o.$t("sys.config.label.log.text_records")},{default:l(()=>[a(Te,{size:"large"},{default:l(()=>[a(Q,{modelValue:e.value.log.text_records,"onUpdate:modelValue":g[6]||(g[6]=p=>e.value.log.text_records=p),value:"prompt"},{default:l(()=>[v(" \u63D0\u95EE ")]),_:1},8,["modelValue"]),a(Q,{modelValue:e.value.log.text_records,"onUpdate:modelValue":g[7]||(g[7]=p=>e.value.log.text_records=p),value:"completion"},{default:l(()=>[v(" \u56DE\u7B54 ")]),_:1},8,["modelValue"]),a(Q,{modelValue:e.value.log.text_records,"onUpdate:modelValue":g[8]||(g[8]=p=>e.value.log.text_records=p),value:"messages"},{default:l(()=>[v(" \u4E0A\u4E0B\u6587 ")]),_:1},8,["modelValue"]),a(Q,{modelValue:e.value.log.text_records,"onUpdate:modelValue":g[9]||(g[9]=p=>e.value.log.text_records=p),value:"image"},{default:l(()=>[v(" \u56FE\u50CF\u6570\u636E ")]),_:1},8,["modelValue"]),a(Q,{modelValue:e.value.log.text_records,"onUpdate:modelValue":g[10]||(g[10]=p=>e.value.log.text_records=p),value:"audio"},{default:l(()=>[v(" \u97F3\u9891\u6570\u636E ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:7,field:"log.text_reserve",label:o.$t("sys.config.label.log.text_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.text_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.text_reserve,"onUpdate:modelValue":g[11]||(g[11]=p=>e.value.log.text_reserve=p),placeholder:o.$t("sys.config.placeholder.log.text_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:8,field:"log.image_reserve",label:o.$t("sys.config.label.log.image_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.image_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.image_reserve,"onUpdate:modelValue":g[12]||(g[12]=p=>e.value.log.image_reserve=p),placeholder:o.$t("sys.config.placeholder.log.image_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:9,field:"log.audio_reserve",label:o.$t("sys.config.label.log.audio_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.audio_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.audio_reserve,"onUpdate:modelValue":g[13]||(g[13]=p=>e.value.log.audio_reserve=p),placeholder:o.$t("sys.config.placeholder.log.audio_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:10,field:"log.video_reserve",label:o.$t("sys.config.label.log.video_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.video_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.video_reserve,"onUpdate:modelValue":g[14]||(g[14]=p=>e.value.log.video_reserve=p),placeholder:o.$t("sys.config.placeholder.log.video_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:11,field:"log.file_reserve",label:o.$t("sys.config.label.log.file_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.file_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.file_reserve,"onUpdate:modelValue":g[15]||(g[15]=p=>e.value.log.file_reserve=p),placeholder:o.$t("sys.config.placeholder.log.file_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:12,field:"log.batch_reserve",label:o.$t("sys.config.label.log.batch_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.batch_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.batch_reserve,"onUpdate:modelValue":g[16]||(g[16]=p=>e.value.log.batch_reserve=p),placeholder:o.$t("sys.config.placeholder.log.batch_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:13,field:"log.general_reserve",label:o.$t("sys.config.label.log.general_reserve"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.general_reserve")}]},{default:l(()=>[a(q,{modelValue:e.value.log.general_reserve,"onUpdate:modelValue":g[17]||(g[17]=p=>e.value.log.general_reserve=p),placeholder:o.$t("sys.config.placeholder.log.general_reserve"),precision:0,min:0,"allow-clear":""},{append:l(()=>[v(b(o.$t("unit.day")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:14,field:"log.status",label:o.$t("sys.config.label.log.status"),rules:[{required:!0,message:o.$t("sys.config.error.required.log.status")}]},{default:l(()=>[a(Te,{size:"large"},{default:l(()=>[a(Q,{modelValue:e.value.log.status,"onUpdate:modelValue":g[18]||(g[18]=p=>e.value.log.status=p),value:1},{default:l(()=>[v(b(o.$t("log.dict.status.1")),1)]),_:1},8,["modelValue"]),a(Q,{modelValue:e.value.log.status,"onUpdate:modelValue":g[19]||(g[19]=p=>e.value.log.status=p),value:2},{default:l(()=>[v(b(o.$t("log.dict.status.2")),1)]),_:1},8,["modelValue"]),a(Q,{modelValue:e.value.log.status,"onUpdate:modelValue":g[20]||(g[20]=p=>e.value.log.status=p),value:3},{default:l(()=>[v(b(o.$t("log.dict.status.3")),1)]),_:1},8,["modelValue"]),a(Q,{modelValue:e.value.log.status,"onUpdate:modelValue":g[21]||(g[21]=p=>e.value.log.status=p),value:-1},{default:l(()=>[v(b(o.$t("log.dict.status.-1")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"])):c("",!0),e.value.action==="log"?(i(),u(U,{key:15,field:"log.cron",label:o.$t("sys.config.label.log.cron"),rules:[{required:!0,message:o.$t("sys.config.placeholder.cron")}]},{default:l(()=>[a(I,{modelValue:e.value.log.cron,"onUpdate:modelValue":g[22]||(g[22]=p=>e.value.log.cron=p),placeholder:o.$t("sys.config.placeholder.cron"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):c("",!0),(i(!0),H(L,null,z(e.value.auto_disabled_error.errors,(p,y)=>x((i(),u(U,{key:y,field:`auto_disabled_error.errors[${y}]`,label:`${y+1}. `+o.$t("sys.config.label.errors"),rules:[{required:!0,message:o.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(I,{modelValue:e.value.auto_disabled_error.errors[y],"onUpdate:modelValue":V=>e.value.auto_disabled_error.errors[y]=V,placeholder:o.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:g[23]||(g[23]=V=>D())},{default:l(()=>[a(re)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:V=>M(y)},{default:l(()=>[a(oe)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="auto_disabled_error"]])),128)),(i(!0),H(L,null,z(e.value.auto_enable_error.enable_errors,(p,y)=>x((i(),u(U,{key:y,field:`auto_enable_error.enable_errors[${y}].cron`&&`auto_enable_error.enable_errors[${y}].enable_time`&&`auto_enable_error.enable_errors[${y}].error`,label:`${y+1}.`,rules:[{required:!0,message:o.$t("sys.config.error.required.auto_enable_error")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(I,{modelValue:e.value.auto_enable_error.enable_errors[y].cron,"onUpdate:modelValue":V=>e.value.auto_enable_error.enable_errors[y].cron=V,placeholder:o.$t("sys.config.placeholder.auto_enable_error.enable_errors.cron"),"allow-clear":"",style:{width:"20%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(q,{modelValue:e.value.auto_enable_error.enable_errors[y].enable_time,"onUpdate:modelValue":V=>e.value.auto_enable_error.enable_errors[y].enable_time=V,placeholder:o.$t("sys.config.placeholder.auto_enable_error.enable_errors.enable_time"),"allow-clear":"",style:{width:"22%","margin-right":"5px"}},{append:l(()=>[v(b(o.$t("unit.second")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),a(I,{modelValue:e.value.auto_enable_error.enable_errors[y].error,"onUpdate:modelValue":V=>e.value.auto_enable_error.enable_errors[y].error=V,placeholder:o.$t("sys.config.label.errors"),"allow-clear":"",style:{width:"42%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:g[24]||(g[24]=V=>X())},{default:l(()=>[a(re)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:V=>d(y)},{default:l(()=>[a(oe)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="auto_enable_error"]])),128)),(i(!0),H(L,null,z(e.value.not_retry_error.errors,(p,y)=>x((i(),u(U,{key:y,field:`not_retry_error.errors[${y}]`,label:`${y+1}. `+o.$t("sys.config.label.errors"),rules:[{required:!0,message:o.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(I,{modelValue:e.value.not_retry_error.errors[y],"onUpdate:modelValue":V=>e.value.not_retry_error.errors[y]=V,placeholder:o.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:g[25]||(g[25]=V=>f())},{default:l(()=>[a(re)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:V=>$(y)},{default:l(()=>[a(oe)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="not_retry_error"]])),128)),(i(!0),H(L,null,z(e.value.not_shield_error.errors,(p,y)=>x((i(),u(U,{key:y,field:`not_shield_error.errors[${y}]`,label:`${y+1}. `+o.$t("sys.config.label.errors"),rules:[{required:!0,message:o.$t("sys.config.error.required.errors")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(I,{modelValue:e.value.not_shield_error.errors[y],"onUpdate:modelValue":V=>e.value.not_shield_error.errors[y]=V,placeholder:o.$t("sys.config.placeholder.errors"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:g[26]||(g[26]=V=>J())},{default:l(()=>[a(re)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:V=>Y(y)},{default:l(()=>[a(oe)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="not_shield_error"]])),128)),(i(!0),H(L,null,z(e.value.service_unavailable.ip_whitelist,(p,y)=>x((i(),u(U,{key:y,field:`service_unavailable.ip_whitelist[${y}]`,label:`${y+1}. `+o.$t("common.ip_whitelist"),rules:[{required:!0,message:o.$t("sys.config.error.required.service_unavailable.ip_whitelist")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(I,{modelValue:e.value.service_unavailable.ip_whitelist[y],"onUpdate:modelValue":V=>e.value.service_unavailable.ip_whitelist[y]=V,placeholder:o.$t("sys.config.placeholder.service_unavailable.ip_whitelist"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:g[27]||(g[27]=V=>N())},{default:l(()=>[a(re)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:V=>w(y)},{default:l(()=>[a(oe)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="service_unavailable"]])),128)),(i(!0),H(L,null,z(e.value.general_api.ip_whitelist,(p,y)=>x((i(),u(U,{key:y,field:`general_api.ip_whitelist[${y}]`,label:`${y+1}. `+o.$t("common.ip_whitelist"),rules:[{required:!0,message:o.$t("sys.config.error.required.general_api.ip_whitelist")}],"label-col-style":{padding:"0 16px 2px 0"}},{default:l(()=>[a(I,{modelValue:e.value.general_api.ip_whitelist[y],"onUpdate:modelValue":V=>e.value.general_api.ip_whitelist[y]=V,placeholder:o.$t("sys.config.placeholder.general_api.ip_whitelist"),"allow-clear":"",style:{width:"84%","margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),a(F,{type:"primary",shape:"circle",style:{margin:"0 10px 0 10px"},onClick:g[28]||(g[28]=V=>h())},{default:l(()=>[a(re)]),_:1}),a(F,{type:"secondary",shape:"circle",onClick:V=>B(y)},{default:l(()=>[a(oe)]),_:2},1032,["onClick"])]),_:2},1032,["field","label","rules"])),[[ee,e.value.action==="general_api"]])),128))]),_:1},8,["model"])]),_:1},8,["visible","title","width"])])}}});const Oe=ie(cl,[["__scopeId","data-v-c7861058"]]),pl={class:"container"},gl={name:"SysConfig"},ml=ne({...gl,setup(ce){return(k,n)=>{const C=Me,T=Ze,R=Je,e=Qe,s=We,P=de,j=_e,K=ue;return i(),H("div",pl,[a(R,{class:"container-breadcrumb"},{default:l(()=>[a(T,null,{default:l(()=>[a(C)]),_:1}),a(T,null,{default:l(()=>[v(b(k.$t("sys.menu")),1)]),_:1}),a(T,null,{default:l(()=>[v(b(k.$t("sys.config.menu")),1)]),_:1})]),_:1}),a(j,{gutter:20,align:"stretch"},{default:l(()=>[a(P,{span:24},{default:l(()=>[a(K,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 14px"}},{default:l(()=>[a(j,{justify:"space-between"},{default:l(()=>[a(P,{span:24},{default:l(()=>[a(s,{"default-active-tab":0,type:"rounded"},{default:l(()=>[a(e,{key:"0",title:k.$t("common.all")},{default:l(()=>[a(Be),a(Fe),a(He),a(Oe)]),_:1},8,["title"]),a(e,{key:"1",title:k.$t("sys.config.tab.title.global")},{default:l(()=>[a(Be)]),_:1},8,["title"]),a(e,{key:"2",title:k.$t("sys.config.tab.title.general")},{default:l(()=>[a(Fe)]),_:1},8,["title"]),a(e,{key:"3",title:k.$t("sys.config.tab.title.task")},{default:l(()=>[a(He)]),_:1},8,["title"]),a(e,{key:"4",title:k.$t("sys.config.tab.title.api")},{default:l(()=>[a(Oe)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}});const Dl=ie(ml,[["__scopeId","data-v-9173f87c"]]);export{Dl as default};
