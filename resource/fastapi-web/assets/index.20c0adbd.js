import{P as D,i as E,_ as L}from"./index.0528be47.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css                */import{d as Q,e as s,B as m,C as G,aH as e,aG as r,aL as d,aM as p,F as b,aD as _,u as w,aE as c,aK as T,aF as A,b1 as H,b2 as K,aS as M,bQ as O,bV as P,bO as z,aU as J,bi as W,b5 as X,bI as Y,bR as Z,g as x}from"./arco.91d8d802.js";import{u as ee}from"./loading.d8a03711.js";import{q as le}from"./common.df364eef.js";import{f as ae}from"./vue.90059513.js";import"./chart.1c4d013e.js";const oe={class:"container"},te={class:"wrapper"},re={class:"submit-btn"},ue={name:"SiteConfigCreate"},ie=Q({...ue,setup(de){const{proxy:y}=x(),q=ae(),v=s(),l=s({domain:"",title:"",logo:"",favicon:"",avatar:"",bg_img:"",copyright:"",jump_url:"",keywords:"",description:"",icp_beian:"",ga_beian:"",register_tips:"",grant_quota:s(),quota_expires_at:s(),support_email_suffix:s(),host:"",port:s(),user_name:"",password:"",from_name:"",remark:""}),{loading:U,setLoading:V}=ee(!1),k=async()=>{var o;if(!await((o=v.value)==null?void 0:o.validate())){V(!0);try{l.value.support_email_suffix&&(l.value.support_email_suffix=l.value.support_email_suffix.split(",")),await D(l.value).then(()=>{y.$message.success("\u65B0\u5EFA\u6210\u529F"),q.push({name:"SiteConfig"})})}catch{l.value.support_email_suffix&&(l.value.support_email_suffix=l.value.support_email_suffix.join(","))}finally{V(!1)}}},C=a=>{l.value.grant_quota=a*5e5};return(a,o)=>{const $=E,f=T,B=A,i=H,u=K,g=M,n=O,S=P,I=z,h=J,j=W,F=X,R=Y,N=Z;return m(),G("div",oe,[e(B,{class:"container-breadcrumb"},{default:r(()=>[e(f,null,{default:r(()=>[e($)]),_:1}),e(f,null,{default:r(()=>[d(p(a.$t("menu.sys")),1)]),_:1}),e(f,null,{default:r(()=>[d(p(a.$t("menu.site.config.create")),1)]),_:1})]),_:1}),e(N,{loading:w(U),style:{width:"100%"}},{default:r(()=>[e(R,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:r(()=>[b("div",te,[e(F,{ref_key:"formRef",ref:v,model:l.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:r(()=>[e(u,{field:"domain",label:a.$t("site.config.label.domain"),rules:[{required:!0,message:a.$t("site.config.error.domain.required")}]},{default:r(()=>[e(i,{modelValue:l.value.domain,"onUpdate:modelValue":o[0]||(o[0]=t=>l.value.domain=t),placeholder:a.$t("site.config.placeholder.domain"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(u,{field:"title",label:a.$t("site.config.label.title"),rules:[{required:!0,message:a.$t("site.config.error.title.required")}]},{default:r(()=>[e(i,{modelValue:l.value.title,"onUpdate:modelValue":o[1]||(o[1]=t=>l.value.title=t),placeholder:a.$t("site.config.placeholder.title"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(u,{field:"logo",label:a.$t("site.config.label.logo"),rules:[{required:!0,message:a.$t("site.config.error.logo.required")}]},{default:r(()=>[e(i,{modelValue:l.value.logo,"onUpdate:modelValue":o[2]||(o[2]=t=>l.value.logo=t),placeholder:a.$t("site.config.placeholder.logo"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(u,{field:"favicon",label:a.$t("site.config.label.favicon"),rules:[{required:!0,message:a.$t("site.config.error.favicon.required")}]},{default:r(()=>[e(i,{modelValue:l.value.favicon,"onUpdate:modelValue":o[3]||(o[3]=t=>l.value.favicon=t),placeholder:a.$t("site.config.placeholder.favicon"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(u,{field:"avatar",label:a.$t("site.config.label.avatar")},{default:r(()=>[e(i,{modelValue:l.value.avatar,"onUpdate:modelValue":o[4]||(o[4]=t=>l.value.avatar=t),placeholder:a.$t("site.config.placeholder.avatar"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"bg_img",label:a.$t("site.config.label.bg_img")},{default:r(()=>[e(i,{modelValue:l.value.bg_img,"onUpdate:modelValue":o[5]||(o[5]=t=>l.value.bg_img=t),placeholder:a.$t("site.config.placeholder.bg_img"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"copyright",label:a.$t("site.config.label.copyright")},{default:r(()=>[e(i,{modelValue:l.value.copyright,"onUpdate:modelValue":o[6]||(o[6]=t=>l.value.copyright=t),placeholder:a.$t("site.config.placeholder.copyright"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"jump_url",label:a.$t("site.config.label.jump_url")},{default:r(()=>[e(i,{modelValue:l.value.jump_url,"onUpdate:modelValue":o[7]||(o[7]=t=>l.value.jump_url=t),placeholder:a.$t("site.config.placeholder.jump_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"keywords",label:a.$t("site.config.label.keywords")},{default:r(()=>[e(i,{modelValue:l.value.keywords,"onUpdate:modelValue":o[8]||(o[8]=t=>l.value.keywords=t),placeholder:a.$t("site.config.placeholder.keywords"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"description",label:a.$t("site.config.label.description")},{default:r(()=>[e(i,{modelValue:l.value.description,"onUpdate:modelValue":o[9]||(o[9]=t=>l.value.description=t),placeholder:a.$t("site.config.placeholder.description"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"icp_beian",label:a.$t("site.config.label.icp_beian")},{default:r(()=>[e(i,{modelValue:l.value.icp_beian,"onUpdate:modelValue":o[10]||(o[10]=t=>l.value.icp_beian=t),placeholder:a.$t("site.config.placeholder.icp_beian"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"ga_beian",label:a.$t("site.config.label.ga_beian")},{default:r(()=>[e(i,{modelValue:l.value.ga_beian,"onUpdate:modelValue":o[11]||(o[11]=t=>l.value.ga_beian=t),placeholder:a.$t("site.config.placeholder.ga_beian"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"register_tips",label:a.$t("site.config.label.register_tips")},{default:r(()=>[e(i,{modelValue:l.value.register_tips,"onUpdate:modelValue":o[12]||(o[12]=t=>l.value.register_tips=t),placeholder:a.$t("site.config.placeholder.register_tips"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l.value.register_tips?c("",!0):(m(),_(u,{key:0,field:"grant_quota",label:a.$t("site.config.label.grant_quota")},{default:r(()=>[e(g,{modelValue:l.value.grant_quota,"onUpdate:modelValue":o[13]||(o[13]=t=>l.value.grant_quota=t),placeholder:a.$t("site.config.placeholder.grant_quota"),precision:0,min:0,max:9999999999999,style:{width:"492px","margin-right":"10px"},"allow-clear":""},null,8,["modelValue","placeholder"]),b("div",null," $"+p(l.value.grant_quota?w(le)(l.value.grant_quota):"0"),1)]),_:1},8,["label"])),l.value.register_tips?c("",!0):(m(),_(u,{key:1},{default:r(()=>[e(S,{type:"button",onChange:C},{default:r(()=>[e(n,{value:1},{default:r(()=>[d(" $1 ")]),_:1}),e(n,{value:5},{default:r(()=>[d(" $5 ")]),_:1}),e(n,{value:10},{default:r(()=>[d(" $10 ")]),_:1}),e(n,{value:20},{default:r(()=>[d(" $20 ")]),_:1}),e(n,{value:50},{default:r(()=>[d(" $50 ")]),_:1}),e(n,{value:100},{default:r(()=>[d(" $100 ")]),_:1}),e(n,{value:200},{default:r(()=>[d(" $200 ")]),_:1}),e(n,{value:500},{default:r(()=>[d(" $500 ")]),_:1}),e(n,{value:1e3},{default:r(()=>[d(" $1000 ")]),_:1})]),_:1},8,["onChange"])]),_:1})),l.value.register_tips?c("",!0):(m(),_(u,{key:2,field:"quota_expires_at",label:a.$t("site.config.label.quota_expires_at")},{default:r(()=>[e(g,{modelValue:l.value.quota_expires_at,"onUpdate:modelValue":o[14]||(o[14]=t=>l.value.quota_expires_at=t),placeholder:a.$t("site.config.placeholder.quota_expires_at"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])),e(u,{field:"support_email_suffix",label:a.$t("site.config.label.support_email_suffix")},{default:r(()=>[e(i,{modelValue:l.value.support_email_suffix,"onUpdate:modelValue":o[15]||(o[15]=t=>l.value.support_email_suffix=t),placeholder:a.$t("site.config.placeholder.support_email_suffix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"host",label:a.$t("site.config.label.host")},{default:r(()=>[e(i,{modelValue:l.value.host,"onUpdate:modelValue":o[16]||(o[16]=t=>l.value.host=t),placeholder:a.$t("site.config.placeholder.host"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"port",label:a.$t("site.config.label.port")},{default:r(()=>[e(g,{modelValue:l.value.port,"onUpdate:modelValue":o[17]||(o[17]=t=>l.value.port=t),placeholder:a.$t("site.config.placeholder.port"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"user_name",label:a.$t("site.config.label.user_name")},{default:r(()=>[e(i,{modelValue:l.value.user_name,"onUpdate:modelValue":o[18]||(o[18]=t=>l.value.user_name=t),placeholder:a.$t("site.config.placeholder.user_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"password",label:a.$t("site.config.label.password")},{default:r(()=>[e(i,{modelValue:l.value.password,"onUpdate:modelValue":o[19]||(o[19]=t=>l.value.password=t),placeholder:a.$t("site.config.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"from_name",label:a.$t("site.config.label.from_name")},{default:r(()=>[e(i,{modelValue:l.value.from_name,"onUpdate:modelValue":o[20]||(o[20]=t=>l.value.from_name=t),placeholder:a.$t("site.config.placeholder.from_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,{field:"remark",label:a.$t("site.config.label.remark")},{default:r(()=>[e(I,{modelValue:l.value.remark,"onUpdate:modelValue":o[21]||(o[21]=t=>l.value.remark=t),placeholder:a.$t("site.config.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(j,null,{default:r(()=>[b("div",re,[e(h,{type:"secondary",onClick:o[22]||(o[22]=t=>a.$router.push({name:"SiteConfig"}))},{default:r(()=>[d(p(a.$t("button.cancel")),1)]),_:1}),e(h,{type:"primary",onClick:k},{default:r(()=>[d(p(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const we=L(ie,[["__scopeId","data-v-1d8a5bd2"]]);export{we as default};
