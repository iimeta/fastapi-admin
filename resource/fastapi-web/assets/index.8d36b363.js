import{k as I,_ as L}from"./index.75d20446.js";/* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css              */import{d as N,e as c,B as R,C as S,aH as a,aG as r,aL as n,aM as m,F as D,u as s,bR as u,aK as E,aF as K,b1 as T,b2 as j,aS as A,bU as G,bK as H,aU as J,bi as M,b5 as P,bJ as z,bN as O,g as Q}from"./arco.4a860a7b.js";import{u as W}from"./loading.e639bbf4.js";import{e as X}from"./admin_user.be5bb3bc.js";import{f as Y}from"./vue.2ee6e12c.js";import"./chart.e67bf0c7.js";import"./base.87fcf6e2.js";const Z={class:"container"},x={class:"wrapper"},ee={name:"UserCreate"},ae=N({...ee,setup(le){const{proxy:$}=Q(),y=Y(),_=c(),o=c({name:"",account:"",password:"",terminal:"web",quota:c(),quota_expires_at:"",remark:""}),{loading:V,setLoading:b}=W(!1),q=async()=>{var l;if(!await((l=_.value)==null?void 0:l.validate())){b(!0);try{await X(o.value).then(()=>{$.$message.success("\u65B0\u5EFA\u6210\u529F"),y.push({name:"UserList"})})}catch{}finally{b(!1)}}};return(e,l)=>{const f=I,p=E,w=K,i=T,d=j,h=A,g=G,k=H,v=J,U=M,B=P,C=z,F=O;return R(),S("div",Z,[a(w,{class:"container-breadcrumb"},{default:r(()=>[a(p,null,{default:r(()=>[a(f)]),_:1}),a(p,null,{default:r(()=>[n(m(e.$t("menu.user")),1)]),_:1}),a(p,null,{default:r(()=>[n(m(e.$t("menu.user.create")),1)]),_:1})]),_:1}),a(F,{loading:s(V),style:{width:"100%"}},{default:r(()=>[a(C,{class:"general-card",bordered:!1},{default:r(()=>[D("div",x,[a(B,{ref_key:"formRef",ref:_,model:o.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:r(()=>[a(d,{field:"name",label:e.$t("user.label.name"),rules:[{required:!0,message:e.$t("user.error.name.required")},{match:/^.{1,30}$/,message:e.$t("user.error.name.pattern")}]},{default:r(()=>[a(i,{modelValue:o.value.name,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value.name=t),placeholder:e.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(d,{field:"account",label:e.$t("user.label.account"),rules:[{required:!0,message:e.$t("user.error.account.required")}]},{default:r(()=>[a(i,{modelValue:o.value.account,"onUpdate:modelValue":l[1]||(l[1]=t=>o.value.account=t),placeholder:e.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(d,{field:"password",label:e.$t("user.label.password"),rules:[{required:!0,message:e.$t("user.error.password.required")},{match:/^.{6,}$/,message:e.$t("user.error.password.pattern")}]},{default:r(()=>[a(i,{modelValue:o.value.password,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value.password=t),placeholder:e.$t("user.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(d,{field:"quota",label:e.$t("user.label.quota"),rules:[{required:!0,message:e.$t("user.error.quota.required")}]},{default:r(()=>[a(h,{modelValue:o.value.quota,"onUpdate:modelValue":l[3]||(l[3]=t=>o.value.quota=t),placeholder:e.$t("user.placeholder.quota"),precision:0,min:-9999999999999,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(d,{field:"quota_expires_at",label:e.$t("user.label.quota_expires_at")},{default:r(()=>[a(g,{modelValue:o.value.quota_expires_at,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.quota_expires_at=t),placeholder:e.$t("user.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":t=>s(u)(t).isBefore(s(u)()),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>s(u)().add(1,"day")},{label:"7",value:()=>s(u)().add(7,"day")},{label:"15",value:()=>s(u)().add(15,"day")},{label:"30",value:()=>s(u)().add(30,"day")},{label:"90",value:()=>s(u)().add(90,"day")},{label:"180",value:()=>s(u)().add(180,"day")},{label:"365",value:()=>s(u)().add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),a(d,{field:"remark",label:e.$t("user.label.remark")},{default:r(()=>[a(k,{modelValue:o.value.remark,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.remark=t),placeholder:e.$t("user.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(d,null,{default:r(()=>[a(U,null,{default:r(()=>[a(v,{type:"secondary",onClick:l[6]||(l[6]=t=>e.$router.push({name:"UserList"}))},{default:r(()=>[n(m(e.$t("user.button.cancel")),1)]),_:1}),a(v,{type:"primary",onClick:q},{default:r(()=>[n(m(e.$t("user.button.submit")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const $e=L(ae,[["__scopeId","data-v-13054332"]]);export{$e as default};
