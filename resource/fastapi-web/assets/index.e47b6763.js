import{k as q,_ as D}from"./index.7c3ae8ed.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               */import{d as F,e as f,B as S,C as L,aH as o,aG as l,aL as d,aM as u,D as b,u as N,aK as R,aF as T,b1 as E,b2 as G,aS as H,aT as K,bT as M,aU as j,bi as z,b5 as A,bU as J,bV as O,g as Q}from"./arco.73de4031.js";import{u as W}from"./loading.0c20cf1b.js";import{f as X,g as Y}from"./provider.365ce2c6.js";import{f as Z,h as x}from"./vue.e54f3d1e.js";import"./chart.b5ad42b0.js";const ee={class:"container"},ae={class:"wrapper"},oe={class:"submit-btn"},re={name:"ProviderUpdate"},le=F({...re,setup(te){const{proxy:v}=Q(),{loading:$,setLoading:n}=W(!1),g=Z(),y=x(),p=f(),r=f({id:"",name:"",code:"",sort:0,is_public:!0,remark:"",status:1});(async(a={id:y.query.id})=>{n(!0);try{const{data:e}=await X(a);r.value.id=e.id,r.value.name=e.name,r.value.code=e.code,r.value.sort=e.sort,r.value.is_public=e.is_public,r.value.remark=e.remark,r.value.status=e.status}catch{}finally{n(!1)}})();const V=async()=>{var e;if(!await((e=p.value)==null?void 0:e.validate())){n(!0);try{await Y(r.value).then(()=>{v.$message.success("\u66F4\u65B0\u6210\u529F"),g.push({name:"ProviderList"})})}catch{}finally{n(!1)}}};return(a,e)=>{const m=q,i=R,h=T,c=E,s=G,k=H,w=K,U=M,_=j,B=z,C=A,I=J,P=O;return S(),L("div",ee,[o(h,{class:"container-breadcrumb"},{default:l(()=>[o(i,null,{default:l(()=>[o(m)]),_:1}),o(i,null,{default:l(()=>[d(u(a.$t("menu.sys")),1)]),_:1}),o(i,null,{default:l(()=>[d(u(a.$t("menu.provider.update")),1)]),_:1})]),_:1}),o(P,{loading:N($),style:{width:"100%"}},{default:l(()=>[o(I,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:l(()=>[b("div",ae,[o(C,{ref_key:"formRef",ref:p,model:r.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:21}},{default:l(()=>[o(s,{field:"name",label:a.$t("provider.label.name"),rules:[{required:!0,message:a.$t("provider.error.name.required")},{match:/^.{1,100}$/,message:a.$t("provider.error.name.pattern")}]},{default:l(()=>[o(c,{modelValue:r.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value.name=t),placeholder:a.$t("provider.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),o(s,{field:"code",label:a.$t("provider.label.code"),rules:[{required:!0,message:a.$t("provider.error.code.required")},{match:/^.{1,100}$/,message:a.$t("provider.error.code.pattern")}]},{default:l(()=>[o(c,{modelValue:r.value.code,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.code=t),placeholder:a.$t("provider.placeholder.code"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),o(s,{field:"sort",label:a.$t("provider.label.sort")},{default:l(()=>[o(k,{modelValue:r.value.sort,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value.sort=t),placeholder:a.$t("provider.placeholder.sort"),precision:0,min:-10,max:999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(s,{field:"is_public",label:a.$t("provider.label.is_public")},{default:l(()=>[o(w,{modelValue:r.value.is_public,"onUpdate:modelValue":e[3]||(e[3]=t=>r.value.is_public=t)},null,8,["modelValue"])]),_:1},8,["label"]),o(s,{field:"remark",label:a.$t("provider.label.remark")},{default:l(()=>[o(U,{modelValue:r.value.remark,"onUpdate:modelValue":e[4]||(e[4]=t=>r.value.remark=t),placeholder:a.$t("provider.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(B,null,{default:l(()=>[b("div",oe,[o(_,{type:"secondary",onClick:e[5]||(e[5]=t=>a.$router.push({name:"ProviderList"}))},{default:l(()=>[d(u(a.$t("button.cancel")),1)]),_:1}),o(_,{type:"primary",onClick:V},{default:l(()=>[d(u(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const ve=D(le,[["__scopeId","data-v-a9a43838"]]);export{ve as default};
