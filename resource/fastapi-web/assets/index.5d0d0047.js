import{F as I,_ as q}from"./index.75d20446.js";/* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                */import{d as D,e as f,B as L,C as N,aH as a,aG as r,aL as u,aM as p,F as S,u as R,aK as T,aF as K,b1 as E,b2 as G,aS as H,aT as J,bK as M,aU as j,bi as z,b5 as A,bJ as O,bN as P,g as Q}from"./arco.4a860a7b.js";import{u as W}from"./loading.e639bbf4.js";import{f as X,g as Y}from"./corp.cb0b2e84.js";import{f as Z,h as x}from"./vue.2ee6e12c.js";import"./chart.e67bf0c7.js";import"./base.87fcf6e2.js";const ee={class:"container"},ae={class:"wrapper"},oe={name:"CorpUpdate"},le=D({...oe,setup(re){const{proxy:b}=Q(),{loading:v,setLoading:n}=W(!1),$=Z(),g=x(),m=f(),l=f({id:"",name:"",code:"",sort:0,is_public:!0,remark:"",status:1});(async(o={id:g.query.id})=>{n(!0);try{const{data:e}=await X(o);l.value.id=e.id,l.value.name=e.name,l.value.code=e.code,l.value.sort=e.sort,l.value.is_public=e.is_public,l.value.remark=e.remark,l.value.status=e.status}catch{}finally{n(!1)}})();const y=async()=>{var e;if(!await((e=m.value)==null?void 0:e.validate())){n(!0);try{await Y(l.value).then(()=>{b.$message.success("\u66F4\u65B0\u6210\u529F"),$.push({name:"CorpList"})})}catch{}finally{n(!1)}}};return(o,e)=>{const c=I,d=T,V=K,i=E,s=G,h=H,C=J,k=M,_=j,w=z,B=A,F=O,U=P;return L(),N("div",ee,[a(V,{class:"container-breadcrumb"},{default:r(()=>[a(d,null,{default:r(()=>[a(c)]),_:1}),a(d,null,{default:r(()=>[u(p(o.$t("menu.corp")),1)]),_:1}),a(d,null,{default:r(()=>[u(p(o.$t("menu.corp.update")),1)]),_:1})]),_:1}),a(U,{loading:R(v),style:{width:"100%"}},{default:r(()=>[a(F,{class:"general-card",bordered:!1},{default:r(()=>[S("div",ae,[a(B,{ref_key:"formRef",ref:m,model:l.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:r(()=>[a(s,{field:"name",label:o.$t("corp.label.name"),rules:[{required:!0,message:o.$t("corp.error.name.required")},{match:/^.{1,100}$/,message:o.$t("corp.error.name.pattern")}]},{default:r(()=>[a(i,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),placeholder:o.$t("corp.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(s,{field:"code",label:o.$t("corp.label.code"),rules:[{required:!0,message:o.$t("corp.error.code.required")},{match:/^.{1,100}$/,message:o.$t("corp.error.code.pattern")}]},{default:r(()=>[a(i,{modelValue:l.value.code,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.code=t),placeholder:o.$t("corp.placeholder.code"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(s,{field:"sort",label:o.$t("corp.label.sort")},{default:r(()=>[a(h,{modelValue:l.value.sort,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.sort=t),placeholder:o.$t("corp.placeholder.sort"),precision:0,min:-10,max:999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(s,{field:"is_public",label:o.$t("corp.label.is_public")},{default:r(()=>[a(C,{modelValue:l.value.is_public,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.is_public=t)},null,8,["modelValue"])]),_:1},8,["label"]),a(s,{field:"remark",label:o.$t("corp.label.remark")},{default:r(()=>[a(k,{modelValue:l.value.remark,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.remark=t),placeholder:o.$t("corp.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(s,null,{default:r(()=>[a(w,null,{default:r(()=>[a(_,{type:"secondary",onClick:e[5]||(e[5]=t=>o.$router.push({name:"CorpList"}))},{default:r(()=>[u(p(o.$t("corp.button.cancel")),1)]),_:1}),a(_,{type:"primary",onClick:y},{default:r(()=>[u(p(o.$t("corp.button.submit")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const $e=q(le,[["__scopeId","data-v-f86be993"]]);export{$e as default};
