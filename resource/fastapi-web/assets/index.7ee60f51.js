import{_ as w,E as Q}from"./index.14c9197f.js";/* empty css               *//* empty css                */import{d as A,e as F,B as _,aD as g,aG as l,aH as e,aL as n,aM as y,bB as B,bC as D,b2 as E,b1 as j,bK as J,aU as S,b5 as R,aE as C,C as M,aJ as P,aI as X,bX as G,bi as L,aS as H,aT as Z,bz as W,F as Y,bs as x,u as ee,aK as le,aF as ae,bL as oe,bM as te,bJ as ue,bN as de}from"./arco.aed15247.js";import{u as U}from"./loading.b5911e1d.js";import{d as N,e as re}from"./model.7cf95b1b.js";/* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               */import{h as T}from"./vue.0cc5b64a.js";/* empty css               *//* empty css                */import{e as ne}from"./agent.df67de10.js";/* empty css               */import"./chart.9aa6eafa.js";import"./base.87fcf6e2.js";const se=A({__name:"base-info",emits:["changeStep"],setup($,{emit:v}){const{setLoading:c}=U(!0),m=T(),b=F(),d=F({id:"",corp:"",name:"",model:"",type:"",remark:"",prompt:"",status:1});(async(r={id:m.query.id})=>{c(!0);try{const{data:u}=await N(r);d.value.id=u.id,d.value.corp=u.corp,d.value.name=u.name,d.value.model=u.model,d.value.type=String(u.type),d.value.remark=u.remark,d.value.prompt=u.prompt,d.value.status=u.status}catch{}finally{c(!1)}})();const a=async()=>{var u;await((u=b.value)==null?void 0:u.validate())||v("changeStep","forward",{...d.value})};return(r,u)=>{const i=B,t=D,o=E,V=j,h=J,f=S,k=R;return _(),g(k,{ref_key:"formRef",ref:b,model:d.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:l(()=>[e(o,{field:"corp",label:r.$t("model.label.corp"),rules:[{required:!0,message:r.$t("model.error.corp.required")}]},{default:l(()=>[e(t,{modelValue:d.value.corp,"onUpdate:modelValue":u[0]||(u[0]=p=>d.value.corp=p),placeholder:r.$t("model.placeholder.corp")},{default:l(()=>[e(i,{value:"OpenAI"},{default:l(()=>[n("OpenAI")]),_:1}),e(i,{value:"Baidu"},{default:l(()=>[n("\u767E\u5EA6")]),_:1}),e(i,{value:"Xfyun"},{default:l(()=>[n("\u79D1\u5927\u8BAF\u98DE")]),_:1}),e(i,{value:"Aliyun"},{default:l(()=>[n("\u963F\u91CC\u4E91")]),_:1}),e(i,{value:"ZhipuAI"},{default:l(()=>[n("\u667A\u8C31AI")]),_:1}),e(i,{value:"Midjourney"},{default:l(()=>[n("Midjourney")]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(o,{field:"name",label:r.$t("model.label.name"),rules:[{required:!0,message:r.$t("model.error.name.required")}]},{default:l(()=>[e(V,{modelValue:d.value.name,"onUpdate:modelValue":u[1]||(u[1]=p=>d.value.name=p),placeholder:r.$t("model.placeholder.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(o,{field:"model",label:r.$t("model.label.model"),rules:[{required:!0,message:r.$t("model.error.model.required")},{message:r.$t("model.error.model.pattern")}]},{default:l(()=>[e(V,{modelValue:d.value.model,"onUpdate:modelValue":u[2]||(u[2]=p=>d.value.model=p),placeholder:r.$t("model.placeholder.model")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(o,{field:"type",label:r.$t("model.label.type"),rules:[{required:!0,message:r.$t("model.error.type.required")}]},{default:l(()=>[e(t,{modelValue:d.value.type,"onUpdate:modelValue":u[3]||(u[3]=p=>d.value.type=p),placeholder:r.$t("model.placeholder.type")},{default:l(()=>[e(i,{value:"1"},{default:l(()=>[n("\u6587\u751F\u6587")]),_:1}),e(i,{value:"2"},{default:l(()=>[n("\u6587\u751F\u56FE")]),_:1}),e(i,{value:"3"},{default:l(()=>[n("\u56FE\u751F\u6587")]),_:1}),e(i,{value:"4"},{default:l(()=>[n("\u56FE\u751F\u56FE")]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(o,{field:"prompt",label:r.$t("model.label.prompt")},{default:l(()=>[e(h,{modelValue:d.value.prompt,"onUpdate:modelValue":u[4]||(u[4]=p=>d.value.prompt=p),placeholder:r.$t("model.placeholder.prompt")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(o,{field:"remark",label:r.$t("model.label.remark")},{default:l(()=>[e(h,{modelValue:d.value.remark,"onUpdate:modelValue":u[5]||(u[5]=p=>d.value.remark=p),placeholder:r.$t("model.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(o,null,{default:l(()=>[e(f,{type:"primary",onClick:a},{default:l(()=>[n(y(r.$t("model.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const me=w(se,[["__scopeId","data-v-d4785249"]]),ie=A({__name:"advanced",emits:["changeStep"],setup($,{emit:v}){const{setLoading:c}=U(!0),m=T(),b=F([]);(async()=>{c(!0);try{const{data:t}=await ne();b.value=t.items}catch{}finally{c(!1)}})();const q=F(),a=F({billing_method:"1",prompt_ratio:1,completion_ratio:1,fixed_quota:1,data_format:"",is_enable_model_agent:!1,model_agents:[],is_public:!0});(async(t={id:m.query.id})=>{c(!0);try{const{data:o}=await N(t);a.value.billing_method=String(o.billing_method),a.value.prompt_ratio=o.prompt_ratio,a.value.completion_ratio=o.completion_ratio,a.value.fixed_quota=o.fixed_quota,a.value.data_format=String(o.data_format),a.value.is_enable_model_agent=o.is_enable_model_agent,a.value.model_agents=o.model_agents,a.value.is_public=o.is_public}catch{}finally{c(!1)}})();const u=async()=>{var o;await((o=q.value)==null?void 0:o.validate())||v("changeStep","submit",{...a.value})},i=()=>{v("changeStep","backward")};return(t,o)=>{const V=G,h=L,f=E,k=H,p=Z,z=B,K=D,I=S,O=R;return _(),g(O,{ref_key:"formRef",ref:q,model:a.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:l(()=>[e(f,{field:"billing_method",label:t.$t("model.label.billingMethod"),rules:[{required:!0,message:t.$t("model.error.billingMethod.required")}]},{default:l(()=>[e(h,{size:"large"},{default:l(()=>[e(V,{modelValue:a.value.billing_method,"onUpdate:modelValue":o[0]||(o[0]=s=>a.value.billing_method=s),value:"1"},{default:l(()=>[n("\u500D\u7387")]),_:1},8,["modelValue"]),e(V,{modelValue:a.value.billing_method,"onUpdate:modelValue":o[1]||(o[1]=s=>a.value.billing_method=s),value:"2"},{default:l(()=>[n("\u56FA\u5B9A\u989D\u5EA6")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),a.value.billing_method==="1"?(_(),g(f,{key:0,field:"prompt_ratio",label:t.$t("model.label.promptRatio"),rules:[{required:!0,message:t.$t("model.error.promptRatio.required")}]},{default:l(()=>[e(k,{modelValue:a.value.prompt_ratio,"onUpdate:modelValue":o[2]||(o[2]=s=>a.value.prompt_ratio=s),min:.001,placeholder:t.$t("model.placeholder.promptRatio")},null,8,["modelValue","min","placeholder"])]),_:1},8,["label","rules"])):C("",!0),a.value.billing_method==="1"?(_(),g(f,{key:1,field:"completion_ratio",label:t.$t("model.label.completionRatio"),rules:[{required:!0,message:t.$t("model.error.completionRatio.required")}]},{default:l(()=>[e(k,{modelValue:a.value.completion_ratio,"onUpdate:modelValue":o[3]||(o[3]=s=>a.value.completion_ratio=s),min:.001,placeholder:t.$t("model.placeholder.completionRatio")},null,8,["modelValue","min","placeholder"])]),_:1},8,["label","rules"])):C("",!0),a.value.billing_method==="2"?(_(),g(f,{key:2,field:"fixed_quota",label:t.$t("model.label.fixedQuota"),rules:[{required:!0,message:t.$t("model.error.fixedQuota.required")}]},{default:l(()=>[e(k,{modelValue:a.value.fixed_quota,"onUpdate:modelValue":o[4]||(o[4]=s=>a.value.fixed_quota=s),min:0,max:9999999999999,placeholder:t.$t("model.placeholder.fixedQuota")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):C("",!0),e(f,{field:"data_format",label:t.$t("model.label.dataFormat"),rules:[{required:!0,message:t.$t("model.error.dataFormat.required")}]},{default:l(()=>[e(h,{size:"large"},{default:l(()=>[e(V,{modelValue:a.value.data_format,"onUpdate:modelValue":o[5]||(o[5]=s=>a.value.data_format=s),value:"1"},{default:l(()=>[n("\u7EDF\u4E00\u683C\u5F0F")]),_:1},8,["modelValue"]),e(V,{modelValue:a.value.data_format,"onUpdate:modelValue":o[6]||(o[6]=s=>a.value.data_format=s),value:"2"},{default:l(()=>[n("\u5B98\u65B9\u683C\u5F0F")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),e(f,{field:"is_public",label:t.$t("model.label.isPublic"),rules:[{required:!0}]},{default:l(()=>[e(p,{modelValue:a.value.is_public,"onUpdate:modelValue":o[7]||(o[7]=s=>a.value.is_public=s)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{field:"is_enable_model_agent",label:t.$t("model.label.isEnableModelAgent")},{default:l(()=>[e(p,{modelValue:a.value.is_enable_model_agent,"onUpdate:modelValue":o[8]||(o[8]=s=>a.value.is_enable_model_agent=s)},null,8,["modelValue"])]),_:1},8,["label"]),a.value.is_enable_model_agent?(_(),g(f,{key:3,field:"model_agents",label:t.$t("model.label.modelAgents"),rules:[{required:!0,message:t.$t("model.error.modelAgents.required")}]},{default:l(()=>[e(K,{modelValue:a.value.model_agents,"onUpdate:modelValue":o[9]||(o[9]=s=>a.value.model_agents=s),placeholder:t.$t("model.placeholder.modelAgents"),"max-tag-count":3,multiple:"","allow-clear":""},{default:l(()=>[(_(!0),M(P,null,X(b.value,s=>(_(),g(z,{key:s.id,value:s.id,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):C("",!0),e(f,null,{default:l(()=>[e(h,null,{default:l(()=>[e(I,{type:"secondary",onClick:i},{default:l(()=>[n(y(t.$t("model.button.prev")),1)]),_:1}),e(I,{type:"primary",onClick:u},{default:l(()=>[n(y(t.$t("model.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const pe=w(ie,[["__scopeId","data-v-1c818c0a"]]);const _e={},fe={class:"success-wrap"};function ce($,v){const c=W,m=S,b=L;return _(),M("div",fe,[e(c,{status:"success",title:$.$t("model.success.title"),subtitle:$.$t("model.success.update.subTitle")},null,8,["title","subtitle"]),e(b,{size:16},{default:l(()=>[e(m,{key:"finish",type:"secondary",onClick:v[0]||(v[0]=d=>$.$router.push({name:"ModelList"}))},{default:l(()=>[n(y($.$t("model.button.return")),1)]),_:1}),e(m,{key:"again",type:"primary",onClick:v[1]||(v[1]=d=>$.$router.push({name:"ModelDetail",query:{id:`${$.$route.query.id}`}}))},{default:l(()=>[n(y($.$t("model.button.view")),1)]),_:1})]),_:1})])}const be=w(_e,[["render",ce],["__scopeId","data-v-829f16db"]]),ve={class:"container"},ge={class:"wrapper"},ye={name:"ModelUpdate"},$e=A({...ye,setup($){const{loading:v,setLoading:c}=U(!1),m=F(1),b=F({}),d=async()=>{c(!0);try{await re(b.value),m.value=3,b.value={}}catch{}finally{c(!1)}},q=(a,r)=>{if(typeof a=="number"){m.value=a;return}if(a==="forward"||a==="submit"){if(b.value={...b.value,...r},a==="submit"){d();return}m.value+=1}else a==="backward"&&(m.value-=1)};return(a,r)=>{const u=Q,i=le,t=ae,o=oe,V=te,h=ue,f=de;return _(),M("div",ve,[e(t,{class:"container-breadcrumb"},{default:l(()=>[e(i,null,{default:l(()=>[e(u)]),_:1}),e(i,null,{default:l(()=>[n(y(a.$t("menu.model")),1)]),_:1}),e(i,null,{default:l(()=>[n(y(a.$t("menu.model.update")),1)]),_:1})]),_:1}),e(f,{loading:ee(v),style:{width:"100%"}},{default:l(()=>[e(h,{class:"general-card",bordered:!1},{title:l(()=>[n(y(a.$t("model.title.update")),1)]),default:l(()=>[Y("div",ge,[e(V,{current:m.value,"onUpdate:current":r[0]||(r[0]=k=>m.value=k),style:{width:"660px"},"line-less":"",class:"steps"},{default:l(()=>[e(o,{description:a.$t("model.subTitle.baseInfo")},{default:l(()=>[n(y(a.$t("model.title.baseInfo")),1)]),_:1},8,["description"]),e(o,{description:a.$t("model.subTitle.advanced")},{default:l(()=>[n(y(a.$t("model.title.advanced")),1)]),_:1},8,["description"]),e(o,{description:a.$t("model.subTitle.update.finish")},{default:l(()=>[n(y(a.$t("model.title.update.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(_(),g(x,null,[m.value===1?(_(),g(me,{key:0,onChangeStep:q})):m.value===2?(_(),g(pe,{key:1,onChangeStep:q})):m.value===3?(_(),g(be,{key:2,onChangeStep:q})):C("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const ze=w($e,[["__scopeId","data-v-b52a59e3"]]);export{ze as default};
