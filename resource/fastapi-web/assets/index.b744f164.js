import{u as pt,F as ft,p as vt,y as yt,i as kt,z as ht,_ as bt}from"./index.d6462cde.js";/* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{d as gt,r as ze,e as b,c as re,w as Me,bq as wt,b as Ft,bS as $t,B as a,C as r,aH as t,aG as e,aL as i,aM as n,bu as k,aD as u,aJ as z,aI as M,u as m,F as B,D as Et,aE as Dt,bT as Ne,n as Ct,g as Bt,aK as Vt,aF as xt,bA as At,bB as qt,b2 as It,bC as St,b1 as Ut,aS as Lt,bU as zt,bD as Mt,b5 as Nt,bE as Pt,ab as Tt,aU as Rt,bi as Ot,bj as Ht,bl as Yt,bm as jt,b4 as Jt,bF as Gt,bM as Kt,bH as Qt,bJ as Wt,bK as Xt,ad as Zt,bL as ea,bN as ta,ba as aa,b6 as la,aV as oa,a_ as ua,bI as na}from"./arco.54c7388d.js";import{u as sa}from"./loading.7321a6c2.js";import{q as ia}from"./common.df364eef.js";import{V as Pe,q as da,a as ra,c as _a,s as ma,b as ca}from"./styles.930a96fe.js";import{g as pa}from"./app.79615dea.js";import{b as fa}from"./dashboard.e2cfe161.js";import{c as _e,S as va}from"./sortable.esm.777e758f.js";import{q as ya}from"./model.e72c4173.js";import{f as ka}from"./agent.885aff6b.js";import{u as ha}from"./vue.aa90ed69.js";import"./chart.f14251fc.js";import"./base.87fcf6e2.js";const ba={class:"container"},ga={class:"action-icon"},wa={class:"action-icon"},Fa={id:"tableSetting"},$a={style:{"margin-right":"4px",cursor:"move"}},Ea={class:"title"},Da={style:{margin:"10px 0 30px 10px"}},Ca={key:1},Ba={key:1},Va={key:1},xa={key:1},Aa={key:1},qa={key:1},Ia={key:1},Sa={key:1},Ua={key:1},La={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},za={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ma={key:1},Na={key:1},Pa={key:1},Ta={key:1},Ra={key:1},Oa={key:1},Ha={key:1},Ya={key:1},ja={key:1},Ja={key:1},Ga={key:1},Ka={key:1},Qa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Wa={key:1},Xa={key:1},Za={key:1},el={key:1},tl={key:1},al={key:1},ll={key:1},ol={key:1},ul={key:1},nl={key:1},sl={key:1},il={key:1},dl={key:1},rl={key:1},_l={key:1},ml={key:1},cl={key:1},pl={key:1},fl={key:1},vl={key:1},yl={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},kl={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},hl={key:1},bl={key:1},gl={key:1},wl={key:1},Fl={key:1},$l={key:1},El={key:1},Dl={key:1},Cl={key:1},Bl={key:1},Vl={key:1},xl={key:1},Al={key:1},ql={key:1},Il={key:1},Sl={key:1},Ul={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ll={key:1},zl={key:1},Ml={name:"ChatList"},Nl=gt({...Ml,setup(Pl){const V=localStorage.getItem("userRole"),Te=ze({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),me=b([]);V==="user"&&(async()=>{try{const{data:s}=await pa();me.value=s.items}catch{}})();const Z=b([]);(async()=>{try{const{data:s}=await ya();Z.value=s.items}catch{}})();const ce=b([]);V==="admin"&&(async()=>{try{const{data:s}=await ka();ce.value=s.items}catch{}})();const pe=()=>({app_id:b(),trace_id:b(),user_id:b(),key:"",models:[],model_agents:[],total_time:b(),status:b(),req_time:[Ne().format("YYYY-MM-DD 00:00:00"),Ne().format("YYYY-MM-DD 23:59:59")]}),{loading:c,setLoading:S}=sa(!0),{t:g}=pt(),fe=b([]),h=b(pe()),x=b([]),Y=b([]),ee=b("medium"),A=b([]),Re=b(!0),te=b(),U={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},j=ze({...U}),Oe=re(()=>[{name:g("size.mini"),value:"mini"},{name:g("size.small"),value:"small"},{name:g("size.medium"),value:"medium"},{name:g("size.large"),value:"large"}]),ve=re(()=>[{title:g(V==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:V==="admin"?"user_id":"app_id",slotName:V==="admin"?"user_id":"app_id",align:"center",width:75},{title:g("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:g("chat.columns.prompt_tokens"),dataIndex:"prompt_tokens",slotName:"prompt_tokens",align:"center",width:75},{title:g("chat.columns.completion_tokens"),dataIndex:"completion_tokens",slotName:"completion_tokens",align:"center",width:75},{title:g("chat.columns.total_price"),dataIndex:"total_tokens",slotName:"total_tokens",align:"center"},{title:g("chat.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center",width:60},{title:g("chat.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:g("chat.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:g("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:g("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:g("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:g("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:g("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);V==="user"&&ve.value.splice(9,1);const ae=re(()=>[{label:g("chat.dict.status.1"),value:1},{label:g("chat.dict.status.2"),value:2},{label:g("chat.dict.status.-1"),value:-1}]);V==="admin"&&ae.value.push({label:g("chat.dict.status.3"),value:3},{label:g("chat.dict.status.-100"),value:-100});const J=async(s={...U,...h.value})=>{S(!0);try{const{data:d}=await da(s);fe.value=d.items,j.current=s.current,j.pageSize=s.pageSize,j.total=d.paging.total}catch{}finally{S(!1)}},le=()=>{J({...U,...h.value})},He=s=>{J({...U,...h.value,current:s})},Ye=s=>{U.pageSize=s,J({...U,...h.value})};J();const je=()=>{h.value=pe()},Je=(s,d)=>{ee.value=s},Ge=(s,d,F)=>{s?x.value.splice(F,0,d):x.value=Y.value.filter(D=>D.dataIndex!==d.dataIndex)},ye=(s,d,F,D=!1)=>{const E=D?_e(s):s;return d>-1&&F>-1&&E.splice(d,1,E.splice(F,1,E[d]).pop()),E},Ke=s=>{s&&Ct(()=>{const d=document.getElementById("tableSetting");new va(d,{onEnd(F){const{oldIndex:D,newIndex:E}=F;ye(x.value,D,E),ye(Y.value,D,E)}})})};Me(()=>ve.value,s=>{x.value=_e(s),x.value.forEach((d,F)=>{d.checked=!0}),Y.value=_e(x.value)},{deep:!0,immediate:!0});const oe=b(!1),{copy:ke,copied:he}=ha(),{proxy:N}=Bt(),o=b({}),Qe=async s=>{oe.value=!0,c.value=!0;try{const{data:d}=await ra({id:s});o.value=d}catch{}finally{c.value=!1}},We=()=>{oe.value=!1},be=s=>{ke(s)};Me(he,()=>{he.value&&N.$message.success("\u590D\u5236\u6210\u529F")});const ue=async(s,d)=>{const{data:F}=await _a({id:s,field:d});ke(F.value)},ge=b(0),we=b(0),Fe=async(s={...h.value})=>{const{data:d}=await fa(s);ge.value=d.rpm,we.value=d.tpm};Fe();let $e;const Ee=()=>{clearInterval($e)},De=()=>{$e=setInterval(Fe,3e3)},Ce=()=>{document.visibilityState==="hidden"?Ee():De()};wt(()=>{De(),document.addEventListener("visibilitychange",Ce)}),Ft(()=>{Ee(),document.removeEventListener("visibilitychange",Ce)});const Be=b(),P=b(!1),q=b({}),Xe=async s=>{var F;if(await((F=Be.value)==null?void 0:F.validate())){P.value=!0,s(!1);return}s(),Ve({req_time:q.value.req_time,user_id:q.value.user_id})},Ze=()=>{P.value=!1},Ve=s=>{if(A.value.length===0&&!s.req_time){P.value=!0;return}S(!0),s.ids=A.value,ma(s).then(d=>{S(!1),N.$message.success("\u5BFC\u51FA\u6210\u529F"),te.value.selectAll(!1);const F=new Blob([d.data],{type:"application/vnd.ms-excel"}),D=window.URL.createObjectURL(F),E=document.createElement("a");E.href=D,E.setAttribute("download","\u804A\u5929\u65E5\u5FD7.xlsx"),document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(D)}).catch(d=>{N.$message.error("\u5BFC\u51FA\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",d)})},xe=b(),T=b(!1),I=b({}),et=async s=>{var F;if(await((F=xe.value)==null?void 0:F.validate())){T.value=!0,s(!1);return}s(),Ae({action:"time",value:I.value.value,user_id:I.value.user_id})},tt=()=>{T.value=!1},at=s=>{A.value=s,Re.value=!s.length},Ae=s=>{if(A.value.length===0&&!s.value)T.value=!0;else{let d=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${A.value.length}\u6761\u6570\u636E?`;switch(s.action){case"delete":d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${A.value.length}\u6761\u6570\u636E?`;break;case"time":s.user_id?d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u7528\u6237ID: ${s.user_id} \u8BF7\u6C42\u65F6\u95F4: ${s.value[0]} \u81F3 ${s.value[1]} \u7684\u6570\u636E?`:d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u8BF7\u6C42\u65F6\u95F4: ${s.value[0]} \u81F3 ${s.value[1]} \u7684\u6570\u636E?`;break}N.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:d,hideCancel:!1,onOk:()=>{S(!0),s.ids=A.value,ca(s).then(F=>{S(!1),N.$message.success("\u64CD\u4F5C\u6210\u529F, \u4EFB\u52A1\u5DF2\u63D0\u4EA4"),le(),te.value.selectAll(!1)})}})}};return(s,d)=>{const F=ft,D=Vt,E=xt,G=At,L=qt,$=It,w=St,ne=Ut,R=Lt,K=zt,Q=Mt,se=Nt,qe=Pt,lt=Tt,O=Rt,Ie=vt,W=Ot,ie=Ht,ot=yt,ut=Yt,nt=jt,st=kt,it=ht,dt=Jt,rt=Gt,_=Kt,_t=Qt,p=Wt,f=Xt,H=Zt,v=ea,X=ta,Se=aa,Ue=la,mt=oa,Le=ua,ct=na,y=$t("permission");return a(),r("div",ba,[t(E,{class:"container-breadcrumb"},{default:e(()=>[t(D,null,{default:e(()=>[t(F)]),_:1}),t(D,null,{default:e(()=>[i(n(s.$t("menu.chat")),1)]),_:1}),t(D,null,{default:e(()=>[i(n(s.$t("menu.chat.list")),1)]),_:1})]),_:1}),t(ct,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[t(Q,null,{default:e(()=>[t(w,{flex:1},{default:e(()=>[t(se,{model:h.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[k((a(),u(Q,{gutter:16},{default:e(()=>[t(w,{span:8},{default:e(()=>[t($,{field:"app_id",label:s.$t("chat.form.app_id")},{default:e(()=>[t(L,{modelValue:h.value.app_id,"onUpdate:modelValue":d[0]||(d[0]=l=>h.value.app_id=l),placeholder:s.$t("chat.form.selectDefault"),"allow-search":"","allow-clear":""},{default:e(()=>[(a(!0),r(z,null,M(me.value,l=>(a(),u(G,{key:l.app_id,value:l.app_id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:8},{default:e(()=>[t($,{field:"key",label:s.$t("chat.form.key")},{default:e(()=>[t(ne,{modelValue:h.value.key,"onUpdate:modelValue":d[1]||(d[1]=l=>h.value.key=l),placeholder:s.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:8},{default:e(()=>[t($,{field:"total_time",label:s.$t("chat.form.total_time")},{default:e(()=>[t(R,{modelValue:h.value.total_time,"onUpdate:modelValue":d[2]||(d[2]=l=>h.value.total_time=l),precision:0,min:1,placeholder:s.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:8},{default:e(()=>[t($,{field:"models",label:s.$t("chat.form.models")},{default:e(()=>[t(L,{modelValue:h.value.models,"onUpdate:modelValue":d[3]||(d[3]=l=>h.value.models=l),placeholder:s.$t("chat.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(a(!0),r(z,null,M(Z.value,l=>(a(),u(G,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:8},{default:e(()=>[t($,{field:"status",label:s.$t("chat.form.status")},{default:e(()=>[t(L,{modelValue:h.value.status,"onUpdate:modelValue":d[4]||(d[4]=l=>h.value.status=l),options:m(ae),placeholder:s.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:8},{default:e(()=>[t($,{field:"req_time",label:s.$t("chat.form.req_time")},{default:e(()=>[t(K,{modelValue:h.value.req_time,"onUpdate:modelValue":d[5]||(d[5]=l=>h.value.req_time=l),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[y,["user"]]]),k((a(),u(Q,{gutter:16},{default:e(()=>[t(w,{span:6},{default:e(()=>[t($,{field:"trace_id",label:s.$t("chat.form.trace_id"),"label-col-props":{span:6}},{default:e(()=>[t(ne,{modelValue:h.value.trace_id,"onUpdate:modelValue":d[6]||(d[6]=l=>h.value.trace_id=l),placeholder:s.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:5},{default:e(()=>[t($,{field:"models",label:s.$t("chat.form.models"),"label-col-props":{span:6}},{default:e(()=>[t(L,{modelValue:h.value.models,"onUpdate:modelValue":d[7]||(d[7]=l=>h.value.models=l),placeholder:s.$t("chat.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(a(!0),r(z,null,M(Z.value,l=>(a(),u(G,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:5},{default:e(()=>[t($,{field:"key",label:s.$t("chat.form.key"),"label-col-props":{span:6}},{default:e(()=>[t(ne,{modelValue:h.value.key,"onUpdate:modelValue":d[8]||(d[8]=l=>h.value.key=l),placeholder:s.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:8},{default:e(()=>[t($,{field:"total_time",label:s.$t("chat.form.total_time")},{default:e(()=>[t(R,{modelValue:h.value.total_time,"onUpdate:modelValue":d[9]||(d[9]=l=>h.value.total_time=l),precision:0,min:1,placeholder:s.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:6},{default:e(()=>[t($,{field:"user_id",label:s.$t("chat.form.user_id"),"label-col-props":{span:6}},{default:e(()=>[t(R,{modelValue:h.value.user_id,"onUpdate:modelValue":d[10]||(d[10]=l=>h.value.user_id=l),placeholder:s.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:5},{default:e(()=>[t($,{field:"model_agents",label:s.$t("key.form.modelAgents"),"label-col-props":{span:6}},{default:e(()=>[t(L,{modelValue:h.value.model_agents,"onUpdate:modelValue":d[11]||(d[11]=l=>h.value.model_agents=l),placeholder:s.$t("key.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(a(!0),r(z,null,M(ce.value,l=>(a(),u(G,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:5},{default:e(()=>[t($,{field:"status",label:s.$t("chat.form.status"),"label-col-props":{span:6}},{default:e(()=>[t(L,{modelValue:h.value.status,"onUpdate:modelValue":d[12]||(d[12]=l=>h.value.status=l),options:m(ae),placeholder:s.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),t(w,{span:8},{default:e(()=>[t($,{field:"req_time",label:s.$t("chat.form.req_time")},{default:e(()=>[t(K,{modelValue:h.value.req_time,"onUpdate:modelValue":d[13]||(d[13]=l=>h.value.req_time=l),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[y,["admin"]]])]),_:1},8,["model"])]),_:1}),t(qe,{style:{height:"84px"},direction:"vertical"}),t(w,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[t(W,{direction:"vertical",size:18},{default:e(()=>[t(O,{type:"primary",onClick:le},{icon:e(()=>[t(lt)]),default:e(()=>[i(" "+n(s.$t("chat.form.search")),1)]),_:1}),t(O,{onClick:je},{icon:e(()=>[t(Ie)]),default:e(()=>[i(" "+n(s.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(qe,{style:{"margin-top":"0","margin-bottom":"16px"}}),t(Q,{style:{"margin-bottom":"16px","align-items":"center"}},{default:e(()=>[t(w,{span:4},{default:e(()=>[t(W,null,{default:e(()=>[t(O,{type:"primary",onClick:d[14]||(d[14]=l=>Ve({}))},{default:e(()=>[i(" \u5BFC\u51FA ")]),_:1}),k((a(),u(O,{type:"primary",status:"danger",onClick:d[15]||(d[15]=l=>Ae({action:"delete"}))},{default:e(()=>[i(" \u5220\u9664 ")]),_:1})),[[y,["admin"]]])]),_:1})]),_:1}),t(w,{span:12},{default:e(()=>[i(" \u82B1\u8D39 = ( \u63D0\u95EE \xD7 \u63D0\u95EE\u500D\u7387 + \u56DE\u7B54 \xD7 \u56DE\u7B54\u500D\u7387 ) \xF7 500000 \xA0\xA0\u6216\xA0\xA0 \u56DE\u7B54 \xF7 500000 ")]),_:1}),t(w,{span:3},{default:e(()=>[i(" RPM: \xA0"+n(ge.value.toLocaleString()),1)]),_:1}),t(w,{span:3},{default:e(()=>[i(" TPM: \xA0"+n(we.value.toLocaleString()),1)]),_:1}),t(w,{span:2,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[t(ie,{content:s.$t("actions.refresh")},{default:e(()=>[B("div",{class:"action-icon",onClick:le},[t(Ie,{size:"18"})])]),_:1},8,["content"]),t(nt,{onSelect:Je},{content:e(()=>[(a(!0),r(z,null,M(m(Oe),l=>(a(),u(ut,{key:l.value,value:l.value,class:Et({active:l.value===ee.value})},{default:e(()=>[B("span",null,n(l.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[t(ie,{content:s.$t("actions.density")},{default:e(()=>[B("div",ga,[t(ot,{size:"18"})])]),_:1},8,["content"])]),_:1}),t(ie,{content:s.$t("actions.column_setting")},{default:e(()=>[t(rt,{trigger:"click",position:"bl",onPopupVisibleChange:Ke},{content:e(()=>[B("div",Fa,[(a(!0),r(z,null,M(Y.value,(l,C)=>(a(),r("div",{key:l.dataIndex,class:"setting"},[B("div",$a,[t(it)]),B("div",null,[t(dt,{modelValue:l.checked,"onUpdate:modelValue":de=>l.checked=de,onChange:de=>Ge(de,l,C)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),B("div",Ea,n(l.title==="#"?"\u5E8F\u5217\u53F7":l.title),1)]))),128))])]),default:e(()=>[B("div",wa,[t(st,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),t(_t,{ref_key:"tableRef",ref:te,"row-key":"id",loading:m(c),pagination:j,columns:x.value,data:fe.value,bordered:!1,size:ee.value,"row-selection":Te,onPageChange:He,onPageSizeChange:Ye,onSelectionChange:at},{user_id:e(({record:l})=>[i(n(l.is_smart_match?"-":l.user_id),1)]),prompt_tokens:e(({record:l})=>[i(n(l.prompt_tokens?l.prompt_tokens:l.status===1&&l.billing_method===2?0:"-"),1)]),completion_tokens:e(({record:l})=>[i(n(l.completion_tokens?l.completion_tokens:l.status===1&&l.billing_method===2?0:"-"),1)]),total_tokens:e(({record:l})=>[i(n(l.total_tokens?`$${m(ia)(l.total_tokens)}`:l.status===1&&l.billing_method===2?0:"-"),1)]),stream:e(({record:l})=>[i(n(s.$t(`chat.dict.stream.${l.stream||!1}`)),1)]),conn_time:e(({record:l})=>[l.conn_time>3e4?k((a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(l.conn_time),1)]),_:2},1024)),[[y,["user"]]]):l.conn_time>15e3?k((a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(l.conn_time),1)]),_:2},1024)),[[y,["user"]]]):l.conn_time>5e3?k((a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(l.conn_time),1)]),_:2},1024)),[[y,["user"]]]):k((a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(l.conn_time||"-"),1)]),_:2},1024)),[[y,["user"]]]),l.conn_time>1e4?k((a(),u(_,{key:4,color:"red"},{default:e(()=>[i(n(l.conn_time),1)]),_:2},1024)),[[y,["admin"]]]):l.conn_time>5e3?k((a(),u(_,{key:5,color:"orange"},{default:e(()=>[i(n(l.conn_time),1)]),_:2},1024)),[[y,["admin"]]]):l.conn_time>3e3?k((a(),u(_,{key:6,color:"gold"},{default:e(()=>[i(n(l.conn_time),1)]),_:2},1024)),[[y,["admin"]]]):k((a(),u(_,{key:7,color:"green"},{default:e(()=>[i(n(l.conn_time||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),duration:e(({record:l})=>[l.duration>18e4?k((a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(l.duration),1)]),_:2},1024)),[[y,["user"]]]):l.duration>12e4?k((a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(l.duration),1)]),_:2},1024)),[[y,["user"]]]):l.duration>9e4?k((a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(l.duration),1)]),_:2},1024)),[[y,["user"]]]):k((a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(l.duration||"-"),1)]),_:2},1024)),[[y,["user"]]]),l.duration>12e4?k((a(),u(_,{key:4,color:"red"},{default:e(()=>[i(n(l.duration),1)]),_:2},1024)),[[y,["admin"]]]):l.duration>9e4?k((a(),u(_,{key:5,color:"orange"},{default:e(()=>[i(n(l.duration),1)]),_:2},1024)),[[y,["admin"]]]):l.duration>6e4?k((a(),u(_,{key:6,color:"gold"},{default:e(()=>[i(n(l.duration),1)]),_:2},1024)),[[y,["admin"]]]):k((a(),u(_,{key:7,color:"green"},{default:e(()=>[i(n(l.duration||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),total_time:e(({record:l})=>[l.total_time>18e4?k((a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(l.total_time),1)]),_:2},1024)),[[y,["user"]]]):l.total_time>12e4?k((a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(l.total_time),1)]),_:2},1024)),[[y,["user"]]]):l.total_time>9e4?k((a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(l.total_time),1)]),_:2},1024)),[[y,["user"]]]):k((a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(l.total_time||"-"),1)]),_:2},1024)),[[y,["user"]]]),l.total_time>12e4?k((a(),u(_,{key:4,color:"red"},{default:e(()=>[i(n(l.total_time),1)]),_:2},1024)),[[y,["admin"]]]):l.total_time>9e4?k((a(),u(_,{key:5,color:"orange"},{default:e(()=>[i(n(l.total_time),1)]),_:2},1024)),[[y,["admin"]]]):l.total_time>6e4?k((a(),u(_,{key:6,color:"gold"},{default:e(()=>[i(n(l.total_time),1)]),_:2},1024)),[[y,["admin"]]]):k((a(),u(_,{key:7,color:"green"},{default:e(()=>[i(n(l.total_time||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),internal_time:e(({record:l})=>[l.internal_time>1e3?k((a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(l.internal_time),1)]),_:2},1024)),[[y,["user"]]]):l.internal_time>500?k((a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(l.internal_time),1)]),_:2},1024)),[[y,["user"]]]):l.internal_time>300?k((a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(l.internal_time),1)]),_:2},1024)),[[y,["user"]]]):k((a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(l.internal_time||"-"),1)]),_:2},1024)),[[y,["user"]]]),l.internal_time>500?k((a(),u(_,{key:4,color:"red"},{default:e(()=>[i(n(l.internal_time),1)]),_:2},1024)),[[y,["admin"]]]):l.internal_time>300?k((a(),u(_,{key:5,color:"orange"},{default:e(()=>[i(n(l.internal_time),1)]),_:2},1024)),[[y,["admin"]]]):l.internal_time>100?k((a(),u(_,{key:6,color:"gold"},{default:e(()=>[i(n(l.internal_time),1)]),_:2},1024)),[[y,["admin"]]]):k((a(),u(_,{key:7,color:"green"},{default:e(()=>[i(n(l.internal_time||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),status:e(({record:l})=>[l.status===-1?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.status}`)),1)]),_:2},1024)):l.status===2?(a(),u(_,{key:1,color:"gold"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.status}`)),1)]),_:2},1024)):l.status===3?(a(),u(_,{key:2,color:"orange"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.status}`)),1)]),_:2},1024)):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.status}`)),1)]),_:2},1024))]),operations:e(({record:l})=>[t(O,{type:"text",size:"small",onClick:C=>Qe(l.id)},{default:e(()=>[i(n(s.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),t(mt,{title:"\u65E5\u5FD7\u8BE6\u60C5",visible:oe.value,width:700,footer:!1,"unmount-on-close":"","render-to-body":"",onCancel:We},{default:e(()=>[B("div",Da,[k((a(),u(X,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[t(v,{label:"Trace ID",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ca,[i(n(o.value.trace_id)+" ",1),t(H,{class:"copy-btn",onClick:d[16]||(d[16]=l=>be(o.value.trace_id))})]))]),_:1}),t(v,{label:"Host",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ba,n(o.value.host||"-"),1))]),_:1}),t(v,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Va,[i(n(o.value.creator)+" ",1),t(H,{class:"copy-btn",onClick:d[17]||(d[17]=l=>ue(o.value.id,"creator"))})]))]),_:1}),t(v,{label:"\u7528\u6237ID"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",xa,n(o.value.user_id||"-"),1))]),_:1}),t(v,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",Aa,n(o.value.app_id||"-"),1))]),_:1}),t(v,{label:"\u516C\u53F8"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",qa,n(o.value.corp_name),1))]),_:1}),t(v,{label:"\u6A21\u578B"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ia,n(o.value.model||"-"),1))]),_:1}),t(v,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Sa,n(s.$t(`dict.model_type.${o.value.type}`)),1))]),_:1}),t(v,{label:"\u6D41\u5F0F"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ua,n(s.$t(`chat.dict.stream.${o.value.stream||!1}`)),1))]),_:1}),t(v,{label:"\u63D0\u95EE",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",La,n(o.value.prompt||"-"),1))]),_:1}),t(v,{label:"\u56DE\u7B54"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",za,n(o.value.completion||"-"),1))]),_:1}),t(v,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ma,n(s.$t(`chat.dict.billing_method.${o.value.text_quota.billing_method}`)),1))]),_:1}),t(v,{label:"\u82B1\u8D39\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Na,n(o.value.total_tokens?o.value.total_tokens:o.value.status===1&&o.value.text_quota.billing_method===2?0:"-"),1))]),_:1}),t(v,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Pa,n(o.value.type!==100?o.value.text_quota.prompt_ratio||"-":o.value.multimodal_quota.text_quota.prompt_ratio||"-"),1))]),_:1}),t(v,{label:"\u56DE\u7B54\u500D\u7387",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ta,n(o.value.type!==100?o.value.text_quota.completion_ratio||"-":o.value.multimodal_quota.text_quota.completion_ratio||"-"),1))]),_:1}),t(v,{label:"\u63D0\u95EE\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ra,n(o.value.prompt_tokens||"-"),1))]),_:1}),t(v,{label:"\u56DE\u7B54\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Oa,n(o.value.completion_tokens||"-"),1))]),_:1}),t(v,{label:"\u8FDE\u63A5\u8017\u65F6",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ha,[o.value.conn_time>3e4?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>15e3?(a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>5e3?(a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(v,{label:"\u6301\u7EED\u65F6\u957F",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ya,[o.value.duration>18e4?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>12e4?(a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>9e4?(a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),t(v,{label:"\u603B\u8017\u65F6",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",ja,[o.value.total_time>18e4?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>12e4?(a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>9e4?(a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(v,{label:"\u7ED3\u679C",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ja,[o.value.status===1?(a(),u(_,{key:0,color:"green"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===2?(a(),u(_,{key:1,color:"gold"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===3?(a(),u(_,{key:2,color:"orange"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1})):(a(),u(_,{key:3,color:"red"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1}))]))]),_:1}),t(v,{label:"\u5BA2\u6237\u7AEFIP",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",Ga,n(o.value.client_ip||"-"),1))]),_:1}),t(v,{label:"\u8BF7\u6C42\u65F6\u95F4",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",Ka,n(o.value.req_time||"-"),1))]),_:1}),t(v,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Qa,n(o.value.err_msg||"-"),1))]),_:1})]),_:1})),[[y,["user"]]]),k((a(),u(X,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[t(v,{label:"Trace ID",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Wa,[i(n(o.value.trace_id)+" ",1),t(H,{class:"copy-btn",onClick:d[18]||(d[18]=l=>be(o.value.trace_id))})]))]),_:1}),t(v,{label:"Host"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Xa,n(o.value.host||"-"),1))]),_:1}),t(v,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Za,[i(n(o.value.is_smart_match?"-":o.value.creator)+" ",1),o.value.is_smart_match?Dt("",!0):(a(),u(H,{key:0,class:"copy-btn",onClick:d[19]||(d[19]=l=>ue(o.value.id,"creator"))}))]))]),_:1}),t(v,{label:"\u7528\u6237ID"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",el,n(o.value.is_smart_match?"-":o.value.user_id||"-"),1))]),_:1}),t(v,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",tl,n(o.value.is_smart_match?"-":o.value.app_id||"-"),1))]),_:1}),t(v,{label:"\u516C\u53F8"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",al,n(o.value.corp_name),1))]),_:1}),t(v,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",ll,n(s.$t(`dict.model_type.${o.value.type}`)),1))]),_:1}),t(v,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",ol,n(o.value.name||"-"),1))]),_:1}),t(v,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",ul,n(o.value.model||"-"),1))]),_:1}),t(v,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",nl,n(o.value.real_model_name),1))]),_:1}),t(v,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",sl,n(o.value.real_model),1))]),_:1}),t(v,{label:"\u6D41\u5F0F"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",il,n(s.$t(`chat.dict.stream.${o.value.stream||!1}`)),1))]),_:1}),t(v,{label:"\u542F\u7528\u540E\u5907"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",dl,n(s.$t(`chat.dict.is_enable_fallback.${o.value.is_enable_fallback||!1}`)),1))]),_:1}),t(v,{label:"\u540E\u5907\u4EE3\u7406"},{default:e(()=>{var l,C;return[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",rl,n(((C=(l=o.value)==null?void 0:l.fallback_config)==null?void 0:C.model_agent_name)||"-"),1))]}),_:1}),t(v,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var l,C;return[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",_l,n(((C=(l=o.value)==null?void 0:l.fallback_config)==null?void 0:C.model)||"-"),1))]}),_:1}),t(v,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",ml,n(s.$t(`chat.dict.is_enable_forward.${o.value.is_enable_forward||!1}`)),1))]),_:1}),t(v,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",cl,n(o.value.is_enable_forward?s.$t(`chat.dict.forward_rule.${o.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),t(v,{label:"\u542F\u7528\u4EE3\u7406",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",pl,n(s.$t(`chat.dict.is_enable_model_agent.${o.value.is_enable_model_agent||!1}`)),1))]),_:1}),t(v,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var l,C;return[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",fl,n(((C=(l=o.value)==null?void 0:l.model_agent)==null?void 0:C.name)||"-"),1))]}),_:1}),t(v,{label:"\u5BC6\u94A5"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",vl,[i(n(o.value.key?o.value.key.length>0?o.value.key.substr(0,o.value.key.length/2>10?10:o.value.key.length/2)+"************************************"+o.value.key.substr(-(o.value.key.length/2>5?5:o.value.key.length/2)):o.value.key:"-")+" ",1),t(H,{class:"copy-btn",onClick:d[20]||(d[20]=l=>ue(o.value.id,"key"))})]))]),_:1}),t(v,{label:"\u63D0\u95EE",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",yl,n(o.value.prompt||"-"),1))]),_:1}),t(v,{label:"\u56DE\u7B54"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",kl,n(o.value.completion||"-"),1))]),_:1}),t(v,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",hl,n(s.$t(`chat.dict.billing_method.${o.value.text_quota.billing_method}`)),1))]),_:1}),t(v,{label:"\u82B1\u8D39\u4EE4\u724C\u6570"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",bl,n(o.value.total_tokens?o.value.total_tokens:o.value.status===1&&o.value.text_quota.billing_method===2?0:"-"),1))]),_:1}),t(v,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",gl,n(o.value.type!==100?o.value.text_quota.prompt_ratio||"-":o.value.multimodal_quota.text_quota.prompt_ratio||"-"),1))]),_:1}),t(v,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",wl,n(o.value.type!==100?o.value.text_quota.completion_ratio||"-":o.value.multimodal_quota.text_quota.completion_ratio||"-"),1))]),_:1}),t(v,{label:"\u63D0\u95EE\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Fl,n(o.value.prompt_tokens||"-"),1))]),_:1}),t(v,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",$l,n(o.value.completion_tokens||"-"),1))]),_:1}),t(v,{label:"\u8FDE\u63A5\u8017\u65F6",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",El,[o.value.conn_time>1e4?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>5e3?(a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):o.value.conn_time>3e3?(a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.conn_time)+" ms ",1)]),_:1})):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(v,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Dl,[o.value.duration>12e4?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>9e4?(a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):o.value.duration>6e4?(a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.duration)+" ms ",1)]),_:1})):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),t(v,{label:"\u603B\u8017\u65F6"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Cl,[o.value.total_time>12e4?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>9e4?(a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):o.value.total_time>6e4?(a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.total_time)+" ms ",1)]),_:1})):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(v,{label:"\u5185\u8017"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Bl,[o.value.internal_time>500?(a(),u(_,{key:0,color:"red"},{default:e(()=>[i(n(o.value.internal_time)+" ms ",1)]),_:1})):o.value.internal_time>300?(a(),u(_,{key:1,color:"orange"},{default:e(()=>[i(n(o.value.internal_time)+" ms ",1)]),_:1})):o.value.internal_time>100?(a(),u(_,{key:2,color:"gold"},{default:e(()=>[i(n(o.value.internal_time)+" ms ",1)]),_:1})):(a(),u(_,{key:3,color:"green"},{default:e(()=>[i(n(o.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),t(v,{label:"\u7ED3\u679C"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Vl,[o.value.status===1?(a(),u(_,{key:0,color:"green"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===2?(a(),u(_,{key:1,color:"gold"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1})):o.value.status===3?(a(),u(_,{key:2,color:"orange"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1})):(a(),u(_,{key:3,color:"red"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${o.value.status}`)),1)]),_:1}))]))]),_:1}),t(v,{label:"\u672C\u5730IP"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",xl,n(o.value.local_ip||"-"),1))]),_:1}),t(v,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",Al,n(o.value.client_ip||"-"),1))]),_:1}),t(v,{label:"\u8FDC\u7A0BIP",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",ql,n(o.value.remote_ip||"-"),1))]),_:1}),t(v,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",Il,n(o.value.req_time||"-"),1))]),_:1}),t(v,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{widths:["200px"],rows:1})]),_:1})):(a(),r("span",Sl,n(o.value.created_at||"-"),1))]),_:1}),t(v,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:1})]),_:1})):(a(),r("span",Ul,n(o.value.err_msg||"-"),1))]),_:1})]),_:1})),[[y,["admin"]]]),t(X,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[t(v,{span:2},{default:e(()=>[t(Ue,{type:"card"},{default:e(()=>[t(Se,{key:"1",title:"\u63D0\u95EE\u4E0A\u4E0B\u6587"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:3})]),_:1})):(a(),u(W,{key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},{default:e(()=>[o.value.messages?(a(),u(m(Pe),{key:0,path:"res",data:o.value.messages,"show-length":!0},null,8,["data"])):(a(),r("span",Ll,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),k((a(),u(X,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[t(v,{span:2},{default:e(()=>[t(Ue,{type:"card"},{default:e(()=>[t(Se,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[m(c)?(a(),u(f,{key:0,animation:!0},{default:e(()=>[t(p,{rows:3})]),_:1})):(a(),u(W,{key:1},{default:e(()=>[o.value.model_agent?(a(),u(m(Pe),{key:0,data:o.value.model_agent,"show-length":!0},null,8,["data"])):(a(),r("span",zl,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[y,["admin"]]])])]),_:1},8,["visible"]),t(Le,{visible:P.value,"onUpdate:visible":d[23]||(d[23]=l=>P.value=l),title:s.$t("chat.form.title.chat_export"),onCancel:Ze,onBeforeOk:Xe},{default:e(()=>[t(se,{ref_key:"chatExportForm",ref:Be,model:q.value},{default:e(()=>[t($,{field:"req_time",label:s.$t("chat.form.req_time"),rules:[{required:!0,message:s.$t("chat.error.req_time.required")}]},{default:e(()=>[t(K,{modelValue:q.value.req_time,"onUpdate:modelValue":d[21]||(d[21]=l=>q.value.req_time=l),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),k((a(),u($,{field:"user_id",label:s.$t("chat.form.user_id")},{default:e(()=>[t(R,{modelValue:q.value.user_id,"onUpdate:modelValue":d[22]||(d[22]=l=>q.value.user_id=l),placeholder:s.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])),[[y,["admin"]]])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(Le,{visible:T.value,"onUpdate:visible":d[26]||(d[26]=l=>T.value=l),title:s.$t("chat.form.title.chat_del"),onCancel:tt,onBeforeOk:et},{default:e(()=>[t(se,{ref_key:"chatDelForm",ref:xe,model:I.value},{default:e(()=>[t($,{field:"value",label:s.$t("chat.form.req_time"),rules:[{required:!0,message:s.$t("chat.error.req_time.required")}]},{default:e(()=>[t(K,{modelValue:I.value.value,"onUpdate:modelValue":d[24]||(d[24]=l=>I.value.value=l),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),t($,{field:"user_id",label:s.$t("chat.form.user_id")},{default:e(()=>[t(R,{modelValue:I.value.user_id,"onUpdate:modelValue":d[25]||(d[25]=l=>I.value.user_id=l),placeholder:s.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])]),_:1})])}}});const Co=bt(Nl,[["__scopeId","data-v-57315620"]]);export{Co as default};
