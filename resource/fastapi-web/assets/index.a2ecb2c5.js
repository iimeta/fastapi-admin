import{u as qe,k as oa,s as sa,A as na,B as ra,_ as ia}from"./index.15d033c0.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as we,e as y,B as s,C as f,aH as e,aG as a,u as o,aD as v,aM as r,aL as n,bA as da,bB as _a,bC as ca,bD as pa,bE as ma,r as ge,c as te,w as va,D as H,aJ as ye,aI as $e,E as fa,aE as he,n as ba,aW as ga,aK as ya,aF as $a,aS as ha,b2 as ka,bH as qa,b1 as wa,bG as Ca,bT as Va,bI as Da,b5 as Ea,bJ as xa,ab as Fa,aU as Ba,bi as Aa,bj as Ua,bk as Sa,bl as Ra,b4 as za,bK as Ia,bV as Ha,aT as Na,bM as La,aV as Ta,bQ as Pa,bU as Ma,a_ as Oa,bN as Ga,g as Qa}from"./arco.cbac690a.js";import{u as Ce}from"./loading.b56ef223.js";import{q as x,d as ke,a as E}from"./common.4090c8c2.js";import{a as ja,b as Ja,s as Ka,c as Wa,d as Xa,e as Ya,f as Za}from"./admin_reseller.4edfb3a4.js";import{c as ue,S as el}from"./sortable.esm.59243d4c.js";import{b as al}from"./model.9884c1b9.js";import{q as ll}from"./group.b193b4af.js";/* empty css                *//* empty css                */import"./chart.e521dee8.js";import"./vue.4014b72a.js";const tl={style:{margin:"10px 0 0 10px"}},ul={key:1},ol={key:1},sl={key:1},nl={key:1},rl={key:1},il={key:1},dl={key:1},_l={key:1},cl={key:1},pl={key:1},ml={key:1},vl={key:1},fl={key:1},bl={key:1},gl={key:1},yl={key:1},$l={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},hl={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},kl={key:1},ql={key:1},wl={key:1},Cl={key:1},Vl={key:1},Dl={key:1},El={name:"ResellerDetail"},xl=we({...El,props:{id:{type:String,default:""}},setup(oe){const K=oe,{t:i}=qe(),{loading:c,setLoading:w}=Ce(!0),_=y({});return(async($={id:K.id})=>{w(!0);try{const{data:k}=await ja($);_.value=k}catch{}finally{w(!1)}})(),($,k)=>{const p=da,m=_a,b=ca,D=pa,B=ma;return s(),f("div",tl,[e(B,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:a(()=>[e(b,{label:o(i)("common.reseller_id")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",ul,r(_.value.user_id),1))]),_:1},8,["label"]),e(b,{label:o(i)("common.account")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",ol,r(_.value.account),1))]),_:1},8,["label"]),e(b,{label:o(i)("common.name")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",sl,r(_.value.name),1))]),_:1},8,["label"]),e(b,{label:o(i)("common.email")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",nl,r(_.value.email),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.quota")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",rl,r(_.value.quota>0?`$${o(x)(_.value.quota)}`:_.value.quota<0?`-$${o(x)(-_.value.quota)}`:"$0.00"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.used_quota")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",il,r(_.value.used_quota>0?`$${o(x)(_.value.used_quota)}`:"$0.00"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.allocated_quota")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",dl,r(_.value.allocated_quota>0?`$${o(x)(_.value.allocated_quota)}`:"$0.00"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.to_be_allocated")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",_l,r(_.value.to_be_allocated>0?`$${o(x)(_.value.to_be_allocated)}`:"$0.00"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.quota_expires_at")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",cl,r(_.value.quota_expires_at||"-"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.quota_warning")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",pl,r($.$t(`operations.open.${_.value.quota_warning||_.value.warning_threshold===0&&_.value.expire_warning_threshold===0}`)),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.warning_threshold")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",ml," $"+r(_.value.warning_threshold||50),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.expire_warning_threshold")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",vl,r(_.value.expire_warning_threshold||3)+"\u5929 ",1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.warning_notice")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",fl,r($.$t(`dict.notice.${_.value.warning_notice||!1}`)),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.expire_warning_notice")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",bl,r($.$t(`dict.notice.${_.value.expire_warning_notice||!1}`)),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.exhaustion_notice")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",gl,r($.$t(`dict.notice.${_.value.exhaustion_notice||!1}`)),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.expire_notice")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",yl,r($.$t(`dict.notice.${_.value.expire_notice||!1}`)),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.groups"),span:2},{default:a(()=>{var S,R;return[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",$l,r(((R=(S=_.value)==null?void 0:S.group_names)==null?void 0:R.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:o(i)("common.remark"),span:2},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",hl,r(_.value.remark||"-"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.login_ip")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",kl,r(_.value.login_ip||"-"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.login_time")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",ql,r(_.value.login_time||"-"),1))]),_:1},8,["label"]),e(b,{label:o(i)("reseller.detail.label.login_domain")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",wl,r(_.value.login_domain||"-"),1))]),_:1},8,["label"]),e(b,{label:o(i)("common.status")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",Cl,[_.value.status===1?(s(),v(D,{key:0,color:"green"},{default:a(()=>[n(r($.$t(`dict.status.${_.value.status}`)),1)]),_:1})):(s(),v(D,{key:1,color:"red"},{default:a(()=>[n(r($.$t(`dict.status.${_.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(b,{label:o(i)("common.created_at")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",Vl,r(_.value.created_at),1))]),_:1},8,["label"]),e(b,{label:o(i)("common.updated_at")},{default:a(()=>[o(c)?(s(),v(m,{key:0,animation:!0},{default:a(()=>[e(p,{rows:1})]),_:1})):(s(),f("span",Dl,r(_.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),Fl={class:"container"},Bl={class:"action-icon"},Al={class:"action-icon"},Ul={id:"tableSetting"},Sl={style:{"margin-right":"4px",cursor:"move"}},Rl={class:"title"},zl={name:"ResellerList"},Il=we({...zl,setup(oe){const{loading:K,setLoading:i}=Ce(!0),{proxy:c}=Qa(),{t:w}=qe(),_=ge({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),W=()=>({user_id:y(),name:"",account:"",quota:y(),status:y(),quota_expires_at:[]}),$=y([]),k=y(W()),p=y([]),m=y([]),b=y("medium"),D=y([]),B=y(!0),S=y(),R={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},G=ge({...R}),Ve=te(()=>[{name:w("size.mini"),value:"mini"},{name:w("size.small"),value:"small"},{name:w("size.medium"),value:"medium"},{name:w("size.large"),value:"large"}]),De=te(()=>[{title:w("reseller.columns.userId"),dataIndex:"user_id",slotName:"user_id",align:"center",width:90},{title:w("reseller.columns.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:w("reseller.columns.account"),dataIndex:"account",slotName:"account",align:"center",ellipsis:!0,tooltip:!0},{title:w("reseller.columns.quota"),dataIndex:"quota",slotName:"quota",align:"center",ellipsis:!0,tooltip:!0},{title:w("reseller.columns.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:w("reseller.columns.allocated_quota"),dataIndex:"allocated_quota",slotName:"allocated_quota",align:"center",ellipsis:!0,tooltip:!0},{title:w("reseller.columns.to_be_allocated"),dataIndex:"to_be_allocated",slotName:"to_be_allocated",align:"center",ellipsis:!0,tooltip:!0},{title:w("reseller.columns.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:w("reseller.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:w("reseller.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:220}]),Ee=te(()=>[{label:w("reseller.dict.status.1"),value:1},{label:w("reseller.dict.status.2"),value:2}]),Q=async(l={...R})=>{i(!0);try{const{data:u}=await Ja(l);$.value=u.items,G.current=l.current,G.pageSize=l.pageSize,G.total=u.paging.total}catch{}finally{i(!1),S.value.selectAll(!1)}};Q();const N=()=>{Q({...R,...k.value})},xe=l=>{Q({...R,...k.value,current:l})},Fe=l=>{R.pageSize=l,Q({...R,...k.value})},Be=()=>{k.value=W(),N()},Ae=(l,u)=>{b.value=l},Ue=(l,u,g)=>{l?p.value.splice(g,0,u):p.value=m.value.filter(h=>h.dataIndex!==u.dataIndex)},se=(l,u,g,h=!1)=>{const I=h?ue(l):l;return u>-1&&g>-1&&I.splice(u,1,I.splice(g,1,I[u]).pop()),I},Se=l=>{l&&ba(()=>{const u=document.getElementById("tableSetting");new el(u,{onEnd(g){const{oldIndex:h,newIndex:I}=g;se(p.value,h,I),se(m.value,h,I)}})})};va(()=>De.value,l=>{p.value=ue(l),p.value.forEach((u,g)=>{u.checked=!0}),m.value=ue(p.value)},{deep:!0,immediate:!0});const Re=y([]);(async()=>{i(!0);try{const{data:l}=await al();Re.value=l.items}catch{}finally{i(!1)}})();const ze=y([]);(async()=>{try{const{data:l}=await ll();ze.value=l.items}catch{}})();const z=new Map;z.set(1,"\u7528\u6237\u6570\u636E"),z.set(2,"\u5E94\u7528\u6570\u636E"),z.set(3,"\u4EA4\u6613\u8BB0\u5F55"),z.set(4,"\u8D26\u5355\u660E\u7EC6"),z.set(5,"\u65E5\u5FD7\u6570\u636E");const Ie=async l=>{let u=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u4EE3\u7406\u5546: ${l.name}?`;if(l.data&&l.data.length>0){let g="";for(let h=0;h<l.data.length;h+=1)h===0?g=z.get(l.data[h]):g+=`\u3001${z.get(l.data[h])}`;u=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u4EE3\u7406\u5546: ${l.name} \u4EE5\u53CA\u540C\u65F6\u5220\u9664: ${g}?`}c.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:u,hideCancel:!1,onOk:()=>{i(!0),Za(l).then(g=>{i(!1),c.$message.success("\u64CD\u4F5C\u6210\u529F, \u4EFB\u52A1\u5DF2\u63D0\u4EA4"),N(),S.value.selectAll(!1)})}})},He=async l=>{i(!0);try{await Ka(l),c.$message.success("\u64CD\u4F5C\u6210\u529F"),N()}catch{}finally{i(!1)}},Ne=async l=>{i(!0);try{await Wa(l),c.$message.success("\u64CD\u4F5C\u6210\u529F"),N()}catch{}finally{i(!1)}},L=y(0),T=y(!1),M=y(!1),ne=y(),d=y({}),re=y(),q=y({}),Le=async l=>{i(!0);try{L.value=0,d.value.quota=y(),d.value.quota_type="1",d.value.user_id=l.user_id,d.value.quota_expires_at=l.quota_expires_at,d.value.is_send_notice=!0,S.value.selectAll(!1),T.value=!0}catch{}finally{i(!1)}},ie=l=>{d.value.quota=l*5e5},Te=async l=>{var g;if(await((g=ne.value)==null?void 0:g.validate())){T.value=!0,l(!1);return}if(D.value.length>0){l(),O({action:"recharge",value:d.value.quota,quota_type:d.value.quota_type,quota_expires_at:d.value.quota_expires_at,is_send_notice:d.value.is_send_notice});return}i(!0);try{await Xa(d.value),ga.success(w("success.recharge")),l(),N()}catch{}finally{i(!1)}},Pe=()=>{T.value=!1},X=y(!1),de=y(),Me=l=>{X.value=!0,de.value=l},Oe=()=>{X.value=!1},Ge=l=>{D.value=l,B.value=!l.length},O=l=>{if(D.value.length===0)c.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let u=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${D.value.length}\u4F4D\u4EE3\u7406\u5546?`;switch(l.action){case"recharge":l.value?d.value.quota_type==="2"?u=`\u662F\u5426\u786E\u5B9A\u6263\u9664\u6240\u9009\u7684${D.value.length}\u4F4D\u4EE3\u7406\u5546 $${x(l.value)} \u989D\u5EA6?`:u=`\u662F\u5426\u786E\u5B9A\u7ED9\u6240\u9009\u7684${D.value.length}\u4F4D\u4EE3\u7406\u5546${d.value.quota_type==="1"?"\u5145\u503C":"\u8D60\u9001"} $${x(l.value)} \u989D\u5EA6?`:(L.value=0,d.value.quota=y(),d.value.quota_type="1",d.value.quota_expires_at="",d.value.is_send_notice=!0,T.value=!0);break;case"status":l.value===1?u=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${D.value.length}\u4F4D\u4EE3\u7406\u5546?`:u=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${D.value.length}\u4F4D\u4EE3\u7406\u5546?`;break;case"delete":if(u=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${D.value.length}\u4F4D\u4EE3\u7406\u5546?`,l.data&&l.data.length>0){let g="";for(let h=0;h<l.data.length;h+=1)h===0?g=z.get(l.data[h]):g+=`\u3001${z.get(l.data[h])}`;u=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${D.value.length}\u4F4D\u4EE3\u7406\u5546\u4EE5\u53CA\u540C\u65F6\u5220\u9664: ${g}?`}break}if(l.action==="recharge"&&!l.value)return;c.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:u,hideCancel:!1,onOk:()=>{i(!0),l.ids=D.value,Ya(l).then(g=>{i(!1),c.$message.success("\u64CD\u4F5C\u6210\u529F"),N(),S.value.selectAll(!1)})}})}},_e=async l=>{q.value=l,M.value=!0,l.action||S.value.selectAll(!1)},Qe=async l=>{var g;if(await((g=re.value)==null?void 0:g.validate())){M.value=!0,l(!1);return}q.value.action?O({action:"delete",data:q.value.data}):Ie(q.value)},je=()=>{M.value=!1};return(l,u)=>{const g=oa,h=ya,I=$a,Y=ha,V=ka,U=qa,j=wa,Je=Ca,Ke=Va,Z=Da,ee=Ea,ce=xa,We=Fa,F=Ba,pe=sa,J=Aa,ae=Ua,Xe=na,Ye=Sa,Ze=Ra,ea=ra,P=za,aa=Ia,me=Ha,ve=Na,la=La,ta=Ta,C=Pa,fe=Ma,be=Oa,ua=Ga;return s(),f("div",Fl,[e(I,{class:"container-breadcrumb"},{default:a(()=>[e(h,null,{default:a(()=>[e(g)]),_:1}),e(h,null,{default:a(()=>[n(r(l.$t("menu.sys")),1)]),_:1}),e(h,null,{default:a(()=>[n(r(l.$t("menu.reseller")),1)]),_:1})]),_:1}),e(ua,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(Z,null,{default:a(()=>[e(U,{flex:1},{default:a(()=>[e(ee,{model:k.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(Z,{gutter:16},{default:a(()=>[e(U,{span:8},{default:a(()=>[e(V,{field:"user_id",label:l.$t("reseller.form.userId")},{default:a(()=>[e(Y,{modelValue:k.value.user_id,"onUpdate:modelValue":u[0]||(u[0]=t=>k.value.user_id=t),placeholder:l.$t("reseller.form.userId.placeholder"),precision:0,min:1,max:9999999999999,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(U,{span:7},{default:a(()=>[e(V,{field:"account",label:l.$t("reseller.form.account")},{default:a(()=>[e(j,{modelValue:k.value.account,"onUpdate:modelValue":u[1]||(u[1]=t=>k.value.account=t),placeholder:l.$t("reseller.form.account.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(U,{span:9},{default:a(()=>[e(V,{field:"name",label:l.$t("reseller.form.name")},{default:a(()=>[e(j,{modelValue:k.value.name,"onUpdate:modelValue":u[2]||(u[2]=t=>k.value.name=t),placeholder:l.$t("reseller.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(U,{span:8},{default:a(()=>[e(V,{field:"quota",label:l.$t("reseller.form.quota")},{default:a(()=>[e(Y,{modelValue:k.value.quota,"onUpdate:modelValue":u[3]||(u[3]=t=>k.value.quota=t),placeholder:l.$t("reseller.form.quota.placeholder"),min:1e-6,max:9999999999999,"allow-clear":""},null,8,["modelValue","placeholder","min"])]),_:1},8,["label"])]),_:1}),e(U,{span:7},{default:a(()=>[e(V,{field:"status",label:l.$t("reseller.form.status")},{default:a(()=>[e(Je,{modelValue:k.value.status,"onUpdate:modelValue":u[4]||(u[4]=t=>k.value.status=t),placeholder:l.$t("reseller.form.selectDefault"),options:o(Ee),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(U,{span:9},{default:a(()=>[e(V,{field:"quota_expires_at",label:l.$t("reseller.form.quota_expires_at")},{default:a(()=>[e(Ke,{modelValue:k.value.quota_expires_at,"onUpdate:modelValue":u[5]||(u[5]=t=>k.value.quota_expires_at=t),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(ce,{style:{height:"84px"},direction:"vertical"}),e(U,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(J,{direction:"vertical",size:18},{default:a(()=>[e(F,{type:"primary",onClick:N},{icon:a(()=>[e(We)]),default:a(()=>[n(" "+r(l.$t("reseller.form.search")),1)]),_:1}),e(F,{onClick:Be},{icon:a(()=>[e(pe)]),default:a(()=>[n(" "+r(l.$t("reseller.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ce,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(Z,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(U,{span:12},{default:a(()=>[e(J,null,{default:a(()=>[e(F,{type:"primary",onClick:u[6]||(u[6]=t=>l.$router.push({name:"ResellerCreate"}))},{default:a(()=>[n(r(l.$t("reseller.operation.create")),1)]),_:1}),e(F,{type:"primary",status:"warning",disabled:B.value,title:B.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[7]||(u[7]=t=>O({action:"recharge"}))},{default:a(()=>[n(" \u5145\u503C ")]),_:1},8,["disabled","title"]),e(F,{type:"primary",status:"success",disabled:B.value,title:B.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[8]||(u[8]=t=>O({action:"status",value:1}))},{default:a(()=>[n(" \u542F\u7528 ")]),_:1},8,["disabled","title"]),e(F,{type:"primary",status:"danger",disabled:B.value,title:B.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[9]||(u[9]=t=>O({action:"status",value:2}))},{default:a(()=>[n(" \u7981\u7528 ")]),_:1},8,["disabled","title"]),e(F,{type:"primary",status:"danger",disabled:B.value,title:B.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[10]||(u[10]=t=>_e({action:"delete",data:[1,2,3,4,5]}))},{default:a(()=>[n(" \u5220\u9664 ")]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(U,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(ae,{content:l.$t("actions.refresh")},{default:a(()=>[H("div",{class:"action-icon",onClick:N},[e(pe,{size:"18"})])]),_:1},8,["content"]),e(Ze,{onSelect:Ae},{content:a(()=>[(s(!0),f(ye,null,$e(o(Ve),t=>(s(),v(Ye,{key:t.value,value:t.value,class:fa({active:t.value===b.value})},{default:a(()=>[H("span",null,r(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(ae,{content:l.$t("actions.density")},{default:a(()=>[H("div",Bl,[e(Xe,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(ae,{content:l.$t("actions.column_setting")},{default:a(()=>[e(aa,{trigger:"click",position:"bl",onPopupVisibleChange:Se},{content:a(()=>[H("div",Ul,[(s(!0),f(ye,null,$e(m.value,(t,A)=>(s(),f("div",{key:t.dataIndex,class:"setting"},[H("div",Sl,[e(ea)]),H("div",null,[e(P,{modelValue:t.checked,"onUpdate:modelValue":le=>t.checked=le,onChange:le=>Ue(le,t,A)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),H("div",Rl,r(t.title==="#"?"\u5E8F\u5217\u53F7":t.title),1)]))),128))])]),default:a(()=>[H("div",Al,[e(g,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(la,{ref_key:"tableRef",ref:S,"row-key":"id",loading:o(K),pagination:G,columns:p.value,data:$.value,bordered:!1,size:b.value,"row-selection":_,onPageChange:xe,onPageSizeChange:Fe,onSelectionChange:Ge},{quota:a(({record:t})=>[n(r(t.quota>0?`$${o(x)(t.quota)}`:t.quota<0?`-$${o(x)(-t.quota)}`:"$0.00"),1)]),used_quota:a(({record:t})=>[n(" $"+r(t.used_quota>0?o(x)(t.used_quota):"0.00"),1)]),allocated_quota:a(({record:t})=>[n(" $"+r(t.allocated_quota>0?o(x)(t.allocated_quota):"0.00"),1)]),to_be_allocated:a(({record:t})=>[n(" $"+r(t.to_be_allocated>0?o(x)(t.to_be_allocated):"0.00"),1)]),quota_expires_at:a(({rowIndex:t})=>[e(me,{modelValue:$.value[t].quota_expires_at,"onUpdate:modelValue":A=>$.value[t].quota_expires_at=A,placeholder:l.$t("reseller.columns.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":o(ke),"show-time":"",shortcuts:[{label:"1",value:()=>o(E)($.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>o(E)($.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>o(E)($.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>o(E)($.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>o(E)($.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>o(E)($.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>o(E)($.value[t].quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}],onChange:A=>He({id:`${$.value[t].id}`,quota_expires_at:`${$.value[t].quota_expires_at}`})},{default:a(()=>[e(F,{style:{width:"150px"}},{default:a(()=>[n(r($.value[t].quota_expires_at||l.$t("reseller.columns.placeholder.quota_expires_at")),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled-date","shortcuts","onChange"])]),remark:a(({record:t})=>[n(r(t.remark||"-"),1)]),status:a(({record:t})=>[e(ve,{modelValue:t.status,"onUpdate:modelValue":A=>t.status=A,"checked-value":1,"unchecked-value":2,onChange:A=>Ne({id:`${t.id}`,status:Number(`${t.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:a(({record:t})=>[e(F,{type:"text",size:"small",onClick:A=>Le({user_id:`${t.user_id}`,quota_expires_at:`${t.quota_expires_at}`})},{default:a(()=>[n(r(l.$t("reseller.columns.operations.recharge")),1)]),_:2},1032,["onClick"]),e(F,{type:"text",size:"small",onClick:A=>Me(t.id)},{default:a(()=>[n(r(l.$t("reseller.columns.operations.view")),1)]),_:2},1032,["onClick"]),e(F,{type:"text",size:"small",onClick:A=>l.$router.push({name:"ResellerUpdate",query:{id:`${t.id}`}})},{default:a(()=>[n(r(l.$t("reseller.columns.operations.update")),1)]),_:2},1032,["onClick"]),e(F,{type:"text",size:"small",onClick:A=>_e({id:`${t.id}`,user_id:`${t.user_id}`,name:`${t.name}`,data:[1,2,3,4,5]})},{default:a(()=>[n(r(l.$t("reseller.columns.operations.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(ta,{title:l.$t("menu.reseller.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:X.value,onCancel:Oe},{default:a(()=>[e(xl,{id:de.value},null,8,["id"])]),_:1},8,["title","visible"]),e(be,{visible:T.value,"onUpdate:visible":u[19]||(u[19]=t=>T.value=t),title:l.$t("reseller.form.title.recharge"),"ok-text":l.$t("button.ok"),width:660,onCancel:Pe,onBeforeOk:Te},{default:a(()=>[e(ee,{ref_key:"formRef",ref:ne,model:d.value},{default:a(()=>[e(V,{field:"quota",label:l.$t("reseller.label.quota"),rules:[{required:!0,message:l.$t("reseller.error.quota.required")}]},{default:a(()=>[e(Y,{modelValue:d.value.quota,"onUpdate:modelValue":u[11]||(u[11]=t=>d.value.quota=t),placeholder:l.$t("reseller.placeholder.recharge"),precision:0,min:1,max:9999999999999,style:{"margin-right":"10px"}},null,8,["modelValue","placeholder"]),H("div",null," $"+r(d.value.quota?o(x)(d.value.quota):"0.00"),1)]),_:1},8,["label","rules"]),e(V,{style:{width:"280px","margin-bottom":"10px"}},{default:a(()=>[e(fe,{modelValue:L.value,"onUpdate:modelValue":u[12]||(u[12]=t=>L.value=t),type:"button",onChange:ie},{default:a(()=>[e(C,{value:1},{default:a(()=>[n(" $1 ")]),_:1}),e(C,{value:2},{default:a(()=>[n(" $2 ")]),_:1}),e(C,{value:5},{default:a(()=>[n(" $5 ")]),_:1}),e(C,{value:10},{default:a(()=>[n(" $10 ")]),_:1}),e(C,{value:20},{default:a(()=>[n(" $20 ")]),_:1}),e(C,{value:50},{default:a(()=>[n(" $50 ")]),_:1}),e(C,{value:100},{default:a(()=>[n(" $100 ")]),_:1}),e(C,{value:200},{default:a(()=>[n(" $200 ")]),_:1}),e(C,{value:500},{default:a(()=>[n(" $500 ")]),_:1}),e(C,{value:1e3},{default:a(()=>[n(" $1,000 ")]),_:1})]),_:1},8,["modelValue","onChange"])]),_:1}),e(V,{style:{width:"280px"}},{default:a(()=>[e(fe,{modelValue:L.value,"onUpdate:modelValue":u[13]||(u[13]=t=>L.value=t),type:"button",onChange:ie},{default:a(()=>[e(C,{value:2e3},{default:a(()=>[n(" $2,000 ")]),_:1}),e(C,{value:3e3},{default:a(()=>[n(" $3,000 ")]),_:1}),e(C,{value:5e3},{default:a(()=>[n(" $5,000 ")]),_:1}),e(C,{value:1e4},{default:a(()=>[n(" $10,000 ")]),_:1}),e(C,{value:2e4},{default:a(()=>[n(" $20,000 ")]),_:1}),e(C,{value:5e4},{default:a(()=>[n(" $50,000 ")]),_:1}),e(C,{value:1e5},{default:a(()=>[n(" $100,000 ")]),_:1})]),_:1},8,["modelValue","onChange"])]),_:1}),e(V,{field:"quota_type",label:l.$t("reseller.label.quota_type"),rules:[{required:!0,message:l.$t("reseller.error.quota_type.required")}]},{default:a(()=>[e(J,{size:"large"},{default:a(()=>[e(C,{modelValue:d.value.quota_type,"onUpdate:modelValue":u[14]||(u[14]=t=>d.value.quota_type=t),value:"1","default-checked":!0},{default:a(()=>[n(" \u5145\u503C ")]),_:1},8,["modelValue"]),e(C,{modelValue:d.value.quota_type,"onUpdate:modelValue":u[15]||(u[15]=t=>d.value.quota_type=t),value:"2"},{default:a(()=>[n(" \u6263\u9664 ")]),_:1},8,["modelValue"]),e(C,{modelValue:d.value.quota_type,"onUpdate:modelValue":u[16]||(u[16]=t=>d.value.quota_type=t),value:"3"},{default:a(()=>[n(" \u8D60\u9001 ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),e(V,{field:"quota_expires_at",label:l.$t("reseller.label.quota_expires_at")},{default:a(()=>[e(me,{modelValue:d.value.quota_expires_at,"onUpdate:modelValue":u[17]||(u[17]=t=>d.value.quota_expires_at=t),placeholder:l.$t("reseller.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":o(ke),position:"tl",style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>o(E)(d.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>o(E)(d.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>o(E)(d.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>o(E)(d.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>o(E)(d.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>o(E)(d.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>o(E)(d.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(V,{field:"is_send_notice",label:l.$t("reseller.label.is_send_notice")},{default:a(()=>[e(ve,{modelValue:d.value.is_send_notice,"onUpdate:modelValue":u[18]||(u[18]=t=>d.value.is_send_notice=t)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","ok-text"]),e(be,{visible:M.value,"onUpdate:visible":u[27]||(u[27]=t=>M.value=t),title:l.$t("reseller.form.title.del"),width:700,onCancel:je,onBeforeOk:Qe},{default:a(()=>[e(ee,{ref_key:"delFormRef",ref:re,model:q.value},{default:a(()=>[q.value.user_id?(s(),v(V,{key:0,field:"user_id",label:l.$t("reseller.form.userId"),rules:[{required:!0}]},{default:a(()=>[e(j,{modelValue:q.value.user_id,"onUpdate:modelValue":u[20]||(u[20]=t=>q.value.user_id=t),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):he("",!0),q.value.name?(s(),v(V,{key:1,field:"name",label:l.$t("reseller.label.name"),rules:[{required:!0}]},{default:a(()=>[e(j,{modelValue:q.value.name,"onUpdate:modelValue":u[21]||(u[21]=t=>q.value.name=t),readonly:""},null,8,["modelValue"])]),_:1},8,["label"])):he("",!0),e(V,{field:"data",label:l.$t("reseller.label.del.data")},{default:a(()=>[e(J,{size:"large"},{default:a(()=>[e(P,{modelValue:q.value.data,"onUpdate:modelValue":u[22]||(u[22]=t=>q.value.data=t),value:1},{default:a(()=>[n(" \u7528\u6237\u6570\u636E ")]),_:1},8,["modelValue"]),e(P,{modelValue:q.value.data,"onUpdate:modelValue":u[23]||(u[23]=t=>q.value.data=t),value:2},{default:a(()=>[n(" \u5E94\u7528\u6570\u636E ")]),_:1},8,["modelValue"]),e(P,{modelValue:q.value.data,"onUpdate:modelValue":u[24]||(u[24]=t=>q.value.data=t),value:3},{default:a(()=>[n(" \u4EA4\u6613\u8BB0\u5F55 ")]),_:1},8,["modelValue"]),e(P,{modelValue:q.value.data,"onUpdate:modelValue":u[25]||(u[25]=t=>q.value.data=t),value:4},{default:a(()=>[n(" \u8D26\u5355\u660E\u7EC6 ")]),_:1},8,["modelValue"]),e(P,{modelValue:q.value.data,"onUpdate:modelValue":u[26]||(u[26]=t=>q.value.data=t),value:5},{default:a(()=>[n(" \u65E5\u5FD7\u6570\u636E ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])]),_:1})])}}});const pt=ia(Il,[["__scopeId","data-v-24a06dbd"]]);export{pt as default};
