import{_ as w,w as T}from"./index.3e0040d4.js";/* empty css               *//* empty css                */import{d as S,e as v,B as c,aD as h,aG as a,aH as e,aL as u,aM as i,bC as U,bA as B,b2 as M,b1 as E,aS as O,bK as L,aU as I,b5 as q,C as A,aJ as z,aI as G,aT as K,bi as D,bz as j,F as J,bs as H,aE as P,u as X,aK as Z,aF as Q,bL as W,bM as Y,bJ as x,bN as ee}from"./arco.47b3c23b.js";import{u as F}from"./loading.b238ab8e.js";import{c as ae}from"./agent.22c91532.js";/* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               */import{q as le}from"./model.0498f73b.js";/* empty css               */import"./chart.49ffccb2.js";import"./vue.94924b34.js";import"./base.87fcf6e2.js";const te=S({__name:"base-info",emits:["changeStep"],setup(C,{emit:b}){const m=v(),l=v({corp:"",name:"",base_url:"",path:"",weight:v(),remark:""}),p=async()=>{var t;await((t=m.value)==null?void 0:t.validate())||b("changeStep","forward",{...l.value})};return(n,t)=>{const o=U,_=B,s=M,r=E,$=O,y=L,g=I,k=q;return c(),h(k,{ref_key:"formRef",ref:m,model:l.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:a(()=>[e(s,{field:"corp",label:n.$t("model.agent.label.corp"),rules:[{required:!0,message:n.$t("model.agent.error.corp.required")}]},{default:a(()=>[e(_,{modelValue:l.value.corp,"onUpdate:modelValue":t[0]||(t[0]=d=>l.value.corp=d),placeholder:n.$t("model.agent.placeholder.corp"),"allow-search":""},{default:a(()=>[e(o,{value:"OpenAI"},{default:a(()=>[u("OpenAI")]),_:1}),e(o,{value:"Baidu"},{default:a(()=>[u("\u767E\u5EA6")]),_:1}),e(o,{value:"Xfyun"},{default:a(()=>[u("\u79D1\u5927\u8BAF\u98DE")]),_:1}),e(o,{value:"Aliyun"},{default:a(()=>[u("\u963F\u91CC\u4E91")]),_:1}),e(o,{value:"ZhipuAI"},{default:a(()=>[u("\u667A\u8C31AI")]),_:1}),e(o,{value:"Google"},{default:a(()=>[u("Google")]),_:1}),e(o,{value:"DeepSeek"},{default:a(()=>[u("DeepSeek")]),_:1}),e(o,{value:"Midjourney"},{default:a(()=>[u("Midjourney")]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(s,{field:"name",label:n.$t("model.agent.label.name"),rules:[{required:!0,message:n.$t("model.agent.error.name.required")},{match:/^.{1,100}$/,message:n.$t("model.agent.error.name.pattern")}]},{default:a(()=>[e(r,{modelValue:l.value.name,"onUpdate:modelValue":t[1]||(t[1]=d=>l.value.name=d),placeholder:n.$t("model.agent.placeholder.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(s,{field:"base_url",label:n.$t("model.agent.label.baseUrl"),rules:[{required:!0,message:n.$t("model.agent.error.baseUrl.required")}]},{default:a(()=>[e(r,{modelValue:l.value.base_url,"onUpdate:modelValue":t[2]||(t[2]=d=>l.value.base_url=d),placeholder:n.$t("model.agent.placeholder.baseUrl")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(s,{field:"path",label:n.$t("model.agent.label.path")},{default:a(()=>[e(r,{modelValue:l.value.path,"onUpdate:modelValue":t[3]||(t[3]=d=>l.value.path=d),placeholder:n.$t("model.agent.placeholder.path")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(s,{field:"weight",label:n.$t("model.agent.label.weight")},{default:a(()=>[e($,{modelValue:l.value.weight,"onUpdate:modelValue":t[4]||(t[4]=d=>l.value.weight=d),precision:0,min:0,max:99999,placeholder:n.$t("model.agent.placeholder.weight")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(s,{field:"remark",label:n.$t("model.agent.label.remark")},{default:a(()=>[e(y,{modelValue:l.value.remark,"onUpdate:modelValue":t[5]||(t[5]=d=>l.value.remark=d),placeholder:n.$t("model.agent.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(s,null,{default:a(()=>[e(g,{type:"primary",onClick:p},{default:a(()=>[u(i(n.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const oe=w(te,[["__scopeId","data-v-52a45638"]]),ne=S({__name:"advanced",emits:["changeStep"],setup(C,{emit:b}){const{setLoading:m}=F(!0),l=v([]);(async()=>{m(!0);try{const{data:s}=await le();l.value=s.items}catch{}finally{m(!1)}})();const n=v(),t=v({models:[],key:"",is_agents_only:!0}),o=async()=>{var r;await((r=n.value)==null?void 0:r.validate())||b("changeStep","submit",{...t.value})},_=()=>{b("changeStep","backward")};return(s,r)=>{const $=U,y=B,g=M,k=L,d=K,V=I,N=D,R=q;return c(),h(R,{ref_key:"formRef",ref:n,model:t.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:a(()=>[e(g,{field:"models",label:s.$t("model.agent.label.models"),rules:[{required:!1}]},{default:a(()=>[e(y,{modelValue:t.value.models,"onUpdate:modelValue":r[0]||(r[0]=f=>t.value.models=f),placeholder:s.$t("model.agent.placeholder.models"),"max-tag-count":3,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(c(!0),A(z,null,G(l.value,f=>(c(),h($,{key:f.id,value:f.id,label:f.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(g,{field:"key",label:s.$t("model.agent.label.key")},{default:a(()=>[e(k,{modelValue:t.value.key,"onUpdate:modelValue":r[1]||(r[1]=f=>t.value.key=f),placeholder:s.$t("model.agent.placeholder.key"),"auto-size":{minRows:5,maxRows:10}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(g,{field:"is_agents_only",label:s.$t("model.agent.label.isAgentsOnly")},{default:a(()=>[e(d,{modelValue:t.value.is_agents_only,"onUpdate:modelValue":r[2]||(r[2]=f=>t.value.is_agents_only=f)},null,8,["modelValue"])]),_:1},8,["label"]),e(g,null,{default:a(()=>[e(N,null,{default:a(()=>[e(V,{type:"secondary",onClick:_},{default:a(()=>[u(i(s.$t("model.agent.button.prev")),1)]),_:1}),e(V,{type:"primary",onClick:o},{default:a(()=>[u(i(s.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const se=w(ne,[["__scopeId","data-v-0332c203"]]),ue={class:"success-wrap"},re=S({__name:"success",emits:["changeStep"],setup(C,{emit:b}){const m=()=>{b("changeStep",1)};return(l,p)=>{const n=j,t=I,o=D;return c(),A("div",ue,[e(n,{status:"success",title:l.$t("model.agent.success.title"),subtitle:l.$t("model.agent.success.create.subTitle")},null,8,["title","subtitle"]),e(o,{size:16},{default:a(()=>[e(t,{key:"finish",type:"secondary",onClick:p[0]||(p[0]=_=>l.$router.push({name:"ModelAgentList"}))},{default:a(()=>[u(i(l.$t("model.agent.button.finish")),1)]),_:1}),e(t,{key:"again",type:"primary",onClick:m},{default:a(()=>[u(i(l.$t("model.agent.button.again")),1)]),_:1})]),_:1})])}}});const de=w(re,[["__scopeId","data-v-f97cbe3c"]]),me={class:"container"},pe={class:"wrapper"},ce={name:"ModelAgentCreate"},ie=S({...ce,setup(C){const{loading:b,setLoading:m}=F(!1),l=v(1),p=v({}),n=async()=>{m(!0);try{await ae(p.value),l.value=3,p.value={}}catch{}finally{m(!1)}},t=(o,_)=>{if(typeof o=="number"){l.value=o;return}if(o==="forward"||o==="submit"){if(p.value={...p.value,..._},o==="submit"){n();return}l.value+=1}else o==="backward"&&(l.value-=1)};return(o,_)=>{const s=T,r=Z,$=Q,y=W,g=Y,k=x,d=ee;return c(),A("div",me,[e($,{class:"container-breadcrumb"},{default:a(()=>[e(r,null,{default:a(()=>[e(s)]),_:1}),e(r,null,{default:a(()=>[u(i(o.$t("menu.agent")),1)]),_:1}),e(r,null,{default:a(()=>[u(i(o.$t("menu.model.agent.create")),1)]),_:1})]),_:1}),e(d,{loading:X(b),style:{width:"100%"}},{default:a(()=>[e(k,{class:"general-card",bordered:!1},{default:a(()=>[J("div",pe,[e(g,{current:l.value,"onUpdate:current":_[0]||(_[0]=V=>l.value=V),style:{width:"660px"},"line-less":"",class:"steps"},{default:a(()=>[e(y,{description:o.$t("model.agent.subTitle.baseInfo")},{default:a(()=>[u(i(o.$t("model.agent.title.baseInfo")),1)]),_:1},8,["description"]),e(y,{description:o.$t("model.agent.subTitle.advanced")},{default:a(()=>[u(i(o.$t("model.agent.title.advanced")),1)]),_:1},8,["description"]),e(y,{description:o.$t("model.agent.subTitle.create.finish")},{default:a(()=>[u(i(o.$t("model.agent.title.create.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(c(),h(H,null,[l.value===1?(c(),h(oe,{key:0,onChangeStep:t})):l.value===2?(c(),h(se,{key:1,onChangeStep:t})):l.value===3?(c(),h(de,{key:2,onChangeStep:t})):P("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const Le=w(ie,[["__scopeId","data-v-b295e433"]]);export{Le as default};
