import{L as F,_ as L}from"./index.6bac872f.js";/* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               */import{d as I,e as $,B as D,C as R,aH as l,aG as o,aL as n,aM as u,u as y,F as q,aK as h,aF as E,b1 as S,b2 as A,b4 as z,bi as G,bO as H,aU as K,b5 as M,bN as O,bR as j,g as J}from"./arco.ba78a5b2.js";import{f as P,h as Q}from"./vue.2736b3ca.js";import{u as W}from"./loading.0618e973.js";import{a as X,f as Y,g as Z}from"./notice_template.28568e25.js";import{A as x}from"./aieditor.a4674b78.js";import"./chart.df189e8a.js";/* empty css                *//* empty css               */const ee={class:"container"},ae={class:"wrapper"},le={class:"submit-btn"},te={name:"NoticeTemplateUpdate"},se=I({...te,setup(oe){const{proxy:p}=J(),{loading:w,setLoading:d}=W(!1),f=P(),m=Q(),v=$(),a=$({id:"",name:"",scenes:[],title:"",content:"",channels:[],is_popup:!1,is_public:!0,remark:"",status:1});(async(t={id:m.query.id})=>{d(!0);try{const{data:e}=await X(t);a.value.id=e.id,a.value.name=e.name,a.value.scenes=e.scenes,a.value.title=e.title,a.value.content=e.content,a.value.channels=e.channels,a.value.is_popup=e.is_popup,a.value.is_public=e.is_public,a.value.remark=e.remark,a.value.status=e.status}catch{}finally{d(!1)}})();const U=async()=>{var e;if(!await((e=v.value)==null?void 0:e.validate())){d(!0);try{m.query.action?await Y(a.value).then(()=>{p.$message.success("\u65B0\u589E\u6210\u529F"),f.push({name:"NoticeTemplateList"})}):await Z(a.value).then(()=>{p.$message.success("\u66F4\u65B0\u6210\u529F"),f.push({name:"NoticeTemplateList"})})}catch{}finally{d(!1)}}};return(t,e)=>{const _=F,c=h,k=E,b=S,i=A,r=z,V=G,N=H,g=K,T=M,B=O,C=j;return D(),R("div",ee,[l(k,{class:"container-breadcrumb"},{default:o(()=>[l(c,null,{default:o(()=>[l(_)]),_:1}),l(c,null,{default:o(()=>[n(u(t.$t("menu.notice")),1)]),_:1}),l(c,null,{default:o(()=>[n(u(t.$t(y(m).query.action?"menu.notice.template.create":"menu.notice.template.update")),1)]),_:1})]),_:1}),l(C,{loading:y(w),style:{width:"100%"}},{default:o(()=>[l(B,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:o(()=>[q("div",ae,[l(T,{ref_key:"formRef",ref:v,model:a.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:18}},{default:o(()=>[l(i,{field:"name",label:t.$t("notice.template.label.name"),rules:[{required:!0,message:t.$t("notice.template.error.name.required")}]},{default:o(()=>[l(b,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),placeholder:t.$t("notice.template.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),l(i,{field:"scenes",label:t.$t("notice.template.label.scenes"),rules:[{required:!0,message:t.$t("notice.template.error.scenes.required")}]},{default:o(()=>[l(V,{size:"small",wrap:""},{default:o(()=>[l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.scenes=s),value:"code",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.code")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.scenes=s),value:"login",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.login")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.scenes=s),value:"register",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.register")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.scenes=s),value:"forget_password",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.forget_password")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.scenes=s),value:"change_password",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.change_password")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.scenes=s),value:"change_email",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.change_email")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.scenes=s),value:"quota_warning",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_warning")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.scenes=s),value:"quota_exhaustion",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_exhaustion")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[9]||(e[9]=s=>a.value.scenes=s),value:"quota_expire_warning",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_expire_warning")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[10]||(e[10]=s=>a.value.scenes=s),value:"quota_expire",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_expire")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[11]||(e[11]=s=>a.value.scenes=s),value:"notice",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.notice")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),l(i,{field:"title",label:t.$t("notice.template.label.title"),rules:[{required:!0,message:t.$t("notice.template.error.title.required")}]},{default:o(()=>[l(b,{modelValue:a.value.title,"onUpdate:modelValue":e[12]||(e[12]=s=>a.value.title=s),placeholder:t.$t("notice.template.placeholder.title"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),l(i,{field:"content",label:t.$t("notice.template.label.content"),rules:[{required:!0,message:t.$t("notice.template.error.content.required")}]},{default:o(()=>[l(x,{modelValue:a.value.content,"onUpdate:modelValue":e[13]||(e[13]=s=>a.value.content=s),style:{flex:"1",height:"1024px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),l(i,{field:"remark",label:t.$t("notice.template.label.remark")},{default:o(()=>[l(N,{modelValue:a.value.remark,"onUpdate:modelValue":e[14]||(e[14]=s=>a.value.remark=s),placeholder:t.$t("notice.template.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(V,null,{default:o(()=>[q("div",le,[l(g,{type:"secondary",onClick:e[15]||(e[15]=s=>t.$router.push({name:"NoticeTemplateList"}))},{default:o(()=>[n(u(t.$t("button.cancel")),1)]),_:1}),l(g,{type:"primary",onClick:U},{default:o(()=>[n(u(t.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const ye=L(se,[["__scopeId","data-v-1a1498b8"]]);export{ye as default};
