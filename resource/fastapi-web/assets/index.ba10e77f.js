import{b as ze,A as Re,u as Je,B as Qe,o as Ye,x as Ge,I as We,y as Ze,_ as Xe}from"./index.3e0040d4.js";/* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css                *//* empty css               *//* empty css              */import{c as Oe,S as et}from"./sortable.esm.8b1710c2.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{aN as tt,x as at,d as lt,r as Pe,e as q,c as Ie,w as Te,bR as nt,B as t,C as f,aH as a,aG as e,aL as m,aM as u,bu as ne,aD as o,aJ as De,aI as Ve,u as h,F as W,D as ot,aE as ut,n as it,g as st,aK as rt,aF as ct,bC as dt,bA as pt,b2 as _t,bB as mt,b1 as ft,aS as ht,bD as yt,bE as vt,b5 as gt,bF as kt,ab as bt,aU as wt,bi as Ct,bj as Nt,bl as St,bm as Et,b4 as Dt,bG as Vt,bS as $t,bI as Ft,bO as Bt,bP as jt,ad as Ot,bT as It,bQ as At,ba as xt,b6 as Pt,aV as Tt,bJ as Lt}from"./arco.47b3c23b.js";import{u as zt}from"./loading.b238ab8e.js";import{q as qt}from"./base.87fcf6e2.js";import{g as Mt}from"./app.1c7b5fba.js";import{q as Ht}from"./model.0498f73b.js";import{u as Kt}from"./vue.94924b34.js";import"./chart.49ffccb2.js";function Ut(oe){return ze.post("/api/v1/chat/page",oe)}function Rt(oe){return ze.get("/api/v1/chat/detail",{params:oe,paramsSerializer:ke=>qt.stringify(ke)})}var qe={exports:{}};(function(oe,ke){(function(de,be){oe.exports=be(Re)})(at,function(de){return function(){var be={789:function(c){c.exports=de}},pe={};function U(c){var T=pe[c];if(T!==void 0)return T.exports;var N=pe[c]={exports:{}};return be[c](N,N.exports,U),N.exports}U.d=function(c,T){for(var N in T)U.o(T,N)&&!U.o(c,N)&&Object.defineProperty(c,N,{enumerable:!0,get:T[N]})},U.o=function(c,T){return Object.prototype.hasOwnProperty.call(c,T)},U.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var ue={};return function(){function c(l,d){(d==null||d>l.length)&&(d=l.length);for(var _=0,C=new Array(d);_<d;_++)C[_]=l[_];return C}function T(l,d){if(l){if(typeof l=="string")return c(l,d);var _=Object.prototype.toString.call(l).slice(8,-1);return _==="Object"&&l.constructor&&(_=l.constructor.name),_==="Map"||_==="Set"?Array.from(l):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?c(l,d):void 0}}function N(l){return function(d){if(Array.isArray(d))return c(d)}(l)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(l)||T(l)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ee(l,d,_){return d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,l}U.r(ue),U.d(ue,{default:function(){return Fe}});var p=U(789),Q=(0,p.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var l=this.data,d=this.onClick;return(0,p.createVNode)("span",{class:"vjs-tree-brackets",onClick:d},[l])}}),ie=(0,p.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(l,d){var _=d.emit;return{uiType:(0,p.computed)(function(){return l.isMultiple?"checkbox":"radio"}),model:(0,p.computed)({get:function(){return l.checked},set:function(C){return _("update:modelValue",C)}})}},render:function(){var l=this.uiType,d=this.model,_=this.$emit;return(0,p.createVNode)("label",{class:["vjs-check-controller",d?"is-checked":""],onClick:function(C){return C.stopPropagation()}},[(0,p.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(l)},null),(0,p.createVNode)("input",{checked:d,class:"vjs-check-controller-original is-".concat(l),type:l,onChange:function(){return _("change",d)}},null)])}}),_e=(0,p.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var l=this.nodeType,d=this.onClick,_=l==="objectStart"||l==="arrayStart";return _||l==="objectCollapsed"||l==="arrayCollapsed"?(0,p.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(_?"open":"close"),onClick:d},[(0,p.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,p.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function R(l){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},R(l)}function te(l){return Object.prototype.toString.call(l).slice(8,-1).toLowerCase()}function Y(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=arguments.length>3?arguments[3]:void 0,$=C||{},j=$.key,K=$.index,n=$.type,M=n===void 0?"content":n,O=$.showComma,L=O!==void 0&&O,r=$.length,b=r===void 0?1:r,I=te(l);if(I==="array"){var A=Z(l.map(function(x,S,s){return Y(x,"".concat(d,"[").concat(S,"]"),_+1,{index:S,showComma:S!==s.length-1,length:b,type:M})}));return[Y("[",d,_,{showComma:!1,key:j,length:l.length,type:"arrayStart"})[0]].concat(A,Y("]",d,_,{showComma:L,length:l.length,type:"arrayEnd"})[0])}if(I==="object"){var B=Object.keys(l),X=Z(B.map(function(x,S,s){return Y(l[x],/^[a-zA-Z_]\w*$/.test(x)?"".concat(d,".").concat(x):"".concat(d,'["').concat(x,'"]'),_+1,{key:x,showComma:S!==s.length-1,length:b,type:M})}));return[Y("{",d,_,{showComma:!1,key:j,index:K,length:B.length,type:"objectStart"})[0]].concat(X,Y("}",d,_,{showComma:L,length:B.length,type:"objectEnd"})[0])}return[{content:l,level:_,key:j,index:K,path:d,showComma:L,length:b,type:M}]}function Z(l){if(typeof Array.prototype.flat=="function")return l.flat();for(var d=N(l),_=[];d.length;){var C=d.shift();Array.isArray(C)?d.unshift.apply(d,N(C)):_.push(C)}return _}function se(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(l==null)return l;if(l instanceof Date)return new Date(l);if(l instanceof RegExp)return new RegExp(l);if(R(l)!=="object")return l;if(d.get(l))return d.get(l);if(Array.isArray(l)){var _=l.map(function(j){return se(j,d)});return d.set(l,_),_}var C={};for(var $ in l)C[$]=se(l[$],d);return d.set(l,C),C}function me(l,d){var _=Object.keys(l);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(l);d&&(C=C.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),_.push.apply(_,C)}return _}function ae(l){for(var d=1;d<arguments.length;d++){var _=arguments[d]!=null?arguments[d]:{};d%2?me(Object(_),!0).forEach(function(C){ee(l,C,_[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(_)):me(Object(_)).forEach(function(C){Object.defineProperty(l,C,Object.getOwnPropertyDescriptor(_,C))})}return l}var fe={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},$e=(0,p.defineComponent)({name:"TreeNode",props:ae(ae({},fe),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(l,d){var _=d.emit,C=(0,p.computed)(function(){return te(l.node.content)}),$=(0,p.computed)(function(){return"vjs-value vjs-value-".concat(C.value)}),j=(0,p.computed)(function(){return l.showDoubleQuotes?'"'.concat(l.node.key,'"'):l.node.key}),K=(0,p.computed)(function(){return l.selectableType==="multiple"}),n=(0,p.computed)(function(){return l.selectableType==="single"}),M=(0,p.computed)(function(){return l.nodeSelectable(l.node)&&(K.value||n.value)}),O=(0,p.reactive)({editing:!1}),L=function(S){var s,w,E=(w=(s=S.target)===null||s===void 0?void 0:s.value)==="null"?null:w==="undefined"?void 0:w==="true"||w!=="false"&&(w[0]+w[w.length-1]==='""'||w[0]+w[w.length-1]==="''"?w.slice(1,-1):typeof Number(w)=="number"&&!isNaN(Number(w))||w==="NaN"?Number(w):w);_("valueChange",E,l.node.path)},r=(0,p.computed)(function(){var S,s=(S=l.node)===null||S===void 0?void 0:S.content;return s===null?s="null":s===void 0&&(s="undefined"),C.value==="string"?'"'.concat(s,'"'):s+""}),b=function(){var S=l.renderNodeValue;return S?S({node:l.node,defaultValue:r.value}):r.value},I=function(){_("bracketsClick",!l.collapsed,l.node.path)},A=function(){_("iconClick",!l.collapsed,l.node.path)},B=function(){_("selectedChange",l.node)},X=function(){_("nodeClick",l.node),M.value&&l.selectOnClickNode&&_("selectedChange",l.node)},x=function(S){if(l.editable&&!O.editing){O.editing=!0;var s=function w(E){var D;E.target!==S.target&&((D=E.target)===null||D===void 0?void 0:D.parentElement)!==S.target&&(O.editing=!1,document.removeEventListener("click",w))};document.removeEventListener("click",s),document.addEventListener("click",s)}};return function(){var S,s=l.node;return(0,p.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":l.showSelectController,"has-carets":l.showIcon,"is-highlight":l.highlightSelectedNode&&l.checked},onClick:X,style:l.style},[l.showLineNumber&&(0,p.createVNode)("span",{class:"vjs-node-index"},[s.id+1]),l.showSelectController&&M.value&&s.type!=="objectEnd"&&s.type!=="arrayEnd"&&(0,p.createVNode)(ie,{isMultiple:K.value,checked:l.checked,onChange:B},null),(0,p.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(s.level)).map(function(w,E){return(0,p.createVNode)("div",{key:E,class:{"vjs-indent-unit":!0,"has-line":l.showLine}},null)}),l.showIcon&&(0,p.createVNode)(_e,{nodeType:s.type,onClick:A},null)]),s.key&&(0,p.createVNode)("span",{class:"vjs-key"},[(S=l.renderNodeKey,S?S({node:l.node,defaultKey:j.value||""}):j.value),(0,p.createVNode)("span",{class:"vjs-colon"},[":".concat(l.showKeyValueSpace?" ":"")])]),(0,p.createVNode)("span",null,[s.type!=="content"&&s.content?(0,p.createVNode)(Q,{data:s.content.toString(),onClick:I},null):(0,p.createVNode)("span",{class:$.value,onClick:!l.editable||l.editableTrigger&&l.editableTrigger!=="click"?void 0:x,onDblclick:l.editable&&l.editableTrigger==="dblclick"?x:void 0},[l.editable&&O.editing?(0,p.createVNode)("input",{value:r.value,onChange:L,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):b()]),s.showComma&&(0,p.createVNode)("span",null,[","]),l.showLength&&l.collapsed&&(0,p.createVNode)("span",{class:"vjs-comment"},[(0,p.createTextVNode)(" // "),s.length,(0,p.createTextVNode)(" items ")])])])}}});function we(l,d){var _=Object.keys(l);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(l);d&&(C=C.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),_.push.apply(_,C)}return _}function P(l){for(var d=1;d<arguments.length;d++){var _=arguments[d]!=null?arguments[d]:{};d%2?we(Object(_),!0).forEach(function(C){ee(l,C,_[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(_)):we(Object(_)).forEach(function(C){Object.defineProperty(l,C,Object.getOwnPropertyDescriptor(_,C))})}return l}var Fe=(0,p.defineComponent)({name:"Tree",props:P(P({},fe),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(l,d){var _=d.emit,C=d.slots,$=(0,p.ref)(),j=(0,p.computed)(function(){return Y(l.data,l.rootPath)}),K=function(s,w){return j.value.reduce(function(E,D){var V,F=D.level>=s||D.length>=w,z=(V=l.pathCollapsible)===null||V===void 0?void 0:V.call(l,D);return D.type!=="objectStart"&&D.type!=="arrayStart"||!F&&!z?E:P(P({},E),{},ee({},D.path,1))},{})},n=(0,p.reactive)({translateY:0,visibleData:null,hiddenPaths:K(l.deep,l.collapsedNodeLength)}),M=(0,p.computed)(function(){for(var s=null,w=[],E=j.value.length,D=0;D<E;D++){var V=P(P({},j.value[D]),{},{id:D}),F=n.hiddenPaths[V.path];if(s&&s.path===V.path){var z=s.type==="objectStart",re=P(P(P({},V),s),{},{showComma:V.showComma,content:z?"{...}":"[...]",type:z?"objectCollapsed":"arrayCollapsed"});s=null,w.push(re)}else{if(F&&!s){s=V;continue}if(s)continue;w.push(V)}}return w}),O=(0,p.computed)(function(){var s=l.selectedValue;return s&&l.selectableType==="multiple"&&Array.isArray(s)?s:[s]}),L=(0,p.computed)(function(){return!l.selectableType||l.selectOnClickNode||l.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),r=function(){var s=M.value;if(l.virtual){var w,E=l.height/l.itemHeight,D=((w=$.value)===null||w===void 0?void 0:w.scrollTop)||0,V=Math.floor(D/l.itemHeight),F=V<0?0:V+E>s.length?s.length-E:V;F<0&&(F=0);var z=F+E;n.translateY=F*l.itemHeight,n.visibleData=s.filter(function(re,G){return G>=F&&G<z})}else n.visibleData=s},b=function(){r()},I=function(s){var w,E,D=s.path,V=l.selectableType;if(V==="multiple"){var F=O.value.findIndex(function(H){return H===D}),z=N(O.value);F!==-1?z.splice(F,1):z.push(D),_("update:selectedValue",z),_("selectedChange",z,N(O.value))}else if(V==="single"&&O.value[0]!==D){var re=(w=O.value,E=1,function(H){if(Array.isArray(H))return H}(w)||function(H,ce){var J=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(J!=null){var Ce,Ne,he=[],ye=!0,Se=!1;try{for(J=J.call(H);!(ye=(Ce=J.next()).done)&&(he.push(Ce.value),!ce||he.length!==ce);ye=!0);}catch(Be){Se=!0,Ne=Be}finally{try{ye||J.return==null||J.return()}finally{if(Se)throw Ne}}return he}}(w,E)||T(w,E)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],G=D;_("update:selectedValue",G),_("selectedChange",G,re)}},A=function(s){_("nodeClick",s)},B=function(s,w){if(s)n.hiddenPaths=P(P({},n.hiddenPaths),{},ee({},w,1));else{var E=P({},n.hiddenPaths);delete E[w],n.hiddenPaths=E}},X=function(s,w){l.collapsedOnClickBrackets&&B(s,w),_("bracketsClick",s)},x=function(s,w){B(s,w),_("iconClick",s)},S=function(s,w){var E=se(l.data),D=l.rootPath;new Function("data","val","data".concat(w.slice(D.length),"=val"))(E,s),_("update:data",E)};return(0,p.watchEffect)(function(){L.value&&function(s){throw new Error("[VueJSONPretty] ".concat(s))}(L.value)}),(0,p.watchEffect)(function(){M.value&&r()}),(0,p.watch)(function(){return l.deep},function(s){s&&(n.hiddenPaths=K(s,l.collapsedNodeLength))}),(0,p.watch)(function(){return l.collapsedNodeLength},function(s){s&&(n.hiddenPaths=K(l.deep,s))}),function(){var s,w,E=(s=l.renderNodeKey)!==null&&s!==void 0?s:C.renderNodeKey,D=(w=l.renderNodeValue)!==null&&w!==void 0?w:C.renderNodeValue,V=n.visibleData&&n.visibleData.map(function(F){return(0,p.createVNode)($e,{key:F.id,node:F,collapsed:!!n.hiddenPaths[F.path],showDoubleQuotes:l.showDoubleQuotes,showLength:l.showLength,checked:O.value.includes(F.path),selectableType:l.selectableType,showLine:l.showLine,showLineNumber:l.showLineNumber,showSelectController:l.showSelectController,selectOnClickNode:l.selectOnClickNode,nodeSelectable:l.nodeSelectable,highlightSelectedNode:l.highlightSelectedNode,editable:l.editable,editableTrigger:l.editableTrigger,showIcon:l.showIcon,showKeyValueSpace:l.showKeyValueSpace,renderNodeKey:E,renderNodeValue:D,onNodeClick:A,onBracketsClick:X,onIconClick:x,onSelectedChange:I,onValueChange:S,style:l.itemHeight&&l.itemHeight!==20?{lineHeight:"".concat(l.itemHeight,"px")}:{}},null)});return(0,p.createVNode)("div",{ref:$,class:{"vjs-tree":!0,"is-virtual":l.virtual},onScroll:l.virtual?b:void 0,style:l.showLineNumber?P({paddingLeft:"".concat(12*Number(j.value.length.toString().length),"px")},l.style):l.style},[l.virtual?(0,p.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(l.height,"px")}},[(0,p.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(M.value.length*l.itemHeight,"px")}},[(0,p.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(n.translateY,"px)")}},[V])])]):V])}}})}(),ue}()})})(qe);const Le=tt(qe.exports);const Jt={class:"container"},Qt={class:"action-icon"},Yt={class:"action-icon"},Gt={id:"tableSetting"},Wt={style:{"margin-right":"4px",cursor:"move"}},Zt={class:"title"},Xt={style:{margin:"10px 0 0 10px"}},ea={key:1},ta={key:1},aa={key:1},la={key:1},na={key:1},oa={key:1},ua={key:1},ia={key:1},sa={key:1},ra={key:1},ca={key:1},da={key:1},pa={key:1},_a={key:1},ma={key:1},fa={key:1},ha={key:1},ya={key:1},va={key:1},ga={key:1},ka={key:1},ba={key:1},wa={key:1},Ca={key:1},Na={key:1},Sa={key:1},Ea={key:1},Da={key:1},Va={key:1},$a={key:1},Fa={key:1},Ba={key:1},ja={key:1},Oa={key:1},Ia={key:1},Aa={key:1},xa={key:1},Pa={key:1},Ta={key:1},La={key:1},za={key:1},qa={key:1},Ma={key:1},Ha={key:1},Ka={key:1},Ua={key:1},Ra={key:1},Ja={key:1},Qa={key:1},Ya={key:1},Ga={key:1},Wa={key:1},Za={key:1},Xa={key:1},el={key:1},tl={key:1},al={key:1},ll={key:1},nl={key:1},ol={key:1},ul={key:1},il={name:"AppChatList"},sl=lt({...il,setup(oe){const ke=Pe({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),de=q([]);(async()=>{try{const{data:r}=await Mt();de.value=r.items}catch{}})();const pe=q([]);(async()=>{try{const{data:r}=await Ht();pe.value=r.items}catch{}})();const ue=()=>({app_id:q(),trace_id:q(),user_id:q(),key:"",models:[],total_time:q(),status:q(),req_times:[]}),{loading:c,setLoading:T}=zt(!0),{t:N}=Je(),ee=q([]),p=q(ue()),Q=q([]),ie=q([]),_e=q("medium"),R={current:1,pageSize:10,showTotal:!0,showPageSize:!0},te=Pe({...R}),Y=Ie(()=>[{name:N("searchTable.size.mini"),value:"mini"},{name:N("searchTable.size.small"),value:"small"},{name:N("searchTable.size.medium"),value:"medium"},{name:N("searchTable.size.large"),value:"large"}]),Z=localStorage.getItem("userRole"),se=Ie(()=>[{title:N(Z==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:Z==="admin"?"user_id":"app_id",slotName:Z==="admin"?"user_id":"app_id",align:"center",width:75},{title:N("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center"},{title:N("chat.columns.prompt_tokens"),dataIndex:"prompt_tokens",slotName:"prompt_tokens",align:"center"},{title:N("chat.columns.completion_tokens"),dataIndex:"completion_tokens",slotName:"completion_tokens",align:"center"},{title:N("chat.columns.total_price"),dataIndex:"total_price",slotName:"total_price",align:"center"},{title:N("chat.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center"},{title:N("chat.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:N("chat.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:N("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:N("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:N("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:N("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:N("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);Z==="user"&&se.value.splice(9,1);const me=Ie(()=>[{label:N("chat.dict.status.1"),value:1},{label:N("chat.dict.status.2"),value:2},{label:N("chat.dict.status.-1"),value:-1}]);Z==="admin"&&me.value.push({label:N("chat.dict.status.3"),value:3});const ae=async(r={...R})=>{T(!0);try{const{data:b}=await Ut(r);ee.value=b.items,te.current=r.current,te.pageSize=r.pageSize,te.total=b.paging.total}catch{}finally{T(!1)}},fe=()=>{ae({...R,...p.value})},$e=r=>{ae({...R,...p.value,current:r})},we=r=>{R.pageSize=r,ae({...R,...p.value})};ae();const P=()=>{p.value=ue()},Fe=(r,b)=>{_e.value=r},l=(r,b,I)=>{r?Q.value.splice(I,0,b):Q.value=ie.value.filter(A=>A.dataIndex!==b.dataIndex)},d=(r,b,I,A=!1)=>{const B=A?Oe(r):r;return b>-1&&I>-1&&B.splice(b,1,B.splice(I,1,B[b]).pop()),B},_=r=>{r&&it(()=>{const b=document.getElementById("tableSetting");new et(b,{onEnd(I){const{oldIndex:A,newIndex:B}=I;d(Q.value,A,B),d(ie.value,A,B)}})})};Te(()=>se.value,r=>{Q.value=Oe(r),Q.value.forEach((b,I)=>{b.checked=!0}),ie.value=Oe(Q.value)},{deep:!0,immediate:!0});const C=q(!1),{copy:$,copied:j}=Kt(),{proxy:K}=st(),n=q({}),M=async r=>{C.value=!0,c.value=!0;try{const{data:b}=await Rt({id:r});n.value=b}catch{}finally{c.value=!1}},O=()=>{C.value=!1},L=r=>{$(r)};return Te(j,()=>{j.value&&K.$message.success("\u590D\u5236\u6210\u529F")}),(r,b)=>{const I=Qe,A=rt,B=ct,X=dt,x=pt,S=_t,s=mt,w=ft,E=ht,D=yt,V=vt,F=gt,z=kt,re=bt,G=wt,H=Ye,ce=Ct,J=Nt,Ce=Ge,Ne=St,he=Et,ye=We,Se=Ze,Be=Dt,Me=Vt,k=$t,He=Ft,y=Bt,v=jt,ve=Ot,g=It,Ee=At,Ae=xt,xe=Pt,Ke=Tt,Ue=Lt,le=nt("permission");return t(),f("div",Jt,[a(B,{class:"container-breadcrumb"},{default:e(()=>[a(A,null,{default:e(()=>[a(I)]),_:1}),a(A,null,{default:e(()=>[m(u(r.$t("menu.chat")),1)]),_:1}),a(A,null,{default:e(()=>[m(u(r.$t("menu.chat.list")),1)]),_:1})]),_:1}),a(Ue,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(V,null,{default:e(()=>[a(s,{flex:1},{default:e(()=>[a(F,{model:p.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[a(V,{gutter:16},{default:e(()=>[ne((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"app_id",label:r.$t("chat.form.app_id")},{default:e(()=>[a(x,{modelValue:p.value.app_id,"onUpdate:modelValue":b[0]||(b[0]=i=>p.value.app_id=i),placeholder:r.$t("chat.form.selectDefault"),"allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),f(De,null,Ve(de.value,i=>(t(),o(X,{key:i.app_id,value:i.app_id,label:i.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[le,["user"]]]),ne((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"trace_id",label:r.$t("chat.form.trace_id")},{default:e(()=>[a(w,{modelValue:p.value.trace_id,"onUpdate:modelValue":b[1]||(b[1]=i=>p.value.trace_id=i),placeholder:r.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[le,["admin"]]]),ne((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"user_id",label:r.$t("chat.form.user_id")},{default:e(()=>[a(w,{modelValue:p.value.user_id,"onUpdate:modelValue":b[2]||(b[2]=i=>p.value.user_id=i),placeholder:r.$t("chat.form.user_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[le,["admin"]]]),ne((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"key",label:r.$t("chat.form.key")},{default:e(()=>[a(w,{modelValue:p.value.key,"onUpdate:modelValue":b[3]||(b[3]=i=>p.value.key=i),placeholder:r.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[le,["user"]]]),a(s,{span:8},{default:e(()=>[a(S,{field:"models",label:r.$t("chat.form.models")},{default:e(()=>[a(x,{modelValue:p.value.models,"onUpdate:modelValue":b[4]||(b[4]=i=>p.value.models=i),placeholder:r.$t("chat.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),f(De,null,Ve(pe.value,i=>(t(),o(X,{key:i.id,value:i.id,label:i.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(s,{span:8},{default:e(()=>[a(S,{field:"total_time",label:r.$t("chat.form.total_time")},{default:e(()=>[a(E,{modelValue:p.value.total_time,"onUpdate:modelValue":b[5]||(b[5]=i=>p.value.total_time=i),precision:0,placeholder:r.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(s,{span:8},{default:e(()=>[a(S,{field:"status",label:r.$t("chat.form.status")},{default:e(()=>[a(x,{modelValue:p.value.status,"onUpdate:modelValue":b[6]||(b[6]=i=>p.value.status=i),options:h(me),placeholder:r.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(s,{span:8},{default:e(()=>[a(S,{field:"req_times",label:r.$t("chat.form.req_times")},{default:e(()=>[a(D,{modelValue:p.value.req_times,"onUpdate:modelValue":b[7]||(b[7]=i=>p.value.req_times=i),"show-time":"",placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(z,{style:{height:"84px"},direction:"vertical"}),a(s,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(ce,{direction:"vertical",size:18},{default:e(()=>[a(G,{type:"primary",onClick:fe},{icon:e(()=>[a(re)]),default:e(()=>[m(" "+u(r.$t("chat.form.search")),1)]),_:1}),a(G,{onClick:P},{icon:e(()=>[a(H)]),default:e(()=>[m(" "+u(r.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(z,{style:{"margin-top":"0"}}),a(V,{style:{"margin-bottom":"16px"}},{default:e(()=>[a(s,{span:24,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(J,{content:r.$t("searchTable.actions.refresh")},{default:e(()=>[W("div",{class:"action-icon",onClick:fe},[a(H,{size:"18"})])]),_:1},8,["content"]),a(he,{onSelect:Fe},{content:e(()=>[(t(!0),f(De,null,Ve(h(Y),i=>(t(),o(Ne,{key:i.value,value:i.value,class:ot({active:i.value===_e.value})},{default:e(()=>[W("span",null,u(i.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(J,{content:r.$t("searchTable.actions.density")},{default:e(()=>[W("div",Qt,[a(Ce,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(J,{content:r.$t("searchTable.actions.columnSetting")},{default:e(()=>[a(Me,{trigger:"click",position:"bl",onPopupVisibleChange:_},{content:e(()=>[W("div",Gt,[(t(!0),f(De,null,Ve(ie.value,(i,ge)=>(t(),f("div",{key:i.dataIndex,class:"setting"},[W("div",Wt,[a(Se)]),W("div",null,[a(Be,{modelValue:i.checked,"onUpdate:modelValue":je=>i.checked=je,onChange:je=>l(je,i,ge)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),W("div",Zt,u(i.title==="#"?"\u5E8F\u5217\u53F7":i.title),1)]))),128))])]),default:e(()=>[W("div",Yt,[a(ye,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(He,{"row-key":"id",loading:h(c),pagination:te,columns:Q.value,data:ee.value,bordered:!1,size:_e.value,"row-selection":ke,onPageChange:$e,onPageSizeChange:we},{user_id:e(({record:i})=>[m(u(i.is_smart_match?"-":i.user_id),1)]),prompt_tokens:e(({record:i})=>[m(u(i.prompt_tokens?i.prompt_tokens:i.status===1&&i.billing_method===2?0:"-"),1)]),completion_tokens:e(({record:i})=>[m(u(i.completion_tokens?i.completion_tokens:i.status===1&&i.billing_method===2?0:"-"),1)]),total_price:e(({record:i})=>[m(u(i.total_price?`$${i.total_price}`:i.status===1&&i.billing_method===2?0:"-"),1)]),stream:e(({record:i})=>[m(u(r.$t(`chat.dict.stream.${i.stream}`)),1)]),conn_time:e(({record:i})=>[i.conn_time>1e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(i.conn_time),1)]),_:2},1024)):i.conn_time>5e3?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(i.conn_time),1)]),_:2},1024)):i.conn_time>3e3?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(i.conn_time),1)]),_:2},1024)):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(i.conn_time||"-"),1)]),_:2},1024))]),duration:e(({record:i})=>[i.duration>12e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(i.duration),1)]),_:2},1024)):i.duration>9e4?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(i.duration),1)]),_:2},1024)):i.duration>6e4?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(i.duration),1)]),_:2},1024)):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(i.duration||"-"),1)]),_:2},1024))]),total_time:e(({record:i})=>[i.total_time>12e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(i.total_time),1)]),_:2},1024)):i.total_time>9e4?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(i.total_time),1)]),_:2},1024)):i.total_time>6e4?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(i.total_time),1)]),_:2},1024)):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(i.total_time||"-"),1)]),_:2},1024))]),internal_time:e(({record:i})=>[i.internal_time>500?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(i.internal_time),1)]),_:2},1024)):i.internal_time>300?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(i.internal_time),1)]),_:2},1024)):i.internal_time>100?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(i.internal_time),1)]),_:2},1024)):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(i.internal_time||"-"),1)]),_:2},1024))]),status:e(({record:i})=>[i.status===-1?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${i.status}`)),1)]),_:2},1024)):i.status===2?(t(),o(k,{key:1,color:"gold"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${i.status}`)),1)]),_:2},1024)):i.status===3?(t(),o(k,{key:2,color:"orange"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${i.status}`)),1)]),_:2},1024)):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${i.status}`)),1)]),_:2},1024))]),operations:e(({record:i})=>[a(G,{type:"text",size:"small",onClick:ge=>M(i.id)},{default:e(()=>[m(u(r.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(Ke,{title:"\u65E5\u5FD7\u8BE6\u60C5",visible:C.value,width:700,footer:!1,"unmount-on-close":"","render-to-body":"",onCancel:O},{default:e(()=>[W("div",Xt,[ne((t(),o(Ee,{column:2,bordered:""},{default:e(()=>[a(g,{label:"Trace ID",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ea,[m(u(n.value.trace_id)+" ",1),a(ve,{class:"copy-btn",onClick:b[8]||(b[8]=i=>L(n.value.trace_id))})]))]),_:1}),a(g,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ta,[m(u(n.value.creator)+" ",1),a(ve,{class:"copy-btn",onClick:b[9]||(b[9]=i=>L(n.value.creator))})]))]),_:1}),a(g,{label:"\u7528\u6237ID"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",aa,u(n.value.user_id||"-"),1))]),_:1}),a(g,{label:"\u5E94\u7528ID"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",la,u(n.value.app_id||"-"),1))]),_:1}),a(g,{label:"\u516C\u53F8"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",na,u(r.$t(`chat.dict.corp.${n.value.corp}`)),1))]),_:1}),a(g,{label:"\u6A21\u578B"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",oa,u(n.value.model||"-"),1))]),_:1}),a(g,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ua,u(r.$t(`chat.dict.type.${n.value.type}`)),1))]),_:1}),a(g,{label:"\u6D41\u5F0F"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ia,u(r.$t(`chat.dict.stream.${n.value.stream}`)),1))]),_:1}),a(g,{label:"\u63D0\u95EE",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",sa,u(n.value.prompt||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ra,u(n.value.completion||"-"),1))]),_:1}),a(g,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ca,u(r.$t(`chat.dict.billing_method.${n.value.billing_method}`)),1))]),_:1}),a(g,{label:"\u603B\u6D88\u8017\u4EE4\u724C\u6570"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",da,u(n.value.total_tokens?n.value.total_tokens:n.value.status===1&&n.value.billing_method===2?0:"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u500D\u7387"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",pa,u(n.value.prompt_ratio||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",_a,u(n.value.completion_ratio||"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u4EE4\u724C\u6570"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ma,u(n.value.prompt_tokens||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",fa,u(n.value.completion_tokens||"-"),1))]),_:1}),a(g,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ha,[n.value.conn_time>1e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>5e3?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>3e3?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(n.value.conn_time)+" ms ",1)]),_:1})):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(n.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ya,[n.value.duration>12e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>9e4?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>6e4?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(n.value.duration)+" ms ",1)]),_:1})):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(n.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u603B\u8017\u65F6"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",va,[n.value.total_time>12e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>9e4?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>6e4?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(n.value.total_time)+" ms ",1)]),_:1})):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(n.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u7ED3\u679C"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ga,[n.value.status===1?(t(),o(k,{key:0,color:"green"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===2?(t(),o(k,{key:1,color:"gold"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===3?(t(),o(k,{key:2,color:"orange"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):(t(),o(k,{key:3,color:"red"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1}))]))]),_:1}),a(g,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",ka,u(n.value.client_ip||"-"),1))]),_:1}),a(g,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",ba,u(n.value.req_time||"-"),1))]),_:1}),a(g,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",wa,u(n.value.err_msg||"-"),1))]),_:1})]),_:1})),[[le,["user"]]]),ne((t(),o(Ee,{column:2,bordered:""},{default:e(()=>[a(g,{label:"Trace ID",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ca,[m(u(n.value.trace_id)+" ",1),a(ve,{class:"copy-btn",onClick:b[10]||(b[10]=i=>L(n.value.trace_id))})]))]),_:1}),a(g,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Na,[m(u(n.value.is_smart_match?"-":n.value.creator)+" ",1),n.value.is_smart_match?ut("",!0):(t(),o(ve,{key:0,class:"copy-btn",onClick:b[11]||(b[11]=i=>L(n.value.creator))}))]))]),_:1}),a(g,{label:"\u7528\u6237ID"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",Sa,u(n.value.is_smart_match?"-":n.value.user_id||"-"),1))]),_:1}),a(g,{label:"\u5E94\u7528ID"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",Ea,u(n.value.is_smart_match?"-":n.value.app_id||"-"),1))]),_:1}),a(g,{label:"\u516C\u53F8"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Da,u(r.$t(`chat.dict.corp.${n.value.corp}`)),1))]),_:1}),a(g,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Va,u(r.$t(`chat.dict.type.${n.value.type}`)),1))]),_:1}),a(g,{label:"\u6A21\u578BID"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",$a,u(n.value.model_id||"-"),1))]),_:1}),a(g,{label:"\u6A21\u578B\u540D\u79F0"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",Fa,u(n.value.name||"-"),1))]),_:1}),a(g,{label:"\u6A21\u578B"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ba,u(n.value.model||"-"),1))]),_:1}),a(g,{label:"\u6D41\u5F0F"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",ja,u(r.$t(`chat.dict.stream.${n.value.stream}`)),1))]),_:1}),a(g,{label:"\u542F\u7528\u4EE3\u7406"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Oa,u(r.$t(`chat.dict.is_enable_model_agent.${n.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(g,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var i,ge;return[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",Ia,u(((ge=(i=n.value)==null?void 0:i.model_agent)==null?void 0:ge.name)||"-"),1))]}),_:1}),a(g,{label:"\u542F\u7528\u6A21\u578B\u8F6C\u53D1"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Aa,u(r.$t(`chat.dict.is_forward.${n.value.is_forward||!1}`)),1))]),_:1}),a(g,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",xa,u(n.value.is_forward?r.$t(`chat.dict.forward_rule.${n.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(g,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Pa,u(n.value.is_forward?n.value.real_model_name:"-"),1))]),_:1}),a(g,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ta,u(n.value.is_forward?n.value.real_model:"-"),1))]),_:1}),a(g,{label:"\u5BC6\u94A5",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",La,[m(u(n.value.key||"-")+" ",1),a(ve,{class:"copy-btn",onClick:b[12]||(b[12]=i=>L(n.value.key))})]))]),_:1}),a(g,{label:"\u63D0\u95EE",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",za,u(n.value.prompt||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",qa,u(n.value.completion||"-"),1))]),_:1}),a(g,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ma,u(r.$t(`chat.dict.billing_method.${n.value.billing_method}`)),1))]),_:1}),a(g,{label:"\u603B\u6D88\u8017\u4EE4\u724C\u6570"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ha,u(n.value.total_tokens?n.value.total_tokens:n.value.status===1&&n.value.billing_method===2?0:"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u500D\u7387"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ka,u(n.value.prompt_ratio||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ua,u(n.value.completion_ratio||"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u4EE4\u724C\u6570"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ra,u(n.value.prompt_tokens||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ja,u(n.value.completion_tokens||"-"),1))]),_:1}),a(g,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Qa,[n.value.conn_time>1e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>5e3?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>3e3?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(n.value.conn_time)+" ms ",1)]),_:1})):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(n.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ya,[n.value.duration>12e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>9e4?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>6e4?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(n.value.duration)+" ms ",1)]),_:1})):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(n.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u603B\u8017\u65F6"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Ga,[n.value.total_time>12e4?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>9e4?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>6e4?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(n.value.total_time)+" ms ",1)]),_:1})):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(n.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u5185\u8017"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Wa,[n.value.internal_time>500?(t(),o(k,{key:0,color:"red"},{default:e(()=>[m(u(n.value.internal_time)+" ms ",1)]),_:1})):n.value.internal_time>300?(t(),o(k,{key:1,color:"orange"},{default:e(()=>[m(u(n.value.internal_time)+" ms ",1)]),_:1})):n.value.internal_time>100?(t(),o(k,{key:2,color:"gold"},{default:e(()=>[m(u(n.value.internal_time)+" ms ",1)]),_:1})):(t(),o(k,{key:3,color:"green"},{default:e(()=>[m(u(n.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u7ED3\u679C"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",Za,[n.value.status===1?(t(),o(k,{key:0,color:"green"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===2?(t(),o(k,{key:1,color:"gold"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===3?(t(),o(k,{key:2,color:"orange"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):(t(),o(k,{key:3,color:"red"},{default:e(()=>[m(u(r.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1}))]))]),_:1}),a(g,{label:"\u672C\u5730IP"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",Xa,u(n.value.local_ip||"-"),1))]),_:1}),a(g,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",el,u(n.value.client_ip||"-"),1))]),_:1}),a(g,{label:"\u8FDC\u7A0BIP"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",tl,u(n.value.remote_ip||"-"),1))]),_:1}),a(g,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",al,u(n.value.req_time||"-"),1))]),_:1}),a(g,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{widths:["200px"],rows:1})]),_:1})):(t(),f("span",ll,u(n.value.created_at||"-"),1))]),_:1}),a(g,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:1})]),_:1})):(t(),f("span",nl,u(n.value.err_msg||"-"),1))]),_:1})]),_:1})),[[le,["admin"]]]),a(Ee,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(g,{span:2},{default:e(()=>[a(xe,{type:"card"},{default:e(()=>[a(Ae,{key:"1",title:"\u63D0\u95EE\u4E0A\u4E0B\u6587"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:3})]),_:1})):(t(),o(ce,{key:1},{default:e(()=>[n.value.messages?(t(),o(h(Le),{key:0,path:"res",data:n.value.messages,"show-length":!0},null,8,["data"])):(t(),f("span",ol,"\u65E0"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),ne((t(),o(Ee,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(g,{span:2},{default:e(()=>[a(xe,{type:"card"},{default:e(()=>[a(Ae,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[h(c)?(t(),o(v,{key:0,animation:!0},{default:e(()=>[a(y,{rows:3})]),_:1})):(t(),o(ce,{key:1},{default:e(()=>[n.value.model_agent?(t(),o(h(Le),{key:0,data:n.value.model_agent,"show-length":!0},null,8,["data"])):(t(),f("span",ul,"\u65E0"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[le,["admin"]]])])]),_:1},8,["visible"])]),_:1})])}}});const Il=Xe(sl,[["__scopeId","data-v-65756342"]]);export{Il as default};
