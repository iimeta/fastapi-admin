import{_ as Be,u as tt,H as at,q as lt,z as ot,j as nt,A as ut}from"./index.0a66d3a0.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css              */import{d as Ee,e as F,w as Ie,bF as Ae,B as t,C as d,bu as y,aD as n,aG as e,aH as a,u as r,aL as s,aM as u,D,aE as st,g as it,bA as dt,bB as rt,ad as _t,bC as mt,a6 as ke,bj as ie,bD as Se,bE as pt,bi as qe,bb as ct,b6 as ft,a_ as Ue,r as Ce,c as ye,h as N,aJ as Y,aI as j,E as yt,n as vt,aK as kt,aF as bt,bH as gt,bI as ht,b2 as wt,bG as xt,b1 as $t,aS as Ft,bJ as Vt,bK as Ct,b5 as Dt,bL as Bt,ab as Et,aU as It,bl as At,bm as St,b4 as qt,bM as Ut,bO as zt,aV as Lt,bU as Nt}from"./arco.088e2a49.js";import{u as ze}from"./loading.6f488126.js";import{b as R,a as De}from"./common.051a2527.js";import{V as Pt,_ as Le,k as Mt,l as Ht,m as Tt}from"./styles.40140f37.js";import{f as Gt}from"./app.e9d45b3f.js";import{c as ve,S as Yt}from"./sortable.esm.70bb3f9a.js";import{q as jt}from"./model.cd3fb8c6.js";import{q as Rt}from"./model_agent.b813242c.js";import{Q as be}from"./quota.da4d358d.js";/* empty css               *//* empty css                *//* empty css                */import{u as Ot}from"./vue.bd25b247.js";import"./chart.0bfa65d3.js";const Qt={style:{margin:"10px 0 30px 10px"}},Wt={key:1},Jt={key:1},Kt={key:1},Xt={key:1},Zt={key:1},ea={key:1},ta={key:1},aa={key:1},la={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},oa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},na={key:1},ua={key:1},sa={key:1},ia={key:1},da={key:1},ra={key:1},_a={key:1},ma={key:1},pa={key:1},ca={key:1},fa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ya={key:1},va={key:1},ka={key:1},ba={key:1},ga={key:1},ha={key:1},wa={key:1},xa={key:1},$a={key:1},Fa={key:1},Va={key:1},Ca={key:1},Da={key:1},Ba={key:1},Ea={key:1},Ia={key:1},Aa={key:1},Sa={key:1},qa={key:1},Ua={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},za={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},La={key:1},Na={key:1},Pa={key:1},Ma={key:1},Ha={key:1},Ta={key:1},Ga={key:1},Ya={key:1},ja={key:1},Ra={key:1},Oa={key:1},Qa={key:1},Wa={key:1},Ja={key:1},Ka={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Xa={key:1},Za={name:"LogGeneralDetail"},el=Ee({...Za,props:{id:{type:String,default:""}},setup(ge){const de=ge,{loading:p,setLoading:h}=ze(!0),l=F({}),{copy:X,copied:O}=Ot(),{proxy:Z}=it();(async(w={id:de.id})=>{h(!0);try{const{data:x}=await Mt(w);l.value=x}catch{}finally{h(!1)}})();const B=w=>{X(w)};Ie(O,()=>{O.value&&Z.$message.success("\u590D\u5236\u6210\u529F")});const L=async(w,x)=>{const{data:_}=await Ht({id:w,field:x});X(_.value)},P=F(!1),E=F(),M=F(),ee=async(w,x)=>{P.value=!0,E.value=w,M.value=x};return(w,x)=>{const _=dt,m=rt,H=_t,c=mt,te=ke,ae=ie,b=Se,T=pt,re=qe,le=ct,he=ft,Q=Ue,oe=Ae("permission");return t(),d("div",Qt,[y((t(),n(T,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(c,{label:"Trace ID",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Wt,[s(u(l.value.trace_id)+" ",1),a(H,{class:"copy-btn",onClick:x[0]||(x[0]=$=>B(l.value.trace_id))})]))]),_:1}),a(c,{label:"Host",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Jt,u(l.value.host||"-"),1))]),_:1}),a(c,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Kt,[s(u(l.value.creator)+" ",1),a(H,{class:"copy-btn",onClick:x[1]||(x[1]=$=>L(l.value.id,"creator"))})]))]),_:1}),a(c,{label:"\u7528\u6237ID"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Xt,u(l.value.user_id||"-"),1))]),_:1}),a(c,{label:"\u5E94\u7528ID"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Zt,u(l.value.app_id||"-"),1))]),_:1}),a(c,{label:"\u63D0\u4F9B\u5546"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ea,u(l.value.provider_name),1))]),_:1}),a(c,{label:"\u6A21\u578B"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ta,u(l.value.model||"-"),1))]),_:1}),a(c,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",aa,u(w.$t(`dict.model_type.${l.value.model_type}`)),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u6570\u636E",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",la,u(l.value.request_data||"-"),1))]),_:1}),a(c,{label:"\u54CD\u5E94\u6570\u636E",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",oa,u(l.value.response_data||l.value.completion||"-"),1))]),_:1}),a(c,{label:"\u5206\u7EC4\u540D\u79F0"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",na,u(l.value.spend.group_name||"-"),1))]),_:1}),a(c,{label:"\u5206\u7EC4\u6298\u6263"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ua,u(l.value.spend.group_discount>0?Number((l.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1}),a(c,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",sa,u(l.value.spend.billing_methods?w.$t(`model.dict.billing_methods.${l.value.spend.billing_methods}`):"-"),1))]),_:1}),a(c,{label:"\u603B\u82B1\u8D39"},{label:e(()=>[D("span",null,[s(" \u603B\u82B1\u8D39 "),a(ae,{content:w.$t("text.columns.tooltip.total_spend_tokens"),"content-style":{whiteSpace:"nowrap",maxWidth:"none"}},{default:e(()=>[a(te,{style:{color:"var(--color-text-3)"}})]),_:1},8,["content"])])]),default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",{key:1,class:"spend",onClick:x[2]||(x[2]=$=>l.value.status===1||l.value.status===2?ee(l.value.spend,l.value.model_type):void 0)},[l.value.status===1||l.value.status===2?(t(),n(be,{key:0,"model-value":l.value.spend.total_spend_tokens},null,8,["model-value"])):(t(),d("span",ia," - "))]))]),_:1}),a(c,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",da,[l.value.conn_time>3e4?(t(),n(b,{key:0,color:"red"},{default:e(()=>[s(u(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>15e3?(t(),n(b,{key:1,color:"orange"},{default:e(()=>[s(u(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>5e3?(t(),n(b,{key:2,color:"gold"},{default:e(()=>[s(u(l.value.conn_time)+" ms ",1)]),_:1})):(t(),n(b,{key:3,color:"green"},{default:e(()=>[s(u(l.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ra,[l.value.duration>18e4?(t(),n(b,{key:0,color:"red"},{default:e(()=>[s(u(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>12e4?(t(),n(b,{key:1,color:"orange"},{default:e(()=>[s(u(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>9e4?(t(),n(b,{key:2,color:"gold"},{default:e(()=>[s(u(l.value.duration)+" ms ",1)]),_:1})):(t(),n(b,{key:3,color:"green"},{default:e(()=>[s(u(l.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u603B\u8017\u65F6"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",_a,[l.value.total_time>18e4?(t(),n(b,{key:0,color:"red"},{default:e(()=>[s(u(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>12e4?(t(),n(b,{key:1,color:"orange"},{default:e(()=>[s(u(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),n(b,{key:2,color:"gold"},{default:e(()=>[s(u(l.value.total_time)+" ms ",1)]),_:1})):(t(),n(b,{key:3,color:"green"},{default:e(()=>[s(u(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u7ED3\u679C"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ma,[l.value.status===1?(t(),n(b,{key:0,color:"green"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),n(b,{key:1,color:"gold"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),n(b,{key:2,color:"orange"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1})):(t(),n(b,{key:3,color:"red"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(c,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",pa,u(l.value.client_ip||"-"),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",ca,u(l.value.req_time||"-"),1))]),_:1}),a(c,{label:"\u9519\u8BEF\u4FE1\u606F"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",fa,u(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[oe,["user","reseller"]]]),y((t(),n(T,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(c,{label:"Trace ID",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ya,[s(u(l.value.trace_id)+" ",1),a(H,{class:"copy-btn",onClick:x[3]||(x[3]=$=>B(l.value.trace_id))})]))]),_:1}),a(c,{label:"Host",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",va,u(l.value.host||"-"),1))]),_:1}),a(c,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ka,[s(u(l.value.is_smart_match?"-":l.value.creator)+" ",1),l.value.is_smart_match?st("",!0):(t(),n(H,{key:0,class:"copy-btn",onClick:x[4]||(x[4]=$=>L(l.value.id,"creator"))}))]))]),_:1}),a(c,{label:"\u7528\u6237ID"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",ba,u(l.value.is_smart_match?"-":l.value.user_id||"-"),1))]),_:1}),a(c,{label:"\u5E94\u7528ID"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",ga,u(l.value.is_smart_match?"-":l.value.app_id||"-"),1))]),_:1}),a(c,{label:"\u63D0\u4F9B\u5546"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ha,u(l.value.provider_name),1))]),_:1}),a(c,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",wa,u(w.$t(`dict.model_type.${l.value.model_type}`)),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",xa,u(l.value.model_name||"-"),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",$a,u(l.value.model||"-"),1))]),_:1}),a(c,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Fa,u(l.value.real_model_name),1))]),_:1}),a(c,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Va,u(l.value.real_model),1))]),_:1}),a(c,{label:"\u542F\u7528\u540E\u5907"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ca,u(w.$t(`text.dict.is_enable_fallback.${l.value.is_enable_fallback||!1}`)),1))]),_:1}),a(c,{label:"\u540E\u5907\u4EE3\u7406"},{default:e(()=>{var $,A;return[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Da,u(((A=($=l.value)==null?void 0:$.fallback_config)==null?void 0:A.model_agent_name)||"-"),1))]}),_:1}),a(c,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var $,A;return[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Ba,u(((A=($=l.value)==null?void 0:$.fallback_config)==null?void 0:A.model)||"-"),1))]}),_:1}),a(c,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ea,u(w.$t(`text.dict.is_enable_forward.${l.value.is_enable_forward||!1}`)),1))]),_:1}),a(c,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ia,u(l.value.is_enable_forward?w.$t(`text.dict.forward_rule.${l.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(c,{label:"\u542F\u7528\u4EE3\u7406"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Aa,u(w.$t(`text.dict.is_enable_model_agent.${l.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(c,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var $,A;return[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Sa,u(((A=($=l.value)==null?void 0:$.model_agent)==null?void 0:A.name)||"-"),1))]}),_:1}),a(c,{label:"\u5BC6\u94A5",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",qa,[s(u(l.value.key?l.value.key.length>0?l.value.key.substr(0,l.value.key.length/2>10?10:l.value.key.length/2)+"************************************"+l.value.key.substr(-(l.value.key.length/2>5?5:l.value.key.length/2)):l.value.key:"-")+" ",1),a(H,{class:"copy-btn",onClick:x[5]||(x[5]=$=>L(l.value.id,"key"))})]))]),_:1}),a(c,{label:"\u8BF7\u6C42\u6570\u636E",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ua,u(l.value.request_data||"-"),1))]),_:1}),a(c,{label:"\u54CD\u5E94\u6570\u636E",span:2},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",za,u(l.value.response_data||l.value.completion||"-"),1))]),_:1}),a(c,{label:"\u5206\u7EC4\u540D\u79F0"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",La,u(l.value.spend.group_name||"-"),1))]),_:1}),a(c,{label:"\u5206\u7EC4\u6298\u6263"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Na,u(l.value.spend.group_discount>0?Number((l.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1}),a(c,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Pa,u(l.value.spend.billing_methods?w.$t(`model.dict.billing_methods.${l.value.spend.billing_methods}`):"-"),1))]),_:1}),a(c,{label:"\u603B\u82B1\u8D39"},{label:e(()=>[D("span",null,[s(" \u603B\u82B1\u8D39 "),a(ae,{content:w.$t("text.columns.tooltip.total_spend_tokens"),"content-style":{whiteSpace:"nowrap",maxWidth:"none"}},{default:e(()=>[a(te,{style:{color:"var(--color-text-3)"}})]),_:1},8,["content"])])]),default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",{key:1,class:"spend",onClick:x[6]||(x[6]=$=>l.value.status===1||l.value.status===2?ee(l.value.spend,l.value.model_type):void 0)},[l.value.status===1||l.value.status===2?(t(),n(be,{key:0,"model-value":l.value.spend.total_spend_tokens},null,8,["model-value"])):(t(),d("span",Ma," - "))]))]),_:1}),a(c,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ha,[l.value.conn_time>1e4?(t(),n(b,{key:0,color:"red"},{default:e(()=>[s(u(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>5e3?(t(),n(b,{key:1,color:"orange"},{default:e(()=>[s(u(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>3e3?(t(),n(b,{key:2,color:"gold"},{default:e(()=>[s(u(l.value.conn_time)+" ms ",1)]),_:1})):(t(),n(b,{key:3,color:"green"},{default:e(()=>[s(u(l.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ta,[l.value.duration>12e4?(t(),n(b,{key:0,color:"red"},{default:e(()=>[s(u(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>9e4?(t(),n(b,{key:1,color:"orange"},{default:e(()=>[s(u(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>6e4?(t(),n(b,{key:2,color:"gold"},{default:e(()=>[s(u(l.value.duration)+" ms ",1)]),_:1})):(t(),n(b,{key:3,color:"green"},{default:e(()=>[s(u(l.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u603B\u8017\u65F6"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ga,[l.value.total_time>12e4?(t(),n(b,{key:0,color:"red"},{default:e(()=>[s(u(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),n(b,{key:1,color:"orange"},{default:e(()=>[s(u(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>6e4?(t(),n(b,{key:2,color:"gold"},{default:e(()=>[s(u(l.value.total_time)+" ms ",1)]),_:1})):(t(),n(b,{key:3,color:"green"},{default:e(()=>[s(u(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u5185\u8017"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ya,[l.value.internal_time>500?(t(),n(b,{key:0,color:"red"},{default:e(()=>[s(u(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>300?(t(),n(b,{key:1,color:"orange"},{default:e(()=>[s(u(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>100?(t(),n(b,{key:2,color:"gold"},{default:e(()=>[s(u(l.value.internal_time)+" ms ",1)]),_:1})):(t(),n(b,{key:3,color:"green"},{default:e(()=>[s(u(l.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u7ED3\u679C"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ja,[l.value.status===1?(t(),n(b,{key:0,color:"green"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),n(b,{key:1,color:"gold"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),n(b,{key:2,color:"orange"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1})):(t(),n(b,{key:3,color:"red"},{default:e(()=>[s(u(w.$t(`text.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(c,{label:"\u672C\u5730IP"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Ra,u(l.value.local_ip||"-"),1))]),_:1}),a(c,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Oa,u(l.value.client_ip||"-"),1))]),_:1}),a(c,{label:"\u8FDC\u7A0BIP"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Qa,u(l.value.remote_ip||"-"),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Wa,u(l.value.req_time||"-"),1))]),_:1}),a(c,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Ja,u(l.value.created_at||"-"),1))]),_:1}),a(c,{label:"\u9519\u8BEF\u4FE1\u606F"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ka,u(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[oe,["admin"]]]),y((t(),n(T,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(c,null,{default:e(()=>[a(he,{type:"card"},{default:e(()=>[a(le,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[r(p)?(t(),n(m,{key:0,animation:!0},{default:e(()=>[a(_,{rows:3})]),_:1})):(t(),n(re,{key:1},{default:e(()=>[l.value.model_agent?(t(),n(r(Pt),{key:0,data:l.value.model_agent,"show-length":!0},null,8,["data"])):(t(),d("span",Xa,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[oe,["admin"]]]),a(Q,{visible:P.value,"onUpdate:visible":x[8]||(x[8]=$=>P.value=$),width:1068,"body-style":{maxHeight:"520px"},"modal-style":{padding:"25px 20px 20px 20px"},"hide-title":"","hide-cancel":"","unmount-on-close":"",simple:"","ok-text":"\u5173\u95ED"},{default:e(()=>[a(Le,{modelValue:E.value,"onUpdate:modelValue":x[7]||(x[7]=$=>E.value=$),"model-type":M.value},null,8,["modelValue","model-type"])]),_:1},8,["visible"])])}}});const tl=Be(el,[["__scopeId","data-v-78282bad"]]),al={class:"container"},ll={class:"action-icon"},ol={class:"action-icon"},nl={id:"tableSetting"},ul={style:{"margin-right":"4px",cursor:"move"}},sl={class:"title"},il=["onClick"],dl={key:1},rl={name:"LogGeneralList"},_l=Ee({...rl,setup(ge){const{loading:de,setLoading:p}=ze(!0),{t:h}=tt(),l=localStorage.getItem("userRole"),X=Ce({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),O=()=>({app_id:F(),trace_id:F(),user_id:F(),key:"",models:[],model_agents:[],total_time:F(),status:F(),req_time:[De().format("YYYY-MM-DD 00:00:00"),De().format("YYYY-MM-DD 23:59:59")]}),Z=F([]),v=F(O()),B=F([]),L=F([]),P=F("medium"),E={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},M=Ce({...E}),ee=ye(()=>[{name:h("size.mini"),value:"mini"},{name:h("size.small"),value:"small"},{name:h("size.medium"),value:"medium"},{name:h("size.large"),value:"large"}]),w=ye(()=>[{title:h(l==="reseller"||l==="admin"?"text.columns.user_id":"text.columns.app_id"),dataIndex:l==="reseller"||l==="admin"?"user_id":"app_id",slotName:l==="reseller"||l==="admin"?"user_id":"app_id",align:"center",width:75},{title:h("text.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:h("text.columns.input_tokens"),dataIndex:"input_tokens",slotName:"input_tokens",align:"center",width:85},{title:h("text.columns.output_tokens"),dataIndex:"output_tokens",slotName:"output_tokens",align:"center",width:85},{title:h("text.columns.total_spend_tokens"),dataIndex:"total_spend_tokens",slotName:"total_spend_tokens",align:"center",width:110,slots:{title:()=>[N("div",{style:{display:"flex",alignItems:"center",gap:"3px",justifyContent:"center"}},[N("span",h("text.columns.total_spend_tokens")),N(ie,{content:h("text.columns.tooltip.total_spend_tokens"),contentStyle:{whiteSpace:"nowrap",maxWidth:"none"}},{default:()=>N(ke,{style:{color:"var(--color-text-3)"}})})])]}},{title:h("text.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center",width:60},{title:h("text.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:h("text.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:h("text.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center",slots:{title:()=>[N("div",{style:{display:"flex",alignItems:"center",gap:"3px",justifyContent:"center"}},[N("span",h("text.columns.total_time")),N(ie,{content:h("text.columns.tooltip.total_time"),contentStyle:{whiteSpace:"nowrap",maxWidth:"none"}},{default:()=>N(ke,{style:{color:"var(--color-text-3)"}})})])]}},{title:h("text.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:h("text.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:h("text.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:h("text.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);(l==="reseller"||l==="user")&&w.value.splice(9,1);const x=ye(()=>[{label:h("text.dict.status.1"),value:1},{label:h("text.dict.status.2"),value:2},{label:h("text.dict.status.-1"),value:-1}]);l==="admin"&&x.value.push({label:h("text.dict.status.3"),value:3},{label:h("text.dict.status.-100"),value:-100});const _=async(i={...E,...v.value})=>{p(!0);try{const{data:f}=await Tt(i);Z.value=f.items,M.current=i.current,M.pageSize=i.pageSize,M.total=f.paging.total}catch{}finally{p(!1)}};_();const m=()=>{_({...E,...v.value})},H=i=>{_({...E,...v.value,current:i})},c=i=>{E.pageSize=i,_({...E,...v.value})},te=()=>{v.value=O(),m()},ae=(i,f)=>{P.value=i},b=(i,f,S)=>{i?B.value.splice(S,0,f):B.value=L.value.filter(I=>I.dataIndex!==f.dataIndex)},T=(i,f,S,I=!1)=>{const q=I?ve(i):i;return f>-1&&S>-1&&q.splice(f,1,q.splice(S,1,q[f]).pop()),q},re=i=>{i&&vt(()=>{const f=document.getElementById("tableSetting");new Yt(f,{onEnd(S){const{oldIndex:I,newIndex:q}=S;T(B.value,I,q),T(L.value,I,q)}})})};Ie(()=>w.value,i=>{B.value=ve(i),B.value.forEach((f,S)=>{f.checked=!0}),L.value=ve(B.value)},{deep:!0,immediate:!0});const le=F([]);l==="user"&&(async()=>{try{const{data:i}=await Gt();le.value=i.items}catch{}})();const Q=F([]);(async()=>{try{const{data:i}=await jt();Q.value=i.items}catch{}})();const $=F([]);l==="admin"&&(async()=>{try{const{data:i}=await Rt();$.value=i.items}catch{}})();const _e=F(!1),we=F(),Ne=i=>{_e.value=!0,we.value=i},Pe=()=>{_e.value=!1},me=F(!1),pe=F(),xe=F(),Me=async(i,f)=>{me.value=!0,pe.value=i,xe.value=f};return(i,f)=>{const S=at,I=kt,q=bt,ne=gt,G=ht,C=wt,V=xt,W=$t,ue=Ft,$e=Vt,se=Ct,He=Dt,Fe=Bt,Te=Et,ce=It,Ve=lt,Ge=qe,fe=ie,Ye=ot,je=At,Re=St,Oe=nt,Qe=ut,We=qt,Je=Ut,g=Se,Ke=zt,Xe=Lt,Ze=Ue,et=Nt,k=Ae("permission");return t(),d("div",al,[a(q,{class:"container-breadcrumb"},{default:e(()=>[a(I,null,{default:e(()=>[a(S)]),_:1}),a(I,null,{default:e(()=>[s(u(i.$t("menu.general")),1)]),_:1}),a(I,null,{default:e(()=>[s(u(i.$t("menu.general.list")),1)]),_:1})]),_:1}),a(et,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(se,null,{default:e(()=>[a(V,{flex:1},{default:e(()=>[a(He,{model:v.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[y((t(),n(se,{gutter:16},{default:e(()=>[y((t(),n(V,{span:8},{default:e(()=>[a(C,{field:"app_id",label:i.$t("text.form.app_id")},{default:e(()=>[a(G,{modelValue:v.value.app_id,"onUpdate:modelValue":f[0]||(f[0]=o=>v.value.app_id=o),placeholder:i.$t("text.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(Y,null,j(le.value,o=>(t(),n(ne,{key:o.app_id,value:o.app_id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["user"]]]),y((t(),n(V,{span:8},{default:e(()=>[a(C,{field:"trace_id",label:i.$t("text.form.user.trace_id")},{default:e(()=>[a(W,{modelValue:v.value.trace_id,"onUpdate:modelValue":f[1]||(f[1]=o=>v.value.trace_id=o),placeholder:i.$t("text.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["reseller"]]]),y((t(),n(V,{span:8},{default:e(()=>[a(C,{field:"user_id",label:i.$t("text.form.reseller.user_id")},{default:e(()=>[a(ue,{modelValue:v.value.user_id,"onUpdate:modelValue":f[2]||(f[2]=o=>v.value.user_id=o),placeholder:i.$t("text.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["reseller"]]]),y((t(),n(V,{span:8},{default:e(()=>[a(C,{field:"key",label:i.$t("text.form.key")},{default:e(()=>[a(W,{modelValue:v.value.key,"onUpdate:modelValue":f[3]||(f[3]=o=>v.value.key=o),placeholder:i.$t("text.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["user"]]]),y((t(),n(V,{span:8},{default:e(()=>[a(C,{field:"trace_id",label:i.$t("text.form.user.trace_id")},{default:e(()=>[a(W,{modelValue:v.value.trace_id,"onUpdate:modelValue":f[4]||(f[4]=o=>v.value.trace_id=o),placeholder:i.$t("text.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["user"]]]),y((t(),n(V,{span:8},{default:e(()=>[a(C,{field:"total_time",label:i.$t("text.form.total_time")},{default:e(()=>[a(ue,{modelValue:v.value.total_time,"onUpdate:modelValue":f[5]||(f[5]=o=>v.value.total_time=o),placeholder:i.$t("text.form.total_time.placeholder"),precision:0,min:1,"allow-clear":""},{append:e(()=>[s(" ms ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[k,["reseller"]]]),a(V,{span:8},{default:e(()=>[a(C,{field:"models",label:i.$t("text.form.models")},{default:e(()=>[a(G,{modelValue:v.value.models,"onUpdate:modelValue":f[6]||(f[6]=o=>v.value.models=o),placeholder:i.$t("text.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(Y,null,j(Q.value,o=>(t(),n(ne,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(V,{span:8},{default:e(()=>[a(C,{field:"status",label:i.$t("text.form.status")},{default:e(()=>[a(G,{modelValue:v.value.status,"onUpdate:modelValue":f[7]||(f[7]=o=>v.value.status=o),placeholder:i.$t("text.form.selectDefault"),options:r(x),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),a(V,{span:8},{default:e(()=>[a(C,{field:"req_time",label:i.$t("text.form.req_time")},{default:e(()=>[a($e,{modelValue:v.value.req_time,"onUpdate:modelValue":f[8]||(f[8]=o=>v.value.req_time=o),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[k,["user","reseller"]]]),y((t(),n(se,{gutter:16},{default:e(()=>[a(V,{span:5},{default:e(()=>[a(C,{field:"trace_id",label:i.$t("text.form.trace_id"),"label-col-props":{span:6}},{default:e(()=>[a(W,{modelValue:v.value.trace_id,"onUpdate:modelValue":f[9]||(f[9]=o=>v.value.trace_id=o),placeholder:i.$t("text.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(V,{span:6},{default:e(()=>[a(C,{field:"models",label:i.$t("text.form.models"),"label-col-props":{span:5}},{default:e(()=>[a(G,{modelValue:v.value.models,"onUpdate:modelValue":f[10]||(f[10]=o=>v.value.models=o),placeholder:i.$t("text.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(Y,null,j(Q.value,o=>(t(),n(ne,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(V,{span:5},{default:e(()=>[a(C,{field:"key",label:i.$t("text.form.key"),"label-col-props":{span:6}},{default:e(()=>[a(W,{modelValue:v.value.key,"onUpdate:modelValue":f[11]||(f[11]=o=>v.value.key=o),placeholder:i.$t("text.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(V,{span:8},{default:e(()=>[a(C,{field:"total_time",label:i.$t("text.form.total_time")},{default:e(()=>[a(ue,{modelValue:v.value.total_time,"onUpdate:modelValue":f[12]||(f[12]=o=>v.value.total_time=o),placeholder:i.$t("text.form.total_time.placeholder"),precision:0,min:1,"allow-clear":""},{append:e(()=>[s(" ms ")]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(V,{span:5},{default:e(()=>[a(C,{field:"user_id",label:i.$t("text.form.user_id"),"label-col-props":{span:6}},{default:e(()=>[a(ue,{modelValue:v.value.user_id,"onUpdate:modelValue":f[13]||(f[13]=o=>v.value.user_id=o),placeholder:i.$t("text.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(V,{span:6},{default:e(()=>[a(C,{field:"model_agents",label:i.$t("text.form.model_agents"),"label-col-props":{span:5}},{default:e(()=>[a(G,{modelValue:v.value.model_agents,"onUpdate:modelValue":f[14]||(f[14]=o=>v.value.model_agents=o),placeholder:i.$t("text.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(Y,null,j($.value,o=>(t(),n(ne,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(V,{span:5},{default:e(()=>[a(C,{field:"status",label:i.$t("text.form.status"),"label-col-props":{span:6}},{default:e(()=>[a(G,{modelValue:v.value.status,"onUpdate:modelValue":f[15]||(f[15]=o=>v.value.status=o),placeholder:i.$t("text.form.selectDefault"),options:r(x),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),a(V,{span:8},{default:e(()=>[a(C,{field:"req_time",label:i.$t("text.form.req_time")},{default:e(()=>[a($e,{modelValue:v.value.req_time,"onUpdate:modelValue":f[16]||(f[16]=o=>v.value.req_time=o),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[k,["admin"]]])]),_:1},8,["model"])]),_:1}),a(Fe,{style:{height:"84px"},direction:"vertical"}),a(V,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(Ge,{direction:"vertical",size:18},{default:e(()=>[a(ce,{type:"primary",onClick:m},{icon:e(()=>[a(Te)]),default:e(()=>[s(" "+u(i.$t("text.form.search")),1)]),_:1}),a(ce,{onClick:te},{icon:e(()=>[a(Ve)]),default:e(()=>[s(" "+u(i.$t("text.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(Fe,{style:{"margin-top":"0"}}),a(se,{style:{"margin-bottom":"16px"}},{default:e(()=>[a(V,{span:24,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(fe,{content:i.$t("actions.refresh")},{default:e(()=>[D("div",{class:"action-icon",onClick:m},[a(Ve,{size:"18"})])]),_:1},8,["content"]),a(Re,{onSelect:ae},{content:e(()=>[(t(!0),d(Y,null,j(r(ee),o=>(t(),n(je,{key:o.value,value:o.value,class:yt({active:o.value===P.value})},{default:e(()=>[D("span",null,u(o.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(fe,{content:i.$t("actions.density")},{default:e(()=>[D("div",ll,[a(Ye,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(fe,{content:i.$t("actions.column_setting")},{default:e(()=>[a(Je,{trigger:"click",position:"bl",onPopupVisibleChange:re},{content:e(()=>[D("div",nl,[(t(!0),d(Y,null,j(L.value,(o,U)=>(t(),d("div",{key:o.dataIndex,class:"setting"},[D("div",ul,[a(Qe)]),D("div",null,[a(We,{modelValue:o.checked,"onUpdate:modelValue":z=>o.checked=z,onChange:z=>b(z,o,U)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),D("div",sl,u(o.title==="#"?"\u5E8F\u5217\u53F7":o.title),1)]))),128))])]),default:e(()=>[D("div",ol,[a(Oe,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(Ke,{"row-key":"id",loading:r(de),pagination:M,columns:B.value,data:Z.value,bordered:!1,size:P.value,"row-selection":X,onPageChange:H,onPageSizeChange:c},{user_id:e(({record:o})=>[s(u(o.is_smart_match?"-":o.user_id),1)]),input_tokens:e(({record:o})=>{var U,z,J,K;return[s(u((U=o.spend.text)!=null&&U.input_tokens?r(R)((z=o.spend.text)==null?void 0:z.input_tokens):r(R)((J=o.spend.tiered_text)==null?void 0:J.input_tokens)?r(R)((K=o.spend.tiered_text)==null?void 0:K.input_tokens):o.status===1?0:"-"),1)]}),output_tokens:e(({record:o})=>{var U,z,J,K;return[s(u((U=o.spend.text)!=null&&U.output_tokens?r(R)((z=o.spend.text)==null?void 0:z.output_tokens):r(R)((J=o.spend.tiered_text)==null?void 0:J.output_tokens)?r(R)((K=o.spend.tiered_text)==null?void 0:K.output_tokens):o.status===1?0:"-"),1)]}),total_spend_tokens:e(({record:o})=>[D("span",{class:"spend",onClick:U=>o.status===1||o.status===2?Me(o.spend,o.model_type):void 0},[o.status===1||o.status===2?(t(),n(be,{key:0,"model-value":o.spend.total_spend_tokens},null,8,["model-value"])):(t(),d("span",dl," - "))],8,il)]),stream:e(({record:o})=>[s(u(i.$t(`text.dict.stream.${o.stream||!1}`)),1)]),conn_time:e(({record:o})=>[o.conn_time>3e4?y((t(),n(g,{key:0,color:"red"},{default:e(()=>[s(u(o.conn_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.conn_time>15e3?y((t(),n(g,{key:1,color:"orange"},{default:e(()=>[s(u(o.conn_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.conn_time>5e3?y((t(),n(g,{key:2,color:"gold"},{default:e(()=>[s(u(o.conn_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):y((t(),n(g,{key:3,color:"green"},{default:e(()=>[s(u(o.conn_time||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),o.conn_time>1e4?y((t(),n(g,{key:4,color:"red"},{default:e(()=>[s(u(o.conn_time),1)]),_:2},1024)),[[k,["admin"]]]):o.conn_time>5e3?y((t(),n(g,{key:5,color:"orange"},{default:e(()=>[s(u(o.conn_time),1)]),_:2},1024)),[[k,["admin"]]]):o.conn_time>3e3?y((t(),n(g,{key:6,color:"gold"},{default:e(()=>[s(u(o.conn_time),1)]),_:2},1024)),[[k,["admin"]]]):y((t(),n(g,{key:7,color:"green"},{default:e(()=>[s(u(o.conn_time||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),duration:e(({record:o})=>[o.duration>18e4?y((t(),n(g,{key:0,color:"red"},{default:e(()=>[s(u(o.duration),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.duration>12e4?y((t(),n(g,{key:1,color:"orange"},{default:e(()=>[s(u(o.duration),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.duration>9e4?y((t(),n(g,{key:2,color:"gold"},{default:e(()=>[s(u(o.duration),1)]),_:2},1024)),[[k,["user","reseller"]]]):y((t(),n(g,{key:3,color:"green"},{default:e(()=>[s(u(o.duration||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),o.duration>12e4?y((t(),n(g,{key:4,color:"red"},{default:e(()=>[s(u(o.duration),1)]),_:2},1024)),[[k,["admin"]]]):o.duration>9e4?y((t(),n(g,{key:5,color:"orange"},{default:e(()=>[s(u(o.duration),1)]),_:2},1024)),[[k,["admin"]]]):o.duration>6e4?y((t(),n(g,{key:6,color:"gold"},{default:e(()=>[s(u(o.duration),1)]),_:2},1024)),[[k,["admin"]]]):y((t(),n(g,{key:7,color:"green"},{default:e(()=>[s(u(o.duration||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),total_time:e(({record:o})=>[o.total_time>18e4?y((t(),n(g,{key:0,color:"red"},{default:e(()=>[s(u(o.total_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.total_time>12e4?y((t(),n(g,{key:1,color:"orange"},{default:e(()=>[s(u(o.total_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.total_time>9e4?y((t(),n(g,{key:2,color:"gold"},{default:e(()=>[s(u(o.total_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):y((t(),n(g,{key:3,color:"green"},{default:e(()=>[s(u(o.total_time||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),o.total_time>12e4?y((t(),n(g,{key:4,color:"red"},{default:e(()=>[s(u(o.total_time),1)]),_:2},1024)),[[k,["admin"]]]):o.total_time>9e4?y((t(),n(g,{key:5,color:"orange"},{default:e(()=>[s(u(o.total_time),1)]),_:2},1024)),[[k,["admin"]]]):o.total_time>6e4?y((t(),n(g,{key:6,color:"gold"},{default:e(()=>[s(u(o.total_time),1)]),_:2},1024)),[[k,["admin"]]]):y((t(),n(g,{key:7,color:"green"},{default:e(()=>[s(u(o.total_time||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),internal_time:e(({record:o})=>[o.internal_time>1e3?y((t(),n(g,{key:0,color:"red"},{default:e(()=>[s(u(o.internal_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.internal_time>500?y((t(),n(g,{key:1,color:"orange"},{default:e(()=>[s(u(o.internal_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):o.internal_time>300?y((t(),n(g,{key:2,color:"gold"},{default:e(()=>[s(u(o.internal_time),1)]),_:2},1024)),[[k,["user","reseller"]]]):y((t(),n(g,{key:3,color:"green"},{default:e(()=>[s(u(o.internal_time||"-"),1)]),_:2},1024)),[[k,["user","reseller"]]]),o.internal_time>500?y((t(),n(g,{key:4,color:"red"},{default:e(()=>[s(u(o.internal_time),1)]),_:2},1024)),[[k,["admin"]]]):o.internal_time>300?y((t(),n(g,{key:5,color:"orange"},{default:e(()=>[s(u(o.internal_time),1)]),_:2},1024)),[[k,["admin"]]]):o.internal_time>100?y((t(),n(g,{key:6,color:"gold"},{default:e(()=>[s(u(o.internal_time),1)]),_:2},1024)),[[k,["admin"]]]):y((t(),n(g,{key:7,color:"green"},{default:e(()=>[s(u(o.internal_time||"-"),1)]),_:2},1024)),[[k,["admin"]]])]),status:e(({record:o})=>[o.status===-1?(t(),n(g,{key:0,color:"red"},{default:e(()=>[s(u(i.$t(`text.dict.status.${o.status}`)),1)]),_:2},1024)):o.status===2?(t(),n(g,{key:1,color:"gold"},{default:e(()=>[s(u(i.$t(`text.dict.status.${o.status}`)),1)]),_:2},1024)):o.status===3?(t(),n(g,{key:2,color:"orange"},{default:e(()=>[s(u(i.$t(`text.dict.status.${o.status}`)),1)]),_:2},1024)):(t(),n(g,{key:3,color:"green"},{default:e(()=>[s(u(i.$t(`text.dict.status.${o.status}`)),1)]),_:2},1024))]),operations:e(({record:o})=>[a(ce,{type:"text",size:"small",onClick:U=>Ne(o.id)},{default:e(()=>[s(u(i.$t("text.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(Xe,{title:i.$t("menu.general.detail"),width:700,footer:!1,visible:_e.value,"unmount-on-close":"","render-to-body":"",onCancel:Pe},{default:e(()=>[a(tl,{id:we.value},null,8,["id"])]),_:1},8,["title","visible"]),a(Ze,{visible:me.value,"onUpdate:visible":f[18]||(f[18]=o=>me.value=o),width:1068,"body-style":{maxHeight:"520px"},"modal-style":{padding:"25px 20px 20px 20px"},"hide-title":"","hide-cancel":"","unmount-on-close":"",simple:"","ok-text":"\u5173\u95ED"},{default:e(()=>[a(Le,{modelValue:pe.value,"onUpdate:modelValue":f[17]||(f[17]=o=>pe.value=o),"model-type":xe.value},null,8,["modelValue","model-type"])]),_:1},8,["visible"])]),_:1})])}}});const Tl=Be(_l,[["__scopeId","data-v-cdeaaddd"]]);export{Tl as default};
