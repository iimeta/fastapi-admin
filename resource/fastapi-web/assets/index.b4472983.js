import{_ as ce,u as Te,G as Ye,p as He,y as Re,i as je,z as Je}from"./index.b24b4575.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{d as me,e as D,w as pe,bS as fe,B as t,C as d,bu as k,aD as o,aG as e,aH as a,u as r,aL as p,aM as n,aE as Oe,g as Ge,bJ as Ke,bK as Qe,ad as We,bL as Xe,bM as ye,bN as Ze,bi as ve,bb as ea,b6 as aa,r as re,c as ee,aJ as N,aI as M,F as q,D as ta,bT as _e,n as la,aK as oa,aF as ua,bA as na,bB as sa,b2 as ia,bC as da,b1 as ra,bU as _a,bD as ca,aS as ma,b5 as pa,bE as fa,ab as ya,aU as va,bj as ha,bl as ka,bm as ba,b4 as ga,bF as wa,bH as $a,aV as Da,bI as Ca}from"./arco.a9260898.js";import{u as he}from"./loading.1f346a94.js";import{q as Fa}from"./common.df364eef.js";import{V as Ba,f as Va,g as Ea,h as Ia}from"./styles.32b87682.js";import{g as Aa}from"./app.ffe60f6c.js";import{c as ae,S as xa}from"./sortable.esm.a0dfbf42.js";import{q as qa}from"./model.13b6297c.js";import{f as Sa}from"./agent.53baf448.js";/* empty css               *//* empty css                *//* empty css                */import{u as za}from"./vue.ad52ddbe.js";import"./chart.d103b168.js";const La={style:{margin:"10px 0 30px 10px"}},Ua={key:1},Na={key:1},Ma={key:1},Pa={key:1},Ta={key:1},Ya={key:1},Ha={key:1},Ra={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},ja={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ja={key:1},Oa={key:1},Ga={key:1},Ka={key:1},Qa={key:1},Wa={key:1},Xa={key:1},Za={key:1},et={key:1},at={key:1},tt={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},lt={key:1},ot={key:1},ut={key:1},nt={key:1},st={key:1},it={key:1},dt={key:1},rt={key:1},_t={key:1},ct={key:1},mt={key:1},pt={key:1},ft={key:1},yt={key:1},vt={key:1},ht={key:1},kt={key:1},bt={key:1},gt={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},wt={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},$t={key:1},Dt={key:1},Ct={key:1},Ft={key:1},Bt={key:1},Vt={key:1},Et={key:1},It={key:1},At={key:1},xt={key:1},qt={key:1},St={key:1},zt={key:1},Lt={key:1},Ut={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Nt={key:1},Mt={name:"AudioDetail"},Pt=me({...Mt,props:{id:{type:String,default:""}},setup(te){const I=te,{loading:m,setLoading:P}=he(!0),l=D({}),{copy:z,copied:G}=za(),{proxy:H}=Ge();(async(v={id:I.id})=>{P(!0);try{const{data:y}=await Va(v);l.value=y}catch{}finally{P(!1)}})();const T=v=>{z(v)};pe(G,()=>{G.value&&H.$message.success("\u590D\u5236\u6210\u529F")});const Y=async(v,y)=>{const{data:_}=await Ea({id:v,field:y});z(_.value)};return(v,y)=>{const _=Ke,s=Qe,F=We,c=Xe,h=ye,V=Ze,L=ve,K=ea,R=aa,S=fe("permission");return t(),d("div",La,[k((t(),o(V,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(c,{label:"Trace ID",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ua,[p(n(l.value.trace_id)+" ",1),a(F,{class:"copy-btn",onClick:y[0]||(y[0]=g=>T(l.value.trace_id))})]))]),_:1}),a(c,{label:"Host",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Na,n(l.value.host||"-"),1))]),_:1}),a(c,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ma,[p(n(l.value.creator)+" ",1),a(F,{class:"copy-btn",onClick:y[1]||(y[1]=g=>Y(l.value.id,"creator"))})]))]),_:1}),a(c,{label:"\u7528\u6237ID"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Pa,n(l.value.user_id||"-"),1))]),_:1}),a(c,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Ta,n(l.value.app_id||"-"),1))]),_:1}),a(c,{label:"\u6A21\u578B"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ya,n(l.value.model||"-"),1))]),_:1}),a(c,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ha,n(v.$t(`dict.model_type.${l.value.type}`)),1))]),_:1}),a(c,{label:"\u63D0\u95EE",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ra,n(l.value.input||"-"),1))]),_:1}),a(c,{label:"\u56DE\u7B54"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ja,n(l.value.text||"-"),1))]),_:1}),a(c,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ja,n(v.$t(`chat.dict.billing_method.${l.value.audio_quota.billing_method}`)),1))]),_:1}),a(c,{label:"\u82B1\u8D39\u4EE4\u724C\u6570",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Oa,n(l.value.total_tokens?l.value.total_tokens:l.value.status===1&&l.value.audio_quota.billing_method===2?0:"-"),1))]),_:1}),a(c,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ga,n(l.value.type!==6&&l.value.audio_quota.prompt_ratio||"-"),1))]),_:1}),a(c,{label:"\u56DE\u7B54\u500D\u7387",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ka,n(l.value.type!==5&&l.value.audio_quota.completion_ratio||"-"),1))]),_:1}),a(c,{label:"\u63D0\u95EE\u5B57\u7B26\u6570",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Qa,n(l.value.characters||"-"),1))]),_:1}),a(c,{label:"\u56DE\u7B54\u5206\u949F\u6570",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Wa,n(l.value.minute||"-"),1))]),_:1}),a(c,{label:"\u603B\u8017\u65F6",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Xa,[l.value.total_time>18e4?(t(),o(h,{key:0,color:"red"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>12e4?(t(),o(h,{key:1,color:"orange"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),o(h,{key:2,color:"gold"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):(t(),o(h,{key:3,color:"green"},{default:e(()=>[p(n(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u7ED3\u679C",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Za,[l.value.status===1?(t(),o(h,{key:0,color:"green"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),o(h,{key:1,color:"gold"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),o(h,{key:2,color:"orange"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),o(h,{key:3,color:"red"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(c,{label:"\u5BA2\u6237\u7AEFIP",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",et,n(l.value.client_ip||"-"),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u65F6\u95F4",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",at,n(l.value.req_time||"-"),1))]),_:1}),a(c,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",tt,n(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[S,["user"]]]),k((t(),o(V,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(c,{label:"Trace ID",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",lt,[p(n(l.value.trace_id)+" ",1),a(F,{class:"copy-btn",onClick:y[2]||(y[2]=g=>T(l.value.trace_id))})]))]),_:1}),a(c,{label:"Host"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ot,n(l.value.host||"-"),1))]),_:1}),a(c,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ut,[p(n(l.value.is_smart_match?"-":l.value.creator)+" ",1),l.value.is_smart_match?Oe("",!0):(t(),o(F,{key:0,class:"copy-btn",onClick:y[3]||(y[3]=g=>Y(l.value.id,"creator"))}))]))]),_:1}),a(c,{label:"\u7528\u6237ID"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",nt,n(l.value.is_smart_match?"-":l.value.user_id||"-"),1))]),_:1}),a(c,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",st,n(l.value.is_smart_match?"-":l.value.app_id||"-"),1))]),_:1}),a(c,{label:"\u516C\u53F8"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",it,n(l.value.corp_name),1))]),_:1}),a(c,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",dt,n(v.$t(`dict.model_type.${l.value.type}`)),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",rt,n(l.value.name||"-"),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",_t,n(l.value.model||"-"),1))]),_:1}),a(c,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ct,n(l.value.real_model_name),1))]),_:1}),a(c,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",mt,n(l.value.real_model),1))]),_:1}),a(c,{label:"\u540E\u5907\u4EE3\u7406"},{default:e(()=>{var g,B;return[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",pt,n(((B=(g=l.value)==null?void 0:g.fallback_config)==null?void 0:B.model_agent_name)||"-"),1))]}),_:1}),a(c,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var g,B;return[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",ft,n(((B=(g=l.value)==null?void 0:g.fallback_config)==null?void 0:B.model)||"-"),1))]}),_:1}),a(c,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",yt,n(v.$t(`chat.dict.is_enable_forward.${l.value.is_enable_forward||!1}`)),1))]),_:1}),a(c,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",vt,n(l.value.is_enable_forward?v.$t(`chat.dict.forward_rule.${l.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(c,{label:"\u542F\u7528\u4EE3\u7406",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",ht,n(v.$t(`chat.dict.is_enable_model_agent.${l.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(c,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var g,B;return[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",kt,n(((B=(g=l.value)==null?void 0:g.model_agent)==null?void 0:B.name)||"-"),1))]}),_:1}),a(c,{label:"\u5BC6\u94A5"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",bt,[p(n(l.value.key?l.value.key.length>0?l.value.key.substr(0,l.value.key.length/2>10?10:l.value.key.length/2)+"************************************"+l.value.key.substr(-(l.value.key.length/2>5?5:l.value.key.length/2)):l.value.key:"-")+" ",1),a(F,{class:"copy-btn",onClick:y[4]||(y[4]=g=>Y(l.value.id,"key"))})]))]),_:1}),a(c,{label:"\u63D0\u95EE",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",gt,n(l.value.input||"-"),1))]),_:1}),a(c,{label:"\u56DE\u7B54"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",wt,n(l.value.text||"-"),1))]),_:1}),a(c,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",$t,n(v.$t(`chat.dict.billing_method.${l.value.audio_quota.billing_method}`)),1))]),_:1}),a(c,{label:"\u82B1\u8D39\u4EE4\u724C\u6570",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Dt,n(l.value.total_tokens?l.value.total_tokens:l.value.status===1&&l.value.audio_quota.billing_method===2?0:"-"),1))]),_:1}),a(c,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ct,n(l.value.type!==6&&l.value.audio_quota.prompt_ratio||"-"),1))]),_:1}),a(c,{label:"\u56DE\u7B54\u500D\u7387",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ft,n(l.value.type!==5&&l.value.audio_quota.completion_ratio||"-"),1))]),_:1}),a(c,{label:"\u63D0\u95EE\u5B57\u7B26\u6570",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Bt,n(l.value.characters||"-"),1))]),_:1}),a(c,{label:"\u56DE\u7B54\u5206\u949F\u6570",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Vt,n(l.value.minute||"-"),1))]),_:1}),a(c,{label:"\u603B\u8017\u65F6",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Et,[l.value.total_time>12e4?(t(),o(h,{key:0,color:"red"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),o(h,{key:1,color:"orange"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>6e4?(t(),o(h,{key:2,color:"gold"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):(t(),o(h,{key:3,color:"green"},{default:e(()=>[p(n(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u5185\u8017",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",It,[l.value.internal_time>500?(t(),o(h,{key:0,color:"red"},{default:e(()=>[p(n(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>300?(t(),o(h,{key:1,color:"orange"},{default:e(()=>[p(n(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>100?(t(),o(h,{key:2,color:"gold"},{default:e(()=>[p(n(l.value.internal_time)+" ms ",1)]),_:1})):(t(),o(h,{key:3,color:"green"},{default:e(()=>[p(n(l.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(c,{label:"\u7ED3\u679C",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",At,[l.value.status===1?(t(),o(h,{key:0,color:"green"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),o(h,{key:1,color:"gold"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),o(h,{key:2,color:"orange"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),o(h,{key:3,color:"red"},{default:e(()=>[p(n(v.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(c,{label:"\u672C\u5730IP",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",xt,n(l.value.local_ip||"-"),1))]),_:1}),a(c,{label:"\u5BA2\u6237\u7AEFIP",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",qt,n(l.value.client_ip||"-"),1))]),_:1}),a(c,{label:"\u8FDC\u7A0BIP",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",St,n(l.value.remote_ip||"-"),1))]),_:1}),a(c,{label:"\u8BF7\u6C42\u65F6\u95F4",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",zt,n(l.value.req_time||"-"),1))]),_:1}),a(c,{label:"\u521B\u5EFA\u65F6\u95F4",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{widths:["200px"],rows:1})]),_:1})):(t(),d("span",Lt,n(l.value.created_at||"-"),1))]),_:1}),a(c,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:1})]),_:1})):(t(),d("span",Ut,n(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[S,["admin"]]]),k((t(),o(V,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(c,{span:2},{default:e(()=>[a(R,{type:"card"},{default:e(()=>[a(K,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[r(m)?(t(),o(s,{key:0,animation:!0},{default:e(()=>[a(_,{rows:3})]),_:1})):(t(),o(L,{key:1},{default:e(()=>[l.value.model_agent?(t(),o(r(Ba),{key:0,data:l.value.model_agent,"show-length":!0},null,8,["data"])):(t(),d("span",Nt,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[S,["admin"]]])])}}});const Tt=ce(Pt,[["__scopeId","data-v-485967db"]]),Yt={class:"container"},Ht={class:"action-icon"},Rt={class:"action-icon"},jt={id:"tableSetting"},Jt={style:{"margin-right":"4px",cursor:"move"}},Ot={class:"title"},Gt={name:"AudioList"},Kt=me({...Gt,setup(te){const I=localStorage.getItem("userRole"),m=re({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),P=D([]);I==="user"&&(async()=>{try{const{data:i}=await Aa();P.value=i.items}catch{}})();const z=D([]);(async()=>{try{const{data:i}=await qa();z.value=i.items}catch{}})();const H=D([]);I==="admin"&&(async()=>{try{const{data:i}=await Sa();H.value=i.items}catch{}})();const T=()=>({app_id:D(),trace_id:D(),user_id:D(),key:"",models:[],model_agents:[],total_time:D(),status:D(),req_time:[_e().format("YYYY-MM-DD 00:00:00"),_e().format("YYYY-MM-DD 23:59:59")]}),{loading:Y,setLoading:v}=he(!0),{t:y}=Te(),_=D([]),s=D(T()),F=D([]),c=D([]),h=D("medium"),V={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},L=re({...V}),K=ee(()=>[{name:y("size.mini"),value:"mini"},{name:y("size.small"),value:"small"},{name:y("size.medium"),value:"medium"},{name:y("size.large"),value:"large"}]),R=ee(()=>[{title:y(I==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:I==="admin"?"user_id":"app_id",slotName:I==="admin"?"user_id":"app_id",align:"center",width:75},{title:y("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center"},{title:y("chat.columns.characters"),dataIndex:"characters",slotName:"characters",align:"center",ellipsis:!0,tooltip:!0},{title:y("chat.columns.minute"),dataIndex:"minute",slotName:"minute",align:"center"},{title:y("chat.columns.total_price"),dataIndex:"total_tokens",slotName:"total_tokens",align:"center"},{title:y("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:y("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:y("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:y("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:y("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);I==="user"&&R.value.splice(6,1);const S=ee(()=>[{label:y("chat.dict.status.1"),value:1},{label:y("chat.dict.status.2"),value:2},{label:y("chat.dict.status.-1"),value:-1}]);I==="admin"&&S.value.push({label:y("chat.dict.status.3"),value:3},{label:y("chat.dict.status.-100"),value:-100});const g=async(i={...V,...s.value})=>{v(!0);try{const{data:f}=await Ia(i);_.value=f.items,L.current=i.current,L.pageSize=i.pageSize,L.total=f.paging.total}catch{}finally{v(!1)}},B=()=>{g({...V,...s.value})},be=i=>{g({...V,...s.value,current:i})},ge=i=>{V.pageSize=i,g({...V,...s.value})};g();const we=()=>{s.value=T()},$e=(i,f)=>{h.value=i},De=(i,f,A)=>{i?F.value.splice(A,0,f):F.value=c.value.filter(E=>E.dataIndex!==f.dataIndex)},le=(i,f,A,E=!1)=>{const x=E?ae(i):i;return f>-1&&A>-1&&x.splice(f,1,x.splice(A,1,x[f]).pop()),x},Ce=i=>{i&&la(()=>{const f=document.getElementById("tableSetting");new xa(f,{onEnd(A){const{oldIndex:E,newIndex:x}=A;le(F.value,E,x),le(c.value,E,x)}})})};pe(()=>R.value,i=>{F.value=ae(i),F.value.forEach((f,A)=>{f.checked=!0}),c.value=ae(F.value)},{deep:!0,immediate:!0});const Q=D(!1),oe=D(),Fe=i=>{Q.value=!0,oe.value=i},Be=()=>{Q.value=!1};return(i,f)=>{const A=Ye,E=oa,x=ua,j=na,U=sa,C=ia,$=da,J=ra,ue=_a,O=ca,ne=ma,Ve=pa,se=fa,Ee=ya,W=va,ie=He,Ie=ve,X=ha,Ae=Re,xe=ka,qe=ba,Se=je,ze=Je,Le=ga,Ue=wa,b=ye,Ne=$a,Me=Da,Pe=Ca,w=fe("permission");return t(),d("div",Yt,[a(x,{class:"container-breadcrumb"},{default:e(()=>[a(E,null,{default:e(()=>[a(A)]),_:1}),a(E,null,{default:e(()=>[p(n(i.$t("menu.audio")),1)]),_:1}),a(E,null,{default:e(()=>[p(n(i.$t("menu.audio.list")),1)]),_:1})]),_:1}),a(Pe,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(O,null,{default:e(()=>[a($,{flex:1},{default:e(()=>[a(Ve,{model:s.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[k((t(),o(O,{gutter:16},{default:e(()=>[a($,{span:8},{default:e(()=>[a(C,{field:"app_id",label:i.$t("chat.form.app_id")},{default:e(()=>[a(U,{modelValue:s.value.app_id,"onUpdate:modelValue":f[0]||(f[0]=u=>s.value.app_id=u),placeholder:i.$t("chat.form.selectDefault"),"allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(N,null,M(P.value,u=>(t(),o(j,{key:u.app_id,value:u.app_id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(C,{field:"key",label:i.$t("chat.form.key")},{default:e(()=>[a(J,{modelValue:s.value.key,"onUpdate:modelValue":f[1]||(f[1]=u=>s.value.key=u),placeholder:i.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(C,{field:"trace_id",label:i.$t("chat.form.user.trace_id")},{default:e(()=>[a(J,{modelValue:s.value.trace_id,"onUpdate:modelValue":f[2]||(f[2]=u=>s.value.trace_id=u),placeholder:i.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(C,{field:"models",label:i.$t("chat.form.models")},{default:e(()=>[a(U,{modelValue:s.value.models,"onUpdate:modelValue":f[3]||(f[3]=u=>s.value.models=u),placeholder:i.$t("chat.form.selectDefault"),"max-tag-count":1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(N,null,M(z.value,u=>(t(),o(j,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(C,{field:"status",label:i.$t("chat.form.status")},{default:e(()=>[a(U,{modelValue:s.value.status,"onUpdate:modelValue":f[4]||(f[4]=u=>s.value.status=u),options:r(S),placeholder:i.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(C,{field:"req_time",label:i.$t("chat.form.req_time")},{default:e(()=>[a(ue,{modelValue:s.value.req_time,"onUpdate:modelValue":f[5]||(f[5]=u=>s.value.req_time=u),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[w,["user"]]]),k((t(),o(O,{gutter:16},{default:e(()=>[a($,{span:5},{default:e(()=>[a(C,{field:"trace_id",label:i.$t("chat.form.trace_id"),"label-col-props":{span:6}},{default:e(()=>[a(J,{modelValue:s.value.trace_id,"onUpdate:modelValue":f[6]||(f[6]=u=>s.value.trace_id=u),placeholder:i.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:6},{default:e(()=>[a(C,{field:"models",label:i.$t("chat.form.models"),"label-col-props":{span:5}},{default:e(()=>[a(U,{modelValue:s.value.models,"onUpdate:modelValue":f[7]||(f[7]=u=>s.value.models=u),placeholder:i.$t("chat.form.selectDefault"),"max-tag-count":1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(N,null,M(z.value,u=>(t(),o(j,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:5},{default:e(()=>[a(C,{field:"key",label:i.$t("chat.form.key"),"label-col-props":{span:6}},{default:e(()=>[a(J,{modelValue:s.value.key,"onUpdate:modelValue":f[8]||(f[8]=u=>s.value.key=u),placeholder:i.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(C,{field:"total_time",label:i.$t("chat.form.total_time")},{default:e(()=>[a(ne,{modelValue:s.value.total_time,"onUpdate:modelValue":f[9]||(f[9]=u=>s.value.total_time=u),precision:0,min:1,placeholder:i.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:5},{default:e(()=>[a(C,{field:"user_id",label:i.$t("chat.form.user_id"),"label-col-props":{span:6}},{default:e(()=>[a(ne,{modelValue:s.value.user_id,"onUpdate:modelValue":f[10]||(f[10]=u=>s.value.user_id=u),placeholder:i.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:6},{default:e(()=>[a(C,{field:"model_agents",label:i.$t("key.form.modelAgents"),"label-col-props":{span:5}},{default:e(()=>[a(U,{modelValue:s.value.model_agents,"onUpdate:modelValue":f[11]||(f[11]=u=>s.value.model_agents=u),placeholder:i.$t("key.form.selectDefault"),"max-tag-count":1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),d(N,null,M(H.value,u=>(t(),o(j,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:5},{default:e(()=>[a(C,{field:"status",label:i.$t("chat.form.status"),"label-col-props":{span:6}},{default:e(()=>[a(U,{modelValue:s.value.status,"onUpdate:modelValue":f[12]||(f[12]=u=>s.value.status=u),options:r(S),placeholder:i.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(C,{field:"req_time",label:i.$t("chat.form.req_time")},{default:e(()=>[a(ue,{modelValue:s.value.req_time,"onUpdate:modelValue":f[13]||(f[13]=u=>s.value.req_time=u),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[w,["admin"]]])]),_:1},8,["model"])]),_:1}),a(se,{style:{height:"84px"},direction:"vertical"}),a($,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(Ie,{direction:"vertical",size:18},{default:e(()=>[a(W,{type:"primary",onClick:B},{icon:e(()=>[a(Ee)]),default:e(()=>[p(" "+n(i.$t("chat.form.search")),1)]),_:1}),a(W,{onClick:we},{icon:e(()=>[a(ie)]),default:e(()=>[p(" "+n(i.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(se,{style:{"margin-top":"0"}}),a(O,{style:{"margin-bottom":"16px"}},{default:e(()=>[a($,{span:24,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(X,{content:i.$t("actions.refresh")},{default:e(()=>[q("div",{class:"action-icon",onClick:B},[a(ie,{size:"18"})])]),_:1},8,["content"]),a(qe,{onSelect:$e},{content:e(()=>[(t(!0),d(N,null,M(r(K),u=>(t(),o(xe,{key:u.value,value:u.value,class:ta({active:u.value===h.value})},{default:e(()=>[q("span",null,n(u.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(X,{content:i.$t("actions.density")},{default:e(()=>[q("div",Ht,[a(Ae,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(X,{content:i.$t("actions.column_setting")},{default:e(()=>[a(Ue,{trigger:"click",position:"bl",onPopupVisibleChange:Ce},{content:e(()=>[q("div",jt,[(t(!0),d(N,null,M(c.value,(u,de)=>(t(),d("div",{key:u.dataIndex,class:"setting"},[q("div",Jt,[a(ze)]),q("div",null,[a(Le,{modelValue:u.checked,"onUpdate:modelValue":Z=>u.checked=Z,onChange:Z=>De(Z,u,de)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),q("div",Ot,n(u.title==="#"?"\u5E8F\u5217\u53F7":u.title),1)]))),128))])]),default:e(()=>[q("div",Rt,[a(Se,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(Ne,{"row-key":"id",loading:r(Y),pagination:L,columns:F.value,data:_.value,bordered:!1,size:h.value,"row-selection":m,onPageChange:be,onPageSizeChange:ge},{user_id:e(({record:u})=>[p(n(u.is_smart_match?"-":u.user_id),1)]),characters:e(({record:u})=>[p(n(u.characters||"-"),1)]),minute:e(({record:u})=>[p(n(u.minute||"-"),1)]),total_tokens:e(({record:u})=>[p(n(u.total_tokens?`$${r(Fa)(u.total_tokens)}`:u.status===1&&u.billing_method===2?0:"-"),1)]),total_time:e(({record:u})=>[u.total_time>18e4?k((t(),o(b,{key:0,color:"red"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[w,["user"]]]):u.total_time>12e4?k((t(),o(b,{key:1,color:"orange"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[w,["user"]]]):u.total_time>9e4?k((t(),o(b,{key:2,color:"gold"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[w,["user"]]]):k((t(),o(b,{key:3,color:"green"},{default:e(()=>[p(n(u.total_time||"-"),1)]),_:2},1024)),[[w,["user"]]]),u.total_time>12e4?k((t(),o(b,{key:4,color:"red"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[w,["admin"]]]):u.total_time>9e4?k((t(),o(b,{key:5,color:"orange"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[w,["admin"]]]):u.total_time>6e4?k((t(),o(b,{key:6,color:"gold"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[w,["admin"]]]):k((t(),o(b,{key:7,color:"green"},{default:e(()=>[p(n(u.total_time||"-"),1)]),_:2},1024)),[[w,["admin"]]])]),internal_time:e(({record:u})=>[u.internal_time>1e3?k((t(),o(b,{key:0,color:"red"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[w,["user"]]]):u.internal_time>500?k((t(),o(b,{key:1,color:"orange"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[w,["user"]]]):u.internal_time>300?k((t(),o(b,{key:2,color:"gold"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[w,["user"]]]):k((t(),o(b,{key:3,color:"green"},{default:e(()=>[p(n(u.internal_time||"-"),1)]),_:2},1024)),[[w,["user"]]]),u.internal_time>500?k((t(),o(b,{key:4,color:"red"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[w,["admin"]]]):u.internal_time>300?k((t(),o(b,{key:5,color:"orange"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[w,["admin"]]]):u.internal_time>100?k((t(),o(b,{key:6,color:"gold"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[w,["admin"]]]):k((t(),o(b,{key:7,color:"green"},{default:e(()=>[p(n(u.internal_time||"-"),1)]),_:2},1024)),[[w,["admin"]]])]),status:e(({record:u})=>[u.status===-1?(t(),o(b,{key:0,color:"red"},{default:e(()=>[p(n(i.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===2?(t(),o(b,{key:1,color:"gold"},{default:e(()=>[p(n(i.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===3?(t(),o(b,{key:2,color:"orange"},{default:e(()=>[p(n(i.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):(t(),o(b,{key:3,color:"green"},{default:e(()=>[p(n(i.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024))]),operations:e(({record:u})=>[a(W,{type:"text",size:"small",onClick:de=>Fe(u.id)},{default:e(()=>[p(n(i.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(Me,{title:i.$t("menu.audio.detail"),width:700,footer:!1,visible:Q.value,"unmount-on-close":"","render-to-body":"",onCancel:Be},{default:e(()=>[a(Tt,{id:oe.value},null,8,["id"])]),_:1},8,["title","visible"])]),_:1})])}}});const Il=ce(Kt,[["__scopeId","data-v-e5d0460a"]]);export{Il as default};
