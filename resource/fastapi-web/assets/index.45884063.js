import{k as E,_ as O}from"./index.780491c6.js";/* empty css               *//* empty css              *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               */import{d as P,e as i,B as f,C as V,aH as e,aG as a,aL as u,aM as _,D as w,u as n,aJ as T,aI as j,aD as z,aK as A,aF as J,b1 as K,b2 as M,aS as W,bQ as X,bU as Y,bi as Z,bV as x,bF as ee,bG as ae,bO as le,aU as re,b5 as te,bN as oe,bR as ue,g as se}from"./arco.cbac690a.js";import{u as de}from"./loading.b56ef223.js";import{d as p}from"./dayjs.min.4477b2e6.js";import{f as ne}from"./vue.4014b72a.js";import{p as pe,d as me}from"./common.5976a1f1.js";import{g as ie}from"./admin_reseller.3ead736b.js";import{q as _e}from"./group.6a51724a.js";import"./chart.e521dee8.js";const ce={class:"container"},fe={class:"wrapper"},be={class:"submit-btn"},ve={name:"ResellerCreate"},$e=P({...ve,setup(qe){const{proxy:h}=se(),{loading:k,setLoading:b}=de(!1),D=ne(),v=i([]);(async()=>{try{const{data:l}=await _e();v.value=l.items}catch{}})();const $=i(),r=i({name:"",email:"",account:"",password:"",quota:i(),quota_type:"1",quota_expires_at:"",groups:[],remark:""}),C=async()=>{var t;if(!await((t=$.value)==null?void 0:t.validate())){b(!0);try{await ie(r.value).then(()=>{h.$message.success("\u65B0\u5EFA\u6210\u529F"),D.push({name:"ResellerList"})})}catch{}finally{b(!1)}}},U=l=>{r.value.quota=l};return(l,t)=>{const q=E,c=A,R=J,m=K,d=M,B=W,s=X,L=Y,y=Z,F=x,H=ee,I=ae,G=le,g=re,S=te,N=oe,Q=ue;return f(),V("div",ce,[e(R,{class:"container-breadcrumb"},{default:a(()=>[e(c,null,{default:a(()=>[e(q)]),_:1}),e(c,null,{default:a(()=>[u(_(l.$t("menu.sys")),1)]),_:1}),e(c,null,{default:a(()=>[u(_(l.$t("menu.reseller.create")),1)]),_:1})]),_:1}),e(Q,{loading:n(k),style:{width:"100%"}},{default:a(()=>[e(N,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:a(()=>[w("div",fe,[e(S,{ref_key:"formRef",ref:$,model:r.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:21}},{default:a(()=>[e(d,{field:"name",label:l.$t("reseller.label.name"),rules:[{required:!0,message:l.$t("reseller.error.name.required")},{match:/^.{1,30}$/,message:l.$t("reseller.error.name.pattern")}]},{default:a(()=>[e(m,{modelValue:r.value.name,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value.name=o),placeholder:l.$t("reseller.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"email",label:l.$t("reseller.label.email"),rules:[{required:!0,message:l.$t("reseller.error.email.required")}]},{default:a(()=>[e(m,{modelValue:r.value.email,"onUpdate:modelValue":t[1]||(t[1]=o=>r.value.email=o),placeholder:l.$t("reseller.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"account",label:l.$t("reseller.label.account"),rules:[{required:!0,message:l.$t("reseller.error.account.required")}]},{default:a(()=>[e(m,{modelValue:r.value.account,"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.account=o),placeholder:l.$t("reseller.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"password",label:l.$t("reseller.label.password"),rules:[{required:!0,message:l.$t("reseller.error.password.required")},{match:/^.{6,}$/,message:l.$t("reseller.error.password.pattern")}]},{default:a(()=>[e(m,{modelValue:r.value.password,"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.password=o),placeholder:l.$t("reseller.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"quota",label:l.$t("reseller.label.quota"),rules:[{required:!0,message:l.$t("reseller.error.quota.required")}]},{default:a(()=>[e(B,{modelValue:r.value.quota,"onUpdate:modelValue":t[4]||(t[4]=o=>r.value.quota=o),placeholder:l.$t("reseller.placeholder.quota"),min:1e-6,max:9999999999999,parser:n(pe)},{prefix:a(()=>[u(" $ ")]),_:1},8,["modelValue","placeholder","min","parser"])]),_:1},8,["label","rules"]),e(d,null,{default:a(()=>[e(L,{type:"button",onChange:U},{default:a(()=>[e(s,{value:1},{default:a(()=>[u(" $1 ")]),_:1}),e(s,{value:2},{default:a(()=>[u(" $2 ")]),_:1}),e(s,{value:5},{default:a(()=>[u(" $5 ")]),_:1}),e(s,{value:10},{default:a(()=>[u(" $10 ")]),_:1}),e(s,{value:20},{default:a(()=>[u(" $20 ")]),_:1}),e(s,{value:50},{default:a(()=>[u(" $50 ")]),_:1}),e(s,{value:100},{default:a(()=>[u(" $100 ")]),_:1}),e(s,{value:200},{default:a(()=>[u(" $200 ")]),_:1}),e(s,{value:500},{default:a(()=>[u(" $500 ")]),_:1}),e(s,{value:1e3},{default:a(()=>[u(" $1,000 ")]),_:1}),e(s,{value:2e3},{default:a(()=>[u(" $2,000 ")]),_:1})]),_:1})]),_:1}),e(d,{field:"quota_type",label:l.$t("reseller.label.quota_type"),rules:[{required:!0,message:l.$t("reseller.error.quota_type.required")}]},{default:a(()=>[e(y,{size:"large"},{default:a(()=>[e(s,{modelValue:r.value.quota_type,"onUpdate:modelValue":t[5]||(t[5]=o=>r.value.quota_type=o),value:"1","default-checked":!0},{default:a(()=>[u(" \u5145\u503C ")]),_:1},8,["modelValue"]),e(s,{modelValue:r.value.quota_type,"onUpdate:modelValue":t[6]||(t[6]=o=>r.value.quota_type=o),value:"3"},{default:a(()=>[u(" \u8D60\u9001 ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),e(d,{field:"quota_expires_at",label:l.$t("reseller.label.quota_expires_at")},{default:a(()=>[e(F,{modelValue:r.value.quota_expires_at,"onUpdate:modelValue":t[7]||(t[7]=o=>r.value.quota_expires_at=o),placeholder:l.$t("reseller.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":n(me),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>n(p)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>n(p)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>n(p)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>n(p)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>n(p)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>n(p)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>n(p)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(d,{field:"groups",label:l.$t("reseller.label.groups"),style:{"align-items":"center"}},{default:a(()=>[e(I,{modelValue:r.value.groups,"onUpdate:modelValue":t[8]||(t[8]=o=>r.value.groups=o),placeholder:l.$t("reseller.placeholder.create.groups"),scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(f(!0),V(T,null,j(v.value,o=>(f(),z(H,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(d,{field:"remark",label:l.$t("reseller.label.remark")},{default:a(()=>[e(G,{modelValue:r.value.remark,"onUpdate:modelValue":t[9]||(t[9]=o=>r.value.remark=o),placeholder:l.$t("reseller.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(y,null,{default:a(()=>[w("div",be,[e(g,{type:"secondary",onClick:t[10]||(t[10]=o=>l.$router.push({name:"ResellerList"}))},{default:a(()=>[u(_(l.$t("button.cancel")),1)]),_:1}),e(g,{type:"primary",onClick:C},{default:a(()=>[u(_(l.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Pe=O($e,[["__scopeId","data-v-7ef06645"]]);export{Pe as default};
