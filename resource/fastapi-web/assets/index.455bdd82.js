import{L as F,_ as L}from"./index.170968bb.js";/* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               */import{d as I,e as $,B as D,C as R,aH as t,aG as o,aL as n,aM as u,u as y,F as q,aK as S,aF as E,b1 as z,b2 as G,b4 as H,bi as K,bO as M,aU as O,b5 as j,bN as A,bR as J,g as P}from"./arco.ba78a5b2.js";import{f as Q,h as W}from"./vue.2736b3ca.js";import{u as X}from"./loading.0618e973.js";import{a as Y,f as Z,g as h}from"./notice_template.44fa88a7.js";import{V as x}from"./vditor.cd8fd8a6.js";import"./chart.df189e8a.js";/* empty css                *//* empty css               */const ee={class:"container"},ae={class:"wrapper"},le={class:"submit-btn"},te={name:"NoticeTemplateUpdate"},se=I({...te,setup(oe){const{proxy:p}=P(),{loading:U,setLoading:i}=X(!1),f=Q(),m=W(),v=$(),a=$({id:"",name:"",scenes:[],title:"",content:"",channels:[],is_popup:!1,is_public:!0,remark:"",status:1});(async(s={id:m.query.id})=>{i(!0);try{const{data:e}=await Y(s);a.value.id=e.id,a.value.name=e.name,a.value.scenes=e.scenes,a.value.title=e.title,a.value.content=e.content,a.value.channels=e.channels,a.value.is_popup=e.is_popup,a.value.is_public=e.is_public,a.value.remark=e.remark,a.value.status=e.status}catch{}finally{i(!1)}})();const w=async()=>{var e;if(!await((e=v.value)==null?void 0:e.validate())){i(!0);try{m.query.action?await Z(a.value).then(()=>{p.$message.success("\u65B0\u589E\u6210\u529F"),f.push({name:"NoticeTemplateList"})}):await h(a.value).then(()=>{p.$message.success("\u66F4\u65B0\u6210\u529F"),f.push({name:"NoticeTemplateList"})})}catch{}finally{i(!1)}}};return(s,e)=>{const V=F,c=S,k=E,_=z,r=G,d=H,b=K,N=M,g=O,T=j,B=A,C=J;return D(),R("div",ee,[t(k,{class:"container-breadcrumb"},{default:o(()=>[t(c,null,{default:o(()=>[t(V)]),_:1}),t(c,null,{default:o(()=>[n(u(s.$t("menu.notice")),1)]),_:1}),t(c,null,{default:o(()=>[n(u(s.$t(y(m).query.action?"menu.notice.template.create":"menu.notice.template.update")),1)]),_:1})]),_:1}),t(C,{loading:y(U),style:{width:"100%"}},{default:o(()=>[t(B,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:o(()=>[q("div",ae,[t(T,{ref_key:"formRef",ref:v,model:a.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:18}},{default:o(()=>[t(r,{field:"name",label:s.$t("notice.template.label.name"),rules:[{required:!0,message:s.$t("notice.template.error.name.required")}]},{default:o(()=>[t(_,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l),placeholder:s.$t("notice.template.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(r,{field:"scenes",label:s.$t("notice.template.label.scenes"),rules:[{required:!0,message:s.$t("notice.template.error.scenes.required")}]},{default:o(()=>[t(b,{size:"small",wrap:""},{default:o(()=>[t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.scenes=l),value:"code",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.code")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.scenes=l),value:"register",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.register")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.scenes=l),value:"login",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.login")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.scenes=l),value:"forget_password",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.forget_password")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.scenes=l),value:"change_password",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.change_password")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.scenes=l),value:"change_email",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.change_email")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.scenes=l),value:"quota_recharge",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_recharge")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.scenes=l),value:"quota_warning",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_warning")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.scenes=l),value:"quota_exhaustion",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_exhaustion")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.scenes=l),value:"quota_expire_warning",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_expire_warning")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.scenes=l),value:"quota_expire",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.quota_expire")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.scenes=l),value:"notice",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.notice")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.scenes=l),value:"notice_register",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.notice_register")),1)]),_:1},8,["modelValue"]),t(d,{modelValue:a.value.scenes,"onUpdate:modelValue":e[14]||(e[14]=l=>a.value.scenes=l),value:"notice_login",class:"scenes"},{default:o(()=>[n(u(s.$t("notice.template.dict.scenes.notice_login")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),t(r,{field:"title",label:s.$t("notice.template.label.title"),rules:[{required:!0,message:s.$t("notice.template.error.title.required")}]},{default:o(()=>[t(_,{modelValue:a.value.title,"onUpdate:modelValue":e[15]||(e[15]=l=>a.value.title=l),placeholder:s.$t("notice.template.placeholder.title"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(r,{field:"content",label:s.$t("notice.template.label.content"),rules:[{required:!0,message:s.$t("notice.template.error.content.required")}]},{default:o(()=>[t(x,{modelValue:a.value.content,"onUpdate:modelValue":e[16]||(e[16]=l=>a.value.content=l),style:{flex:"1"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(r,{field:"remark",label:s.$t("notice.template.label.remark")},{default:o(()=>[t(N,{modelValue:a.value.remark,"onUpdate:modelValue":e[17]||(e[17]=l=>a.value.remark=l),placeholder:s.$t("notice.template.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(b,null,{default:o(()=>[q("div",le,[t(g,{type:"secondary",onClick:e[18]||(e[18]=l=>s.$router.push({name:"NoticeTemplateList"}))},{default:o(()=>[n(u(s.$t("button.cancel")),1)]),_:1}),t(g,{type:"primary",onClick:w},{default:o(()=>[n(u(s.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const ye=L(se,[["__scopeId","data-v-1add0355"]]);export{ye as default};
