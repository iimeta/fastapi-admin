import{b as P,m as j,_ as z}from"./index.034231ab.js";/* empty css               *//* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               */import{d as J,e as c,B as b,C as w,aH as e,aG as l,aL as p,aM as i,D as h,u as s,aJ as K,aI as M,aD as O,aK as W,aF as X,b1 as Y,b2 as Z,aS as x,bQ as ee,bR as ae,bi as le,bS as oe,bH as re,bI as te,bT as ue,aU as se,b5 as de,bU as ne,bV as pe,g as me}from"./arco.088e2a49.js";import{u as ie}from"./loading.6f488126.js";import{p as _e,d as ce,a as m}from"./common.051a2527.js";import{f as fe}from"./vue.bd25b247.js";import{g as be}from"./admin_user.605475c0.js";import{q as ve}from"./group.9f4d6ddf.js";import{Q as n}from"./quota.2df53910.js";import"./chart.0bfa65d3.js";const qe={class:"container"},ge={class:"wrapper"},ye={class:"submit-btn"},Ve={name:"UserCreate"},$e=J({...Ve,setup(we){const{proxy:k}=me(),{loading:U,setLoading:v}=ie(!1),D=fe(),C=localStorage.getItem("userRole"),I=P(),q=c([]);(async()=>{try{const{data:a}=await ve();q.value=a.items}catch{}})();const g=c(),o=c({name:"",email:"",account:"",password:"",quota:c(),quota_type:"1",quota_expires_at:"",groups:[],remark:""}),S=async()=>{var r;if(!await((r=g.value)==null?void 0:r.validate())){v(!0);try{await be(o.value).then(()=>{k.$message.success("\u65B0\u5EFA\u6210\u529F"),D.push({name:"UserList"})})}catch{}finally{v(!1)}}},B=a=>{o.value.quota=a};return(a,r)=>{const y=j,f=W,H=X,_=Y,d=Z,L=x,u=ee,R=ae,V=le,F=oe,G=re,Q=te,N=ue,$=se,T=de,A=ne,E=pe;return b(),w("div",qe,[e(H,{class:"container-breadcrumb"},{default:l(()=>[e(f,null,{default:l(()=>[e(y)]),_:1}),e(f,null,{default:l(()=>[p(i(a.$t("menu.user")),1)]),_:1}),e(f,null,{default:l(()=>[p(i(a.$t("menu.user.create")),1)]),_:1})]),_:1}),e(E,{loading:s(U),style:{width:"100%"}},{default:l(()=>[e(A,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:l(()=>[h("div",ge,[e(T,{ref_key:"formRef",ref:g,model:o.value,class:"form","label-col-props":{span:4}},{default:l(()=>[e(d,{field:"name",label:a.$t("user.label.name"),rules:[{required:!0,message:a.$t("user.error.name.required")},{match:/^.{1,30}$/,message:a.$t("user.error.name.pattern")}]},{default:l(()=>[e(_,{modelValue:o.value.name,"onUpdate:modelValue":r[0]||(r[0]=t=>o.value.name=t),placeholder:a.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"email",label:a.$t("user.label.email"),rules:[{required:!0,message:a.$t("user.error.email.required")}]},{default:l(()=>[e(_,{modelValue:o.value.email,"onUpdate:modelValue":r[1]||(r[1]=t=>o.value.email=t),placeholder:a.$t("user.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"account",label:a.$t("user.label.account"),rules:[{required:!0,message:a.$t("user.error.account.required")}]},{default:l(()=>[e(_,{modelValue:o.value.account,"onUpdate:modelValue":r[2]||(r[2]=t=>o.value.account=t),placeholder:a.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"password",label:a.$t("user.label.password"),rules:[{required:!0,message:a.$t("user.error.password.required")},{match:/^.{6,}$/,message:a.$t("user.error.password.pattern")}]},{default:l(()=>[e(_,{modelValue:o.value.password,"onUpdate:modelValue":r[3]||(r[3]=t=>o.value.password=t),placeholder:a.$t("user.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(d,{field:"quota",label:a.$t("user.label.quota"),rules:[{required:!0,message:a.$t("user.error.quota.required")}]},{default:l(()=>[e(L,{modelValue:o.value.quota,"onUpdate:modelValue":r[4]||(r[4]=t=>o.value.quota=t),placeholder:a.$t("user.placeholder.quota"),min:1e-6,max:9999999999999,parser:s(_e),"allow-clear":""},{prefix:l(()=>[p(i(s(I).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder","min","parser"])]),_:1},8,["label","rules"]),e(d,null,{default:l(()=>[e(R,{type:"button",onChange:B},{default:l(()=>[e(u,{value:5},{default:l(()=>[e(n,{"model-value":5})]),_:1}),e(u,{value:10},{default:l(()=>[e(n,{"model-value":10})]),_:1}),e(u,{value:20},{default:l(()=>[e(n,{"model-value":20})]),_:1}),e(u,{value:50},{default:l(()=>[e(n,{"model-value":50})]),_:1}),e(u,{value:100},{default:l(()=>[e(n,{"model-value":100})]),_:1}),e(u,{value:200},{default:l(()=>[e(n,{"model-value":200})]),_:1}),e(u,{value:500},{default:l(()=>[e(n,{"model-value":500})]),_:1}),e(u,{value:1e3},{default:l(()=>[e(n,{"model-value":1e3})]),_:1}),e(u,{value:2e3},{default:l(()=>[e(n,{"model-value":2e3})]),_:1}),e(u,{value:5e3},{default:l(()=>[e(n,{"model-value":5e3})]),_:1})]),_:1})]),_:1}),e(d,{field:"quota_type",label:a.$t("user.label.quota_type"),rules:[{required:!0,message:a.$t("user.error.quota_type.required")}]},{default:l(()=>[e(V,{size:"large"},{default:l(()=>[e(u,{modelValue:o.value.quota_type,"onUpdate:modelValue":r[5]||(r[5]=t=>o.value.quota_type=t),value:"1","default-checked":!0},{default:l(()=>[p(" \u5145\u503C ")]),_:1},8,["modelValue"]),e(u,{modelValue:o.value.quota_type,"onUpdate:modelValue":r[6]||(r[6]=t=>o.value.quota_type=t),value:"3"},{default:l(()=>[p(" \u8D60\u9001 ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),e(d,{field:"quota_expires_at",label:a.$t("user.label.quota_expires_at")},{default:l(()=>[e(F,{modelValue:o.value.quota_expires_at,"onUpdate:modelValue":r[7]||(r[7]=t=>o.value.quota_expires_at=t),placeholder:a.$t("user.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":s(ce),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>s(m)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>s(m)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>s(m)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>s(m)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>s(m)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>s(m)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>s(m)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(d,{field:"groups",label:a.$t("user.label.groups"),style:{"align-items":"center"}},{default:l(()=>[e(Q,{modelValue:o.value.groups,"onUpdate:modelValue":r[8]||(r[8]=t=>o.value.groups=t),placeholder:a.$t(s(C)==="reseller"?"user.placeholder.reseller.create.groups":"user.placeholder.create.groups"),scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:l(()=>[(b(!0),w(K,null,M(q.value,t=>(b(),O(G,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(d,{field:"remark",label:a.$t("user.label.remark")},{default:l(()=>[e(N,{modelValue:o.value.remark,"onUpdate:modelValue":r[9]||(r[9]=t=>o.value.remark=t),placeholder:a.$t("user.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(V,null,{default:l(()=>[h("div",ye,[e($,{type:"secondary",onClick:r[10]||(r[10]=t=>a.$router.push({name:"UserList"}))},{default:l(()=>[p(i(a.$t("button.cancel")),1)]),_:1}),e($,{type:"primary",onClick:S},{default:l(()=>[p(i(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Je=z($e,[["__scopeId","data-v-c66e03e1"]]);export{Je as default};
