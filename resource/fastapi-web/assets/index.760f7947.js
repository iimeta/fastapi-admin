import{u as j,b as z,n as A,_ as E}from"./index.07f86835.js";/* empty css               *//* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               */import{d as J,e as _,B as v,C as w,aH as e,aG as l,aL as p,aM as m,D as h,u as s,aJ as K,aI as O,aD as Z,aZ as W,aK as X,aF as Y,b1 as x,b2 as ee,aS as ae,bQ as le,bR as oe,bi as te,bS as ue,bH as re,bI as se,bT as de,aU as ne,b5 as pe,bU as me,bV as ie}from"./arco.73de4031.js";import{u as ce}from"./loading.0c20cf1b.js";import{p as _e,d as fe,a as i}from"./common.0ef165cd.js";import{f as ve}from"./vue.e54f3d1e.js";import{g as be}from"./admin_user.25fdeb9e.js";import{q as ye}from"./group.b2095893.js";import{Q as d}from"./quota.c1a3c1ec.js";import"./chart.b5ad42b0.js";const qe={class:"container"},ge={class:"wrapper"},Ve={class:"submit-btn"},$e={name:"UserCreate"},we=J({...$e,setup(he){const{t:k}=j(),{loading:U,setLoading:b}=ce(!1),D=ve(),C=localStorage.getItem("userRole"),I=z(),y=_([]);(async()=>{try{const{data:a}=await ye();y.value=a.items}catch{}})();const q=_(),o=_({name:"",email:"",account:"",password:"",quota:_(),quota_type:"1",quota_expires_at:"",groups:[],remark:""}),S=async()=>{var t;if(!await((t=q.value)==null?void 0:t.validate())){b(!0);try{await be(o.value).then(()=>{W.success(k("success.create")),D.push({name:"UserList"})})}catch{}finally{b(!1)}}},H=a=>{o.value.quota=a};return(a,t)=>{const g=A,f=X,L=Y,c=x,n=ee,B=ae,r=le,R=oe,V=te,F=ue,G=re,Q=se,N=de,$=ne,T=pe,M=me,P=ie;return v(),w("div",qe,[e(L,{class:"container-breadcrumb"},{default:l(()=>[e(f,null,{default:l(()=>[e(g)]),_:1}),e(f,null,{default:l(()=>[p(m(a.$t("user.menu")),1)]),_:1}),e(f,null,{default:l(()=>[p(m(a.$t("user.menu.create")),1)]),_:1})]),_:1}),e(P,{loading:s(U),style:{width:"100%"}},{default:l(()=>[e(M,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:l(()=>[h("div",ge,[e(T,{ref_key:"formRef",ref:q,model:o.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:l(()=>[e(n,{field:"name",label:a.$t("common.name"),rules:[{required:!0,message:a.$t("user.placeholder.name")},{match:/^.{1,30}$/,message:a.$t("user.error.pattern.name")}]},{default:l(()=>[e(c,{modelValue:o.value.name,"onUpdate:modelValue":t[0]||(t[0]=u=>o.value.name=u),placeholder:a.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"email",label:a.$t("common.email"),rules:[{required:!0,message:a.$t("user.placeholder.email")}]},{default:l(()=>[e(c,{modelValue:o.value.email,"onUpdate:modelValue":t[1]||(t[1]=u=>o.value.email=u),placeholder:a.$t("user.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"account",label:a.$t("common.account"),rules:[{required:!0,message:a.$t("user.error.required.account")}]},{default:l(()=>[e(c,{modelValue:o.value.account,"onUpdate:modelValue":t[2]||(t[2]=u=>o.value.account=u),placeholder:a.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"password",label:a.$t("user.label.password"),rules:[{required:!0,message:a.$t("user.error.required.password")},{match:/^.{6,}$/,message:a.$t("user.error.pattern.password")}]},{default:l(()=>[e(c,{modelValue:o.value.password,"onUpdate:modelValue":t[3]||(t[3]=u=>o.value.password=u),placeholder:a.$t("user.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"quota",label:a.$t("common.quota"),rules:[{required:!0,message:a.$t("placeholder.quota")}]},{default:l(()=>[e(B,{modelValue:o.value.quota,"onUpdate:modelValue":t[4]||(t[4]=u=>o.value.quota=u),placeholder:a.$t("placeholder.quota"),min:1e-6,max:9999999999999,parser:s(_e),"allow-clear":""},{prefix:l(()=>[p(m(s(I).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder","min","parser"])]),_:1},8,["label","rules"]),e(n,null,{default:l(()=>[e(R,{type:"button",onChange:H},{default:l(()=>[e(r,{value:5},{default:l(()=>[e(d,{"model-value":5})]),_:1}),e(r,{value:10},{default:l(()=>[e(d,{"model-value":10})]),_:1}),e(r,{value:20},{default:l(()=>[e(d,{"model-value":20})]),_:1}),e(r,{value:50},{default:l(()=>[e(d,{"model-value":50})]),_:1}),e(r,{value:100},{default:l(()=>[e(d,{"model-value":100})]),_:1}),e(r,{value:200},{default:l(()=>[e(d,{"model-value":200})]),_:1}),e(r,{value:300},{default:l(()=>[e(d,{"model-value":300})]),_:1}),e(r,{value:500},{default:l(()=>[e(d,{"model-value":500})]),_:1}),e(r,{value:1e3},{default:l(()=>[e(d,{"model-value":1e3})]),_:1}),e(r,{value:2e3},{default:l(()=>[e(d,{"model-value":2e3})]),_:1}),e(r,{value:5e3},{default:l(()=>[e(d,{"model-value":5e3})]),_:1}),e(r,{value:1e4,style:{padding:"0 2px"}},{default:l(()=>[e(d,{"model-value":1e4})]),_:1})]),_:1})]),_:1}),e(n,{field:"quota_type",label:a.$t("user.label.quota_type"),rules:[{required:!0,message:a.$t("user.error.required.quota_type")}]},{default:l(()=>[e(V,{size:"large"},{default:l(()=>[e(r,{modelValue:o.value.quota_type,"onUpdate:modelValue":t[5]||(t[5]=u=>o.value.quota_type=u),value:"1","default-checked":!0},{default:l(()=>[p(m(a.$t("finance.dict.deal_type.1")),1)]),_:1},8,["modelValue"]),e(r,{modelValue:o.value.quota_type,"onUpdate:modelValue":t[6]||(t[6]=u=>o.value.quota_type=u),value:"3"},{default:l(()=>[p(m(a.$t("finance.dict.deal_type.3")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),e(n,{field:"quota_expires_at",label:a.$t("user.label.quota_expires_at")},{default:l(()=>[e(F,{modelValue:o.value.quota_expires_at,"onUpdate:modelValue":t[7]||(t[7]=u=>o.value.quota_expires_at=u),placeholder:a.$t("user.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":s(fe),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>s(i)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>s(i)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>s(i)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>s(i)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>s(i)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>s(i)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>s(i)(o.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(n,{field:"groups",label:a.$t("common.groups"),style:{"align-items":"center"}},{default:l(()=>[e(Q,{modelValue:o.value.groups,"onUpdate:modelValue":t[8]||(t[8]=u=>o.value.groups=u),placeholder:a.$t(s(C)==="reseller"?"user.placeholder.reseller.create.groups":"user.placeholder.create.groups"),scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:l(()=>[(v(!0),w(K,null,O(y.value,u=>(v(),Z(G,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(n,{field:"remark",label:a.$t("common.remark")},{default:l(()=>[e(N,{modelValue:o.value.remark,"onUpdate:modelValue":t[9]||(t[9]=u=>o.value.remark=u),placeholder:a.$t("placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(V,null,{default:l(()=>[h("div",Ve,[e($,{type:"secondary",onClick:t[10]||(t[10]=u=>a.$router.push({name:"UserList"}))},{default:l(()=>[p(m(a.$t("button.cancel")),1)]),_:1}),e($,{type:"primary",onClick:S},{default:l(()=>[p(m(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Je=E(we,[["__scopeId","data-v-88663ab7"]]);export{Je as default};
