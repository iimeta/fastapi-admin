import{u as ce,H as Re,s as Je,A as Ke,k as Qe,B as We,_ as Xe}from"./index.7c3ae8ed.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as pe,e as C,B as l,C as d,aH as e,aG as a,u as s,aD as f,aM as i,aL as w,bA as Ye,bB as Ze,bC as ea,bD as aa,bE as ta,r as re,c as Y,w as la,aJ as H,aI as P,D as B,E as oa,n as sa,aK as na,aF as ua,b1 as ia,b2 as da,bG as ra,bH as ca,bI as pa,bJ as _a,bK as ma,b5 as fa,bL as ga,ab as ba,aU as va,bi as ya,bj as ha,bk as ka,bl as wa,b4 as $a,bM as Ca,aT as xa,bS as Da,bN as Va,bO as Fa,aV as Sa,a_ as Ea,bU as Ba,g as qa,b9 as za,ba as Aa}from"./arco.73de4031.js";import{u as _e}from"./loading.0c20cf1b.js";import{d as Ia,a as I}from"./common.40249f44.js";import{a as Ua,b as Na,s as La,c as Ga,d as Ha,e as Pa,f as Ma}from"./group.ab085dec.js";import{c as Z,S as ja}from"./sortable.esm.7de80f5d.js";import{q as Oa}from"./model.f3d3603c.js";import{q as Ta}from"./model_agent.8d06ab1a.js";import{M as Ra}from"./models.33ac2acb.js";import{Q as M}from"./quota.20c026d3.js";/* empty css                *//* empty css                */import"./chart.b5ad42b0.js";import"./vue.e54f3d1e.js";import"./provider.365ce2c6.js";const Ja={style:{margin:"10px 0 30px 10px"}},Ka={key:1},Qa={key:1},Wa={key:1},Xa={key:1},Ya={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Za={key:1},et={key:1},at={key:2},tt={key:1},lt={key:1},ot={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},st={key:1},nt={key:1},ut={key:1},it={key:1},dt={key:1},rt={key:1},ct={key:1},pt={key:1},_t={key:1},mt={key:1},ft={key:1},gt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},bt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},vt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},yt={key:1},ht={key:1},kt={key:1},wt={key:1},$t={name:"GroupDetail"},Ct=pe({...$t,props:{id:{type:String,default:""}},setup(U){const j=U,{t:u}=ce(),{loading:_,setLoading:h}=_e(!0),r=C({});return(async(v={id:j.id})=>{h(!0);try{const{data:y}=await Ua(v);r.value=y}catch{}finally{h(!1)}})(),(v,y)=>{const m=Ye,g=Ze,b=ea,D=aa,q=ta;return l(),d("div",Ja,[e(q,{column:2,bordered:"","label-style":{padding:"5px 8px 5px 15px"},"value-style":{width:"350px",padding:"5px 8px 5px 15px"}},{default:a(()=>[e(b,{label:s(u)("group.detail.label.name")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",Ka,i(r.value.name),1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.is_default")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",Qa,i(s(u)(`dict.${r.value.is_default||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.discount")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",Wa,i(Number((r.value.discount*100).toFixed(2)))+"% ",1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.used_quota")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",Xa,[e(M,{"model-value":r.value.used_quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.models"),span:2},{default:a(()=>{var c,p;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",Ya,i(((p=(c=r.value)==null?void 0:c.model_names)==null?void 0:p.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("common.is_public")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",Za,i(s(u)(`dict.public.${r.value.is_public||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.weight")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):r.value.is_default?(l(),d("span",et,"\u6700\u9AD8")):(l(),d("span",at,i(r.value.weight||"-"),1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.is_enable_model_agent")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",tt,i(s(u)(`dict.enable.${r.value.is_enable_model_agent||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(u)("model.detail.label.lb_strategy")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",lt,i(v.$t(`dict.lb_strategy.${r.value.lb_strategy||1}`)),1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.model_agents"),span:2},{default:a(()=>{var c,p;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",ot,i(((p=(c=r.value)==null?void 0:c.model_agent_names)==null?void 0:p.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.is_limit_quota")},{default:a(()=>{var c;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",st,i(s(u)(`dict.${((c=r.value)==null?void 0:c.is_limit_quota)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.quota")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",nt,[r.value.is_limit_quota?(l(),f(M,{key:0,"model-value":r.value.quota},null,8,["model-value"])):(l(),d("span",ut,i(v.$t("app.columns.quota.no_limit")),1))]))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.is_enable_forward")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",it,i(s(u)(`dict.enable.${r.value.is_enable_forward||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.forward_rule")},{default:a(()=>{var c,p,k,V;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",dt,i((p=(c=r.value)==null?void 0:c.forward_config)!=null&&p.forward_rule?s(u)(`group.dict.forward_rule.${((V=(k=r.value)==null?void 0:k.forward_config)==null?void 0:V.forward_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.content_length")},{default:a(()=>{var c,p;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",rt,i(((p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.content_length)||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.used_quota")},{default:a(()=>{var c,p,k,V;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",ct,[(p=(c=r.value)==null?void 0:c.forward_config)!=null&&p.used_quota?(l(),f(M,{key:0,"model-value":(V=(k=r.value)==null?void 0:k.forward_config)==null?void 0:V.used_quota},null,8,["model-value"])):(l(),d("span",pt," - "))]))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.target_model")},{default:a(()=>{var c,p;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",_t,i(((p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.target_model_name)||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.match_rule")},{default:a(()=>{var c,p,k,V;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",mt,i((p=(c=r.value)==null?void 0:c.forward_config)!=null&&p.match_rule?s(u)(`group.dict.match_rule.${((V=(k=r.value)==null?void 0:k.forward_config)==null?void 0:V.match_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.decision_model")},{default:a(()=>{var c,p;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",ft,i(((p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.decision_model_name)||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.keywords")},{default:a(()=>{var c,p,k;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",gt,i(((k=(p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.keywords)==null?void 0:k.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.target_model")},{default:a(()=>{var c,p,k;return[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",bt,i(((k=(p=(c=r.value)==null?void 0:c.forward_config)==null?void 0:p.target_model_names)==null?void 0:k.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.remark"),span:2},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",vt,i(r.value.remark||"-"),1))]),_:1},8,["label"]),e(b,{label:s(u)("group.detail.label.expires_at")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",yt,i(r.value.expires_at||"-"),1))]),_:1},8,["label"]),e(b,{label:s(u)("common.status")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",ht,[r.value.status===1?(l(),f(D,{key:0,color:"green"},{default:a(()=>[w(i(v.$t(`dict.status.${r.value.status}`)),1)]),_:1})):(l(),f(D,{key:1,color:"red"},{default:a(()=>[w(i(v.$t(`dict.status.${r.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(b,{label:s(u)("common.created_at")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",kt,i(r.value.created_at),1))]),_:1},8,["label"]),e(b,{label:s(u)("common.updated_at")},{default:a(()=>[s(_)?(l(),f(g,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(l(),d("span",wt,i(r.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),xt=U=>(za("data-v-d8e2251e"),U=U(),Aa(),U),Dt={class:"container"},Vt={class:"action-icon"},Ft={class:"action-icon"},St={id:"tableSetting"},Et={style:{"margin-right":"4px",cursor:"move"}},Bt={class:"title"},qt={key:0,title:"\u9ED8\u8BA4\u5206\u7EC4"},zt={key:1},At={key:0},It={key:1},Ut={key:0},Nt=xt(()=>B("b",null,"\u6700\u9AD8",-1)),Lt=[Nt],Gt={key:1},Ht={name:"GroupList"},Pt=pe({...Ht,setup(U){const{loading:j,setLoading:u}=_e(!0),{proxy:_}=qa(),{t:h}=ce(),r=re({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),O=()=>({name:"",models:[],model_agents:[],status:C(),remark:"",expires_at:[]}),v=C([]),y=C(O()),m=C([]),g=C([]),b=C("medium"),D=C([]),q=C(!0),c=C(),p={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},k=re({...p}),V=Y(()=>[{name:h("size.mini"),value:"mini"},{name:h("size.small"),value:"small"},{name:h("size.medium"),value:"medium"},{name:h("size.large"),value:"large"}]),me=Y(()=>[{title:h("group.columns.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:h("group.columns.discount"),dataIndex:"discount",slotName:"discount",align:"center"},{title:h("group.columns.models"),dataIndex:"model_names",slotName:"model_names",align:"center",ellipsis:!0,tooltip:!0},{title:h("group.columns.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:h("group.columns.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:h("group.columns.weight"),dataIndex:"weight",slotName:"weight",align:"center"},{title:h("model.columns.lb_strategy"),dataIndex:"lb_strategy",slotName:"lb_strategy",align:"center"},{title:h("group.columns.is_public"),dataIndex:"is_public",slotName:"is_public",align:"center",width:65},{title:h("group.columns.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:h("group.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:h("group.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),fe=Y(()=>[{label:h("dict.status.1"),value:1},{label:h("dict.status.2"),value:2}]),L=async(o={...p})=>{u(!0);try{const{data:n}=await Na(o);v.value=n.items,k.current=o.current,k.pageSize=o.pageSize,k.total=n.paging.total}catch{}finally{u(!1),c.value.selectAll(!1)}};L();const A=()=>{L({...p,...y.value})},ge=o=>{L({...p,...y.value,current:o})},be=o=>{p.pageSize=o,L({...p,...y.value})},ve=()=>{y.value=O(),A()},ye=(o,n)=>{b.value=o},he=(o,n,F)=>{o?m.value.splice(F,0,n):m.value=g.value.filter(S=>S.dataIndex!==n.dataIndex)},ee=(o,n,F,S=!1)=>{const z=S?Z(o):o;return n>-1&&F>-1&&z.splice(n,1,z.splice(F,1,z[n]).pop()),z},ke=o=>{o&&sa(()=>{const n=document.getElementById("tableSetting");new ja(n,{onEnd(F){const{oldIndex:S,newIndex:z}=F;ee(m.value,S,z),ee(g.value,S,z)}})})};la(()=>me.value,o=>{m.value=Z(o),m.value.forEach((n,F)=>{n.checked=!0}),g.value=Z(m.value)},{deep:!0,immediate:!0});const ae=C([]);(async()=>{try{const{data:o}=await Oa();ae.value=o.items}catch{}})();const te=C([]);(async()=>{try{const{data:o}=await Ta();te.value=o.items}catch{}})();const we=async o=>{u(!0);try{await La(o),_.$message.success("\u5220\u9664\u6210\u529F"),A()}catch{}finally{u(!1)}},$e=async o=>{u(!0);try{await Ga(o),_.$message.success("\u64CD\u4F5C\u6210\u529F"),A()}catch{}finally{u(!1)}},Ce=async o=>{u(!0);try{await Ha(o),_.$message.success("\u64CD\u4F5C\u6210\u529F"),A()}catch{}finally{u(!1)}},xe=async o=>{u(!0);try{await Pa(o),_.$message.success("\u64CD\u4F5C\u6210\u529F"),A()}catch{}finally{u(!1)}},De=o=>{D.value=o,q.value=!o.length},T=o=>{if(D.value.length===0)_.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let n=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;switch(o.action){case"status":o.value===1?n=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`:n=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;break;case"delete":n=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;break}_.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:n,hideCancel:!1,onOk:()=>{u(!0),o.ids=D.value,Ma(o).then(F=>{u(!1),_.$message.success("\u64CD\u4F5C\u6210\u529F"),A(),c.value.selectAll(!1)})}})}},R=C(!1),G=C(),Ve=o=>{R.value=!0,G.value=o},Fe=()=>{R.value=!1},J=C(!1),le=C(),Se=o=>{J.value=!0,G.value=o,le.value="group"};return(o,n)=>{const F=Re,S=na,z=ua,oe=ia,N=da,E=ra,se=ca,K=pa,Ee=_a,Q=ma,Be=fa,ne=ga,qe=ba,x=va,ue=Je,ie=ya,W=ha,ze=Ke,Ae=ka,Ie=wa,Ue=Qe,Ne=We,Le=$a,Ge=Ca,de=xa,He=Da,Pe=Va,Me=Fa,je=Sa,Oe=Ea,Te=Ba;return l(),d("div",Dt,[e(z,{class:"container-breadcrumb"},{default:a(()=>[e(S,null,{default:a(()=>[e(F)]),_:1}),e(S,null,{default:a(()=>[w(i(o.$t("menu.group")),1)]),_:1}),e(S,null,{default:a(()=>[w(i(o.$t("menu.group.list")),1)]),_:1})]),_:1}),e(Te,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(Q,null,{default:a(()=>[e(E,{flex:1},{default:a(()=>[e(Be,{model:y.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(Q,{gutter:16},{default:a(()=>[e(E,{span:8},{default:a(()=>[e(N,{field:"name",label:o.$t("group.form.name")},{default:a(()=>[e(oe,{modelValue:y.value.name,"onUpdate:modelValue":n[0]||(n[0]=t=>y.value.name=t),placeholder:o.$t("group.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:8},{default:a(()=>[e(N,{field:"models",label:o.$t("group.form.models")},{default:a(()=>[e(K,{modelValue:y.value.models,"onUpdate:modelValue":n[1]||(n[1]=t=>y.value.models=t),placeholder:o.$t("group.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(l(!0),d(H,null,P(ae.value,t=>(l(),f(se,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:8},{default:a(()=>[e(N,{field:"model_agents",label:o.$t("group.form.model_agents")},{default:a(()=>[e(K,{modelValue:y.value.model_agents,"onUpdate:modelValue":n[2]||(n[2]=t=>y.value.model_agents=t),placeholder:o.$t("group.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(l(!0),d(H,null,P(te.value,t=>(l(),f(se,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:8},{default:a(()=>[e(N,{field:"remark",label:o.$t("group.form.remark")},{default:a(()=>[e(oe,{modelValue:y.value.remark,"onUpdate:modelValue":n[3]||(n[3]=t=>y.value.remark=t),placeholder:o.$t("group.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:8},{default:a(()=>[e(N,{field:"status",label:o.$t("group.form.status")},{default:a(()=>[e(K,{modelValue:y.value.status,"onUpdate:modelValue":n[4]||(n[4]=t=>y.value.status=t),placeholder:o.$t("group.form.selectDefault"),options:s(fe),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(E,{span:8},{default:a(()=>[e(N,{field:"expires_at",label:o.$t("group.form.expires_at")},{default:a(()=>[e(Ee,{modelValue:y.value.expires_at,"onUpdate:modelValue":n[5]||(n[5]=t=>y.value.expires_at=t),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(ne,{style:{height:"84px"},direction:"vertical"}),e(E,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(ie,{direction:"vertical",size:18},{default:a(()=>[e(x,{type:"primary",onClick:A},{icon:a(()=>[e(qe)]),default:a(()=>[w(" "+i(o.$t("group.form.search")),1)]),_:1}),e(x,{onClick:ve},{icon:a(()=>[e(ue)]),default:a(()=>[w(" "+i(o.$t("group.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ne,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(Q,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(E,{span:12},{default:a(()=>[e(ie,null,{default:a(()=>[e(x,{type:"primary",onClick:n[6]||(n[6]=t=>o.$router.push({name:"GroupCreate"}))},{default:a(()=>[w(i(o.$t("group.operation.create")),1)]),_:1}),e(x,{type:"primary",status:"success",disabled:q.value,title:q.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[7]||(n[7]=t=>T({action:"status",value:1}))},{default:a(()=>[w(" \u542F\u7528 ")]),_:1},8,["disabled","title"]),e(x,{type:"primary",status:"danger",disabled:q.value,title:q.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[8]||(n[8]=t=>T({action:"status",value:2}))},{default:a(()=>[w(" \u7981\u7528 ")]),_:1},8,["disabled","title"]),e(x,{type:"primary",status:"danger",disabled:q.value,title:q.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[9]||(n[9]=t=>T({action:"delete"}))},{default:a(()=>[w(" \u5220\u9664 ")]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(E,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(W,{content:o.$t("actions.refresh")},{default:a(()=>[B("div",{class:"action-icon",onClick:A},[e(ue,{size:"18"})])]),_:1},8,["content"]),e(Ie,{onSelect:ye},{content:a(()=>[(l(!0),d(H,null,P(s(V),t=>(l(),f(Ae,{key:t.value,value:t.value,class:oa({active:t.value===b.value})},{default:a(()=>[B("span",null,i(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(W,{content:o.$t("actions.density")},{default:a(()=>[B("div",Vt,[e(ze,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(W,{content:o.$t("actions.column_setting")},{default:a(()=>[e(Ge,{trigger:"click",position:"bl",onPopupVisibleChange:ke},{content:a(()=>[B("div",St,[(l(!0),d(H,null,P(g.value,(t,$)=>(l(),d("div",{key:t.dataIndex,class:"setting"},[B("div",Et,[e(Ne)]),B("div",null,[e(Le,{modelValue:t.checked,"onUpdate:modelValue":X=>t.checked=X,onChange:X=>he(X,t,$)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),B("div",Bt,i(t.title==="#"?"\u5E8F\u5217\u53F7":t.title),1)]))),128))])]),default:a(()=>[B("div",Ft,[e(Ue,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(Me,{ref_key:"tableRef",ref:c,"row-key":"id",loading:s(j),pagination:k,columns:m.value,data:v.value,bordered:!1,size:b.value,"row-selection":r,onPageChange:ge,onPageSizeChange:be,onSelectionChange:De},{name:a(({record:t})=>[t.is_default?(l(),d("span",qt,[B("b",null,i(t.name),1)])):(l(),d("span",zt,i(t.name),1))]),discount:a(({record:t})=>[w(i(Number((t.discount*100).toFixed(2)))+"% ",1)]),model_names:a(({record:t})=>[t.model_names?(l(),d("span",At,[e(x,{type:"text",size:"small",onClick:$=>Se(t.id)},{default:a(()=>[w(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(l(),d("span",It,i("-")))]),model_agent_names:a(({record:t})=>{var $;return[w(i((($=t==null?void 0:t.model_agent_names)==null?void 0:$.join(","))||"-"),1)]}),used_quota:a(({record:t})=>[e(M,{"model-value":t.used_quota},null,8,["model-value"])]),weight:a(({record:t})=>[t.is_default?(l(),d("span",Ut,Lt)):(l(),d("span",Gt,i(t.weight||"-"),1))]),lb_strategy:a(({record:t})=>[w(i(t.is_enable_model_agent?o.$t(`dict.lb_strategy.${t.lb_strategy||1}`):"-"),1)]),is_public:a(({record:t})=>[e(de,{modelValue:t.is_public,"onUpdate:modelValue":$=>t.is_public=$,"checked-value":!0,"unchecked-value":!1,onChange:$=>$e({id:t.id,is_public:t.is_public})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),status:a(({record:t})=>[e(de,{modelValue:t.status,"onUpdate:modelValue":$=>t.status=$,"checked-value":1,"unchecked-value":2,onChange:$=>xe({id:t.id,status:t.status})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),remark:a(({record:t})=>[w(i(t.remark||"-"),1)]),expires_at:a(({rowIndex:t})=>[e(He,{modelValue:v.value[t].expires_at,"onUpdate:modelValue":$=>v.value[t].expires_at=$,placeholder:o.$t("group.columns.placeholder.expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":s(Ia),"show-time":"",shortcuts:[{label:"1",value:()=>s(I)(v.value[t].expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>s(I)(v.value[t].expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>s(I)(v.value[t].expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>s(I)(v.value[t].expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>s(I)(v.value[t].expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>s(I)(v.value[t].expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>s(I)(v.value[t].expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}],onChange:$=>Ce({id:v.value[t].id,expires_at:v.value[t].expires_at})},{default:a(()=>[e(x,{style:{width:"150px"}},{default:a(()=>[w(i(v.value[t].expires_at||o.$t("group.columns.placeholder.expires_at")),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled-date","shortcuts","onChange"])]),operations:a(({record:t})=>[e(x,{type:"text",size:"small",onClick:$=>Ve(t.id)},{default:a(()=>[w(i(o.$t("group.columns.operations.view")),1)]),_:2},1032,["onClick"]),e(x,{type:"text",size:"small",onClick:$=>o.$router.push({name:"GroupUpdate",query:{id:t.id}})},{default:a(()=>[w(i(o.$t("group.columns.operations.update")),1)]),_:2},1032,["onClick"]),e(Pe,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:$=>we({id:t.id})},{default:a(()=>[e(x,{type:"text",size:"small"},{default:a(()=>[w(i(o.$t("group.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(je,{title:o.$t("menu.group.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:R.value,onCancel:Fe},{default:a(()=>[e(Ct,{id:G.value},null,8,["id"])]),_:1},8,["title","visible"]),e(Oe,{visible:J.value,"onUpdate:visible":n[10]||(n[10]=t=>J.value=t),title:o.$t("common.models"),"modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"1080px","ok-text":"\u5173\u95ED"},{default:a(()=>[e(Ra,{id:G.value,action:le.value},null,8,["id","action"])]),_:1},8,["visible","title"])]),_:1})])}}});const kl=Xe(Pt,[["__scopeId","data-v-d8e2251e"]]);export{kl as default};
