import{b as A,j as E,_ as P}from"./index.1826c165.js";/* empty css               *//* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               */import{d as z,e as c,B as b,C as w,aH as e,aG as a,aL as p,aM as i,D as h,u as d,aJ as J,aI as K,aD as M,aK as O,aF as x,b1 as W,b2 as X,aS as Y,bQ as Z,bR as ee,bi as ae,bS as le,bH as re,bI as te,bT as oe,aU as ue,b5 as se,bU as de,bV as ne,g as pe}from"./arco.088e2a49.js";import{u as me}from"./loading.6f488126.js";import{p as ie,d as _e,a as m}from"./common.051a2527.js";import{f as ce}from"./vue.bd25b247.js";import{g as fe}from"./admin_reseller.94399cec.js";import{q as be}from"./group.470556b4.js";import{Q as s}from"./quota.7b0bf6ce.js";import"./chart.0bfa65d3.js";const ve={class:"container"},qe={class:"wrapper"},ye={class:"submit-btn"},ge={name:"ResellerCreate"},Ve=z({...ge,setup($e){const{proxy:k}=pe(),{loading:D,setLoading:v}=me(!1),C=ce(),U=A(),q=c([]);(async()=>{try{const{data:l}=await be();q.value=l.items}catch{}})();const y=c(),r=c({name:"",email:"",account:"",password:"",quota:c(),quota_type:"1",quota_expires_at:"",groups:[],remark:""}),R=async()=>{var t;if(!await((t=y.value)==null?void 0:t.validate())){v(!0);try{await fe(r.value).then(()=>{k.$message.success("\u65B0\u5EFA\u6210\u529F"),C.push({name:"ResellerList"})})}catch{}finally{v(!1)}}},S=l=>{r.value.quota=l};return(l,t)=>{const g=E,f=O,B=x,_=W,n=X,H=Y,u=Z,I=ee,V=ae,L=le,F=re,G=te,Q=oe,$=ue,N=se,T=de,j=ne;return b(),w("div",ve,[e(B,{class:"container-breadcrumb"},{default:a(()=>[e(f,null,{default:a(()=>[e(g)]),_:1}),e(f,null,{default:a(()=>[p(i(l.$t("menu.sys")),1)]),_:1}),e(f,null,{default:a(()=>[p(i(l.$t("menu.reseller.create")),1)]),_:1})]),_:1}),e(j,{loading:d(D),style:{width:"100%"}},{default:a(()=>[e(T,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:a(()=>[h("div",qe,[e(N,{ref_key:"formRef",ref:y,model:r.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:a(()=>[e(n,{field:"name",label:l.$t("reseller.label.name"),rules:[{required:!0,message:l.$t("reseller.error.name.required")},{match:/^.{1,30}$/,message:l.$t("reseller.error.name.pattern")}]},{default:a(()=>[e(_,{modelValue:r.value.name,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value.name=o),placeholder:l.$t("reseller.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"email",label:l.$t("reseller.label.email"),rules:[{required:!0,message:l.$t("reseller.error.email.required")}]},{default:a(()=>[e(_,{modelValue:r.value.email,"onUpdate:modelValue":t[1]||(t[1]=o=>r.value.email=o),placeholder:l.$t("reseller.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"account",label:l.$t("reseller.label.account"),rules:[{required:!0,message:l.$t("reseller.error.account.required")}]},{default:a(()=>[e(_,{modelValue:r.value.account,"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.account=o),placeholder:l.$t("reseller.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"password",label:l.$t("reseller.label.password"),rules:[{required:!0,message:l.$t("reseller.error.password.required")},{match:/^.{6,}$/,message:l.$t("reseller.error.password.pattern")}]},{default:a(()=>[e(_,{modelValue:r.value.password,"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.password=o),placeholder:l.$t("reseller.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"quota",label:l.$t("reseller.label.quota"),rules:[{required:!0,message:l.$t("reseller.error.quota.required")}]},{default:a(()=>[e(H,{modelValue:r.value.quota,"onUpdate:modelValue":t[4]||(t[4]=o=>r.value.quota=o),placeholder:l.$t("reseller.placeholder.quota"),min:1e-6,max:9999999999999,parser:d(ie),"allow-clear":""},{prefix:a(()=>[p(i(d(U).getCurrencySymbol),1)]),_:1},8,["modelValue","placeholder","min","parser"])]),_:1},8,["label","rules"]),e(n,null,{default:a(()=>[e(I,{type:"button",onChange:S},{default:a(()=>[e(u,{value:5},{default:a(()=>[e(s,{"model-value":5})]),_:1}),e(u,{value:10},{default:a(()=>[e(s,{"model-value":10})]),_:1}),e(u,{value:20},{default:a(()=>[e(s,{"model-value":20})]),_:1}),e(u,{value:50},{default:a(()=>[e(s,{"model-value":50})]),_:1}),e(u,{value:100},{default:a(()=>[e(s,{"model-value":100})]),_:1}),e(u,{value:200},{default:a(()=>[e(s,{"model-value":200})]),_:1}),e(u,{value:300},{default:a(()=>[e(s,{"model-value":300})]),_:1}),e(u,{value:500},{default:a(()=>[e(s,{"model-value":500})]),_:1}),e(u,{value:1e3},{default:a(()=>[e(s,{"model-value":1e3})]),_:1}),e(u,{value:2e3},{default:a(()=>[e(s,{"model-value":2e3})]),_:1}),e(u,{value:5e3},{default:a(()=>[e(s,{"model-value":5e3})]),_:1}),e(u,{value:1e4,style:{padding:"0 2px"}},{default:a(()=>[e(s,{"model-value":1e4})]),_:1})]),_:1})]),_:1}),e(n,{field:"quota_type",label:l.$t("reseller.label.quota_type"),rules:[{required:!0,message:l.$t("reseller.error.quota_type.required")}]},{default:a(()=>[e(V,{size:"large"},{default:a(()=>[e(u,{modelValue:r.value.quota_type,"onUpdate:modelValue":t[5]||(t[5]=o=>r.value.quota_type=o),value:"1","default-checked":!0},{default:a(()=>[p(" \u5145\u503C ")]),_:1},8,["modelValue"]),e(u,{modelValue:r.value.quota_type,"onUpdate:modelValue":t[6]||(t[6]=o=>r.value.quota_type=o),value:"3"},{default:a(()=>[p(" \u8D60\u9001 ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),e(n,{field:"quota_expires_at",label:l.$t("reseller.label.quota_expires_at")},{default:a(()=>[e(L,{modelValue:r.value.quota_expires_at,"onUpdate:modelValue":t[7]||(t[7]=o=>r.value.quota_expires_at=o),placeholder:l.$t("reseller.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":d(_e),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>d(m)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>d(m)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>d(m)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>d(m)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>d(m)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>d(m)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>d(m)(r.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(n,{field:"groups",label:l.$t("reseller.label.groups"),style:{"align-items":"center"}},{default:a(()=>[e(G,{modelValue:r.value.groups,"onUpdate:modelValue":t[8]||(t[8]=o=>r.value.groups=o),placeholder:l.$t("reseller.placeholder.create.groups"),scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(b(!0),w(J,null,K(q.value,o=>(b(),M(F,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(n,{field:"remark",label:l.$t("reseller.label.remark")},{default:a(()=>[e(Q,{modelValue:r.value.remark,"onUpdate:modelValue":t[9]||(t[9]=o=>r.value.remark=o),placeholder:l.$t("reseller.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(V,null,{default:a(()=>[h("div",ye,[e($,{type:"secondary",onClick:t[10]||(t[10]=o=>l.$router.push({name:"ResellerList"}))},{default:a(()=>[p(i(l.$t("button.cancel")),1)]),_:1}),e($,{type:"primary",onClick:R},{default:a(()=>[p(i(l.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const ze=P(Ve,[["__scopeId","data-v-eb9c3a27"]]);export{ze as default};
