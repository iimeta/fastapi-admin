import{u as re,H as Oe,s as Re,A as Je,k as Ke,B as Qe,_ as We}from"./index.780491c6.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as ce,e as C,B as o,C as r,aH as e,aG as a,u as s,aD as g,aM as u,aL as k,bA as Xe,bB as Ye,bC as Ze,bD as ea,bE as aa,r as de,c as X,w as ta,aJ as H,aI as P,D as q,E as la,n as oa,aK as sa,aF as na,b1 as ua,b2 as ia,bH as da,bF as ra,bG as ca,bT as _a,bI as pa,b5 as ma,bJ as fa,ab as ga,aU as ba,bi as va,bj as ya,bk as ha,bl as ka,b4 as wa,bK as $a,aT as Ca,bV as xa,bL as Da,bM as Va,aV as Fa,a_ as Ea,bN as Sa,g as qa,b9 as Ba,ba as za}from"./arco.cbac690a.js";import{u as _e}from"./loading.b56ef223.js";import{d as I}from"./dayjs.min.4477b2e6.js";import{d as Aa}from"./common.5976a1f1.js";import{a as Ia,b as Na,s as Ua,c as La,d as Ga,e as Ha,f as Pa}from"./group.6a51724a.js";import{c as Y,S as Ma}from"./sortable.esm.59243d4c.js";import{q as ja}from"./model.3da89a35.js";import{f as Ta}from"./agent.228f96b5.js";import{M as Oa}from"./models.c7b2d676.js";/* empty css                *//* empty css                */import"./chart.e521dee8.js";import"./vue.4014b72a.js";import"./provider.b7238eab.js";const Ra={style:{margin:"10px 0 30px 10px"}},Ja={key:1},Ka={key:1},Qa={key:1},Wa={key:1},Xa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ya={key:1},Za={key:1},et={key:2},at={key:1},tt={key:1},lt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},ot={key:1},st={key:1},nt={key:1},ut={key:1},it={key:1},dt={key:1},rt={key:1},ct={key:1},_t={key:1},pt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},mt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},ft={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},gt={key:1},bt={key:1},vt={key:1},yt={key:1},ht={name:"GroupDetail"},kt=ce({...ht,props:{id:{type:String,default:""}},setup(N){const M=N,{t:i}=re(),{loading:p,setLoading:y}=_e(!0),d=C({});return(async(h={id:M.id})=>{y(!0);try{const{data:v}=await Ia(h);d.value=v}catch{}finally{y(!1)}})(),(h,v)=>{const m=Xe,f=Ye,b=Ze,D=ea,B=aa;return o(),r("div",Ra,[e(B,{column:2,bordered:"","label-style":{padding:"5px 8px 5px 15px"},"value-style":{width:"350px",padding:"5px 8px 5px 15px"}},{default:a(()=>[e(b,{label:s(i)("group.detail.label.name")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",Ja,u(d.value.name),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.is_default")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",Ka,u(s(i)(`dict.${d.value.is_default||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.discount")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",Qa,u(Number((d.value.discount*100).toFixed(2)))+"% ",1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.used_quota")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",Wa,u(d.value.used_quota>0?`$${d.value.used_quota}`:"$0.00"),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.models"),span:2},{default:a(()=>{var c,_;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",Xa,u(((_=(c=d.value)==null?void 0:c.model_names)==null?void 0:_.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("common.is_public")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",Ya,u(s(i)(`dict.public.${d.value.is_public||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.weight")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):d.value.is_default?(o(),r("span",Za,"\u6700\u9AD8")):(o(),r("span",et,u(d.value.weight||"-"),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.is_enable_model_agent")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",at,u(s(i)(`dict.enable.${d.value.is_enable_model_agent||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(i)("model.detail.label.lb_strategy")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",tt,u(h.$t(`dict.lb_strategy.${d.value.lb_strategy||1}`)),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.model_agents"),span:2},{default:a(()=>{var c,_;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",lt,u(((_=(c=d.value)==null?void 0:c.model_agent_names)==null?void 0:_.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.is_limit_quota")},{default:a(()=>{var c;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",ot,u(s(i)(`dict.${((c=d.value)==null?void 0:c.is_limit_quota)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.quota")},{default:a(()=>{var c;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",st,u((c=d.value)!=null&&c.is_limit_quota?d.value.quota>0?`$${d.value.quota}`:d.value.quota<0?`-$${-d.value.quota}`:"$0.00":"\u4E0D\u9650"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.is_enable_forward")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",nt,u(s(i)(`dict.enable.${d.value.is_enable_forward||!1}`)),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.forward_rule")},{default:a(()=>{var c,_,w,V;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",ut,u((_=(c=d.value)==null?void 0:c.forward_config)!=null&&_.forward_rule?s(i)(`group.dict.forward_rule.${((V=(w=d.value)==null?void 0:w.forward_config)==null?void 0:V.forward_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.content_length")},{default:a(()=>{var c,_;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",it,u(((_=(c=d.value)==null?void 0:c.forward_config)==null?void 0:_.content_length)||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.used_quota")},{default:a(()=>{var c,_,w,V;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",dt,u(((_=(c=d.value)==null?void 0:c.forward_config)==null?void 0:_.used_quota)>0?`$${(V=(w=d.value)==null?void 0:w.forward_config)==null?void 0:V.used_quota}`:"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.target_model")},{default:a(()=>{var c,_;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",rt,u(((_=(c=d.value)==null?void 0:c.forward_config)==null?void 0:_.target_model_name)||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.match_rule")},{default:a(()=>{var c,_,w,V;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",ct,u((_=(c=d.value)==null?void 0:c.forward_config)!=null&&_.match_rule?s(i)(`group.dict.match_rule.${((V=(w=d.value)==null?void 0:w.forward_config)==null?void 0:V.match_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.decision_model")},{default:a(()=>{var c,_;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",_t,u(((_=(c=d.value)==null?void 0:c.forward_config)==null?void 0:_.decision_model_name)||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.keywords")},{default:a(()=>{var c,_,w;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",pt,u(((w=(_=(c=d.value)==null?void 0:c.forward_config)==null?void 0:_.keywords)==null?void 0:w.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.target_model")},{default:a(()=>{var c,_,w;return[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",mt,u(((w=(_=(c=d.value)==null?void 0:c.forward_config)==null?void 0:_.target_model_names)==null?void 0:w.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.remark"),span:2},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",ft,u(d.value.remark||"-"),1))]),_:1},8,["label"]),e(b,{label:s(i)("group.detail.label.expires_at")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",gt,u(d.value.expires_at||"-"),1))]),_:1},8,["label"]),e(b,{label:s(i)("common.status")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",bt,[d.value.status===1?(o(),g(D,{key:0,color:"green"},{default:a(()=>[k(u(h.$t(`dict.status.${d.value.status}`)),1)]),_:1})):(o(),g(D,{key:1,color:"red"},{default:a(()=>[k(u(h.$t(`dict.status.${d.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(b,{label:s(i)("common.created_at")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",vt,u(d.value.created_at),1))]),_:1},8,["label"]),e(b,{label:s(i)("common.updated_at")},{default:a(()=>[s(p)?(o(),g(f,{key:0,animation:!0},{default:a(()=>[e(m,{rows:1})]),_:1})):(o(),r("span",yt,u(d.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),wt=N=>(Ba("data-v-31d231c6"),N=N(),za(),N),$t={class:"container"},Ct={class:"action-icon"},xt={class:"action-icon"},Dt={id:"tableSetting"},Vt={style:{"margin-right":"4px",cursor:"move"}},Ft={class:"title"},Et={key:0,title:"\u9ED8\u8BA4\u5206\u7EC4"},St={key:1},qt={key:0},Bt={key:1},zt={key:0},At=wt(()=>q("b",null,"\u6700\u9AD8",-1)),It=[At],Nt={key:1},Ut={name:"GroupList"},Lt=ce({...Ut,setup(N){const{loading:M,setLoading:i}=_e(!0),{proxy:p}=qa(),{t:y}=re(),d=de({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),j=()=>({name:"",models:[],model_agents:[],status:C(),remark:"",expires_at:[]}),h=C([]),v=C(j()),m=C([]),f=C([]),b=C("medium"),D=C([]),B=C(!0),c=C(),_={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},w=de({..._}),V=X(()=>[{name:y("size.mini"),value:"mini"},{name:y("size.small"),value:"small"},{name:y("size.medium"),value:"medium"},{name:y("size.large"),value:"large"}]),pe=X(()=>[{title:y("group.columns.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:y("group.columns.discount"),dataIndex:"discount",slotName:"discount",align:"center"},{title:y("group.columns.models"),dataIndex:"model_names",slotName:"model_names",align:"center",ellipsis:!0,tooltip:!0},{title:y("group.columns.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:y("group.columns.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:y("group.columns.weight"),dataIndex:"weight",slotName:"weight",align:"center"},{title:y("model.columns.lb_strategy"),dataIndex:"lb_strategy",slotName:"lb_strategy",align:"center"},{title:y("group.columns.is_public"),dataIndex:"is_public",slotName:"is_public",align:"center",width:65},{title:y("group.columns.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:y("group.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:y("group.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),me=X(()=>[{label:y("dict.status.1"),value:1},{label:y("dict.status.2"),value:2}]),L=async(l={..._})=>{i(!0);try{const{data:n}=await Na(l);h.value=n.items,w.current=l.current,w.pageSize=l.pageSize,w.total=n.paging.total}catch{}finally{i(!1),c.value.selectAll(!1)}};L();const A=()=>{L({..._,...v.value})},fe=l=>{L({..._,...v.value,current:l})},ge=l=>{_.pageSize=l,L({..._,...v.value})},be=()=>{v.value=j(),A()},ve=(l,n)=>{b.value=l},ye=(l,n,F)=>{l?m.value.splice(F,0,n):m.value=f.value.filter(E=>E.dataIndex!==n.dataIndex)},Z=(l,n,F,E=!1)=>{const z=E?Y(l):l;return n>-1&&F>-1&&z.splice(n,1,z.splice(F,1,z[n]).pop()),z},he=l=>{l&&oa(()=>{const n=document.getElementById("tableSetting");new Ma(n,{onEnd(F){const{oldIndex:E,newIndex:z}=F;Z(m.value,E,z),Z(f.value,E,z)}})})};ta(()=>pe.value,l=>{m.value=Y(l),m.value.forEach((n,F)=>{n.checked=!0}),f.value=Y(m.value)},{deep:!0,immediate:!0});const ee=C([]);(async()=>{try{const{data:l}=await ja();ee.value=l.items}catch{}})();const ae=C([]);(async()=>{try{const{data:l}=await Ta();ae.value=l.items}catch{}})();const ke=async l=>{i(!0);try{await Ua(l),p.$message.success("\u5220\u9664\u6210\u529F"),A()}catch{}finally{i(!1)}},we=async l=>{i(!0);try{await La(l),p.$message.success("\u64CD\u4F5C\u6210\u529F"),A()}catch{}finally{i(!1)}},$e=async l=>{i(!0);try{await Ga(l),p.$message.success("\u64CD\u4F5C\u6210\u529F"),A()}catch{}finally{i(!1)}},Ce=async l=>{i(!0);try{await Ha(l),p.$message.success("\u64CD\u4F5C\u6210\u529F"),A()}catch{}finally{i(!1)}},xe=l=>{D.value=l,B.value=!l.length},T=l=>{if(D.value.length===0)p.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let n=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;switch(l.action){case"status":l.value===1?n=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`:n=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;break;case"delete":n=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${D.value.length}\u6761\u6570\u636E?`;break}p.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:n,hideCancel:!1,onOk:()=>{i(!0),l.ids=D.value,Pa(l).then(F=>{i(!1),p.$message.success("\u64CD\u4F5C\u6210\u529F"),A(),c.value.selectAll(!1)})}})}},O=C(!1),G=C(),De=l=>{O.value=!0,G.value=l},Ve=()=>{O.value=!1},R=C(!1),te=C(),Fe=l=>{R.value=!0,G.value=l,te.value="group"};return(l,n)=>{const F=Oe,E=sa,z=na,le=ua,U=ia,S=da,oe=ra,J=ca,Ee=_a,K=pa,Se=ma,se=fa,qe=ga,x=ba,ne=Re,ue=va,Q=ya,Be=Je,ze=ha,Ae=ka,Ie=Ke,Ne=Qe,Ue=wa,Le=$a,ie=Ca,Ge=xa,He=Da,Pe=Va,Me=Fa,je=Ea,Te=Sa;return o(),r("div",$t,[e(z,{class:"container-breadcrumb"},{default:a(()=>[e(E,null,{default:a(()=>[e(F)]),_:1}),e(E,null,{default:a(()=>[k(u(l.$t("menu.group")),1)]),_:1}),e(E,null,{default:a(()=>[k(u(l.$t("menu.group.list")),1)]),_:1})]),_:1}),e(Te,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(K,null,{default:a(()=>[e(S,{flex:1},{default:a(()=>[e(Se,{model:v.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(K,{gutter:16},{default:a(()=>[e(S,{span:8},{default:a(()=>[e(U,{field:"name",label:l.$t("group.form.name")},{default:a(()=>[e(le,{modelValue:v.value.name,"onUpdate:modelValue":n[0]||(n[0]=t=>v.value.name=t),placeholder:l.$t("group.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(S,{span:8},{default:a(()=>[e(U,{field:"models",label:l.$t("group.form.models")},{default:a(()=>[e(J,{modelValue:v.value.models,"onUpdate:modelValue":n[1]||(n[1]=t=>v.value.models=t),placeholder:l.$t("group.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(o(!0),r(H,null,P(ee.value,t=>(o(),g(oe,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(S,{span:8},{default:a(()=>[e(U,{field:"model_agents",label:l.$t("group.form.model_agents")},{default:a(()=>[e(J,{modelValue:v.value.model_agents,"onUpdate:modelValue":n[2]||(n[2]=t=>v.value.model_agents=t),placeholder:l.$t("group.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(o(!0),r(H,null,P(ae.value,t=>(o(),g(oe,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(S,{span:8},{default:a(()=>[e(U,{field:"remark",label:l.$t("group.form.remark")},{default:a(()=>[e(le,{modelValue:v.value.remark,"onUpdate:modelValue":n[3]||(n[3]=t=>v.value.remark=t),placeholder:l.$t("group.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(S,{span:8},{default:a(()=>[e(U,{field:"status",label:l.$t("group.form.status")},{default:a(()=>[e(J,{modelValue:v.value.status,"onUpdate:modelValue":n[4]||(n[4]=t=>v.value.status=t),placeholder:l.$t("group.form.selectDefault"),options:s(me),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(S,{span:8},{default:a(()=>[e(U,{field:"expires_at",label:l.$t("group.form.expires_at")},{default:a(()=>[e(Ee,{modelValue:v.value.expires_at,"onUpdate:modelValue":n[5]||(n[5]=t=>v.value.expires_at=t),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(se,{style:{height:"84px"},direction:"vertical"}),e(S,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(ue,{direction:"vertical",size:18},{default:a(()=>[e(x,{type:"primary",onClick:A},{icon:a(()=>[e(qe)]),default:a(()=>[k(" "+u(l.$t("group.form.search")),1)]),_:1}),e(x,{onClick:be},{icon:a(()=>[e(ne)]),default:a(()=>[k(" "+u(l.$t("group.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(se,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(K,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(S,{span:12},{default:a(()=>[e(ue,null,{default:a(()=>[e(x,{type:"primary",onClick:n[6]||(n[6]=t=>l.$router.push({name:"GroupCreate"}))},{default:a(()=>[k(u(l.$t("group.operation.create")),1)]),_:1}),e(x,{type:"primary",status:"success",disabled:B.value,title:B.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[7]||(n[7]=t=>T({action:"status",value:1}))},{default:a(()=>[k(" \u542F\u7528 ")]),_:1},8,["disabled","title"]),e(x,{type:"primary",status:"danger",disabled:B.value,title:B.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[8]||(n[8]=t=>T({action:"status",value:2}))},{default:a(()=>[k(" \u7981\u7528 ")]),_:1},8,["disabled","title"]),e(x,{type:"primary",status:"danger",disabled:B.value,title:B.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:n[9]||(n[9]=t=>T({action:"delete"}))},{default:a(()=>[k(" \u5220\u9664 ")]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(S,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(Q,{content:l.$t("actions.refresh")},{default:a(()=>[q("div",{class:"action-icon",onClick:A},[e(ne,{size:"18"})])]),_:1},8,["content"]),e(Ae,{onSelect:ve},{content:a(()=>[(o(!0),r(H,null,P(s(V),t=>(o(),g(ze,{key:t.value,value:t.value,class:la({active:t.value===b.value})},{default:a(()=>[q("span",null,u(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(Q,{content:l.$t("actions.density")},{default:a(()=>[q("div",Ct,[e(Be,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(Q,{content:l.$t("actions.column_setting")},{default:a(()=>[e(Le,{trigger:"click",position:"bl",onPopupVisibleChange:he},{content:a(()=>[q("div",Dt,[(o(!0),r(H,null,P(f.value,(t,$)=>(o(),r("div",{key:t.dataIndex,class:"setting"},[q("div",Vt,[e(Ne)]),q("div",null,[e(Ue,{modelValue:t.checked,"onUpdate:modelValue":W=>t.checked=W,onChange:W=>ye(W,t,$)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),q("div",Ft,u(t.title==="#"?"\u5E8F\u5217\u53F7":t.title),1)]))),128))])]),default:a(()=>[q("div",xt,[e(Ie,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(Pe,{ref_key:"tableRef",ref:c,"row-key":"id",loading:s(M),pagination:w,columns:m.value,data:h.value,bordered:!1,size:b.value,"row-selection":d,onPageChange:fe,onPageSizeChange:ge,onSelectionChange:xe},{name:a(({record:t})=>[t.is_default?(o(),r("span",Et,[q("b",null,u(t.name),1)])):(o(),r("span",St,u(t.name),1))]),discount:a(({record:t})=>[k(u(Number((t.discount*100).toFixed(2)))+"% ",1)]),model_names:a(({record:t})=>[t.model_names?(o(),r("span",qt,[e(x,{type:"text",size:"small",onClick:$=>Fe(t.id)},{default:a(()=>[k(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(o(),r("span",Bt,u("-")))]),model_agent_names:a(({record:t})=>{var $;return[k(u((($=t==null?void 0:t.model_agent_names)==null?void 0:$.join(","))||"-"),1)]}),used_quota:a(({record:t})=>[k(" $"+u(t.used_quota>0?t.used_quota:"0.00"),1)]),weight:a(({record:t})=>[t.is_default?(o(),r("span",zt,It)):(o(),r("span",Nt,u(t.weight||"-"),1))]),lb_strategy:a(({record:t})=>[k(u(t.is_enable_model_agent?l.$t(`dict.lb_strategy.${t.lb_strategy||1}`):"-"),1)]),is_public:a(({record:t})=>[e(ie,{modelValue:t.is_public,"onUpdate:modelValue":$=>t.is_public=$,"checked-value":!0,"unchecked-value":!1,onChange:$=>we({id:`${t.id}`,is_public:`${t.is_public}`})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),status:a(({record:t})=>[e(ie,{modelValue:t.status,"onUpdate:modelValue":$=>t.status=$,"checked-value":1,"unchecked-value":2,onChange:$=>Ce({id:`${t.id}`,status:Number(`${t.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),remark:a(({record:t})=>[k(u(t.remark||"-"),1)]),expires_at:a(({rowIndex:t})=>[e(Ge,{modelValue:h.value[t].expires_at,"onUpdate:modelValue":$=>h.value[t].expires_at=$,placeholder:l.$t("group.columns.placeholder.expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":s(Aa),"show-time":"",shortcuts:[{label:"1",value:()=>s(I)(h.value[t].expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>s(I)(h.value[t].expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>s(I)(h.value[t].expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>s(I)(h.value[t].expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>s(I)(h.value[t].expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>s(I)(h.value[t].expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>s(I)(h.value[t].expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}],onChange:$=>$e({id:`${h.value[t].id}`,expires_at:`${h.value[t].expires_at}`})},{default:a(()=>[e(x,{style:{width:"150px"}},{default:a(()=>[k(u(h.value[t].expires_at||l.$t("group.columns.placeholder.expires_at")),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled-date","shortcuts","onChange"])]),operations:a(({record:t})=>[e(x,{type:"text",size:"small",onClick:$=>De(t.id)},{default:a(()=>[k(u(l.$t("group.columns.operations.view")),1)]),_:2},1032,["onClick"]),e(x,{type:"text",size:"small",onClick:$=>l.$router.push({name:"GroupUpdate",query:{id:`${t.id}`}})},{default:a(()=>[k(u(l.$t("group.columns.operations.update")),1)]),_:2},1032,["onClick"]),e(He,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:$=>ke({id:`${t.id}`})},{default:a(()=>[e(x,{type:"text",size:"small"},{default:a(()=>[k(u(l.$t("group.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(Me,{title:l.$t("menu.group.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:O.value,onCancel:Ve},{default:a(()=>[e(kt,{id:G.value},null,8,["id"])]),_:1},8,["title","visible"]),e(je,{visible:R.value,"onUpdate:visible":n[10]||(n[10]=t=>R.value=t),title:l.$t("common.models"),"modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"1080px","ok-text":"\u5173\u95ED"},{default:a(()=>[e(Oa,{id:G.value,action:te.value},null,8,["id","action"])]),_:1},8,["visible","title"])]),_:1})])}}});const vl=We(Lt,[["__scopeId","data-v-31d231c6"]]);export{vl as default};
