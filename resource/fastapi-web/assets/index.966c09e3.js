import{_ as C,x as K}from"./index.bb2c590c.js";/* empty css               *//* empty css                */import{d as S,e as v,B as p,aD as h,aG as a,aH as e,C as I,aJ as M,aI as A,aL as _,aM as f,bA as N,bB as R,b2 as T,b1 as E,aS as J,bK as F,aU as q,b5 as D,aT as O,bi as z,bz as G,F as H,bs as P,aE as j,u as Q,aK as W,aF as X,bL as Y,bM as Z,bJ as x,bN as ee}from"./arco.eaecec6c.js";import{u as B}from"./loading.4b5db008.js";import{c as ae}from"./agent.958bc25d.js";/* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{q as le}from"./corp.9cbf46c4.js";/* empty css                */import{q as te}from"./model.0578ac59.js";/* empty css                */import"./chart.54f38119.js";import"./vue.4ed7ee05.js";import"./base.87fcf6e2.js";const oe=S({__name:"base-info",emits:["changeStep"],setup(L,{emit:y}){const{setLoading:c}=B(!0),s=v(),o=v({corp:"",name:"",base_url:"",path:"",weight:v(),remark:""}),b=v([]);(async()=>{c(!0);try{const{data:l}=await le();b.value=l.items}catch{}finally{c(!1)}})();const n=async()=>{var t;await((t=s.value)==null?void 0:t.validate())||y("changeStep","forward",{...o.value})};return(l,t)=>{const d=N,k=R,m=T,i=E,V=J,w=F,$=q,U=D;return p(),h(U,{ref_key:"formRef",ref:s,model:o.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:a(()=>[e(m,{field:"corp",label:l.$t("model.agent.label.corp"),rules:[{required:!0,message:l.$t("model.agent.error.corp.required")}]},{default:a(()=>[e(k,{modelValue:o.value.corp,"onUpdate:modelValue":t[0]||(t[0]=r=>o.value.corp=r),placeholder:l.$t("model.agent.placeholder.corp"),"allow-search":""},{default:a(()=>[(p(!0),I(M,null,A(b.value,r=>(p(),h(d,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(m,{field:"name",label:l.$t("model.agent.label.name"),rules:[{required:!0,message:l.$t("model.agent.error.name.required")},{match:/^.{1,100}$/,message:l.$t("model.agent.error.name.pattern")}]},{default:a(()=>[e(i,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value.name=r),placeholder:l.$t("model.agent.placeholder.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(m,{field:"base_url",label:l.$t("model.agent.label.baseUrl"),rules:[{required:!0,message:l.$t("model.agent.error.baseUrl.required")}]},{default:a(()=>[e(i,{modelValue:o.value.base_url,"onUpdate:modelValue":t[2]||(t[2]=r=>o.value.base_url=r),placeholder:l.$t("model.agent.placeholder.baseUrl")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(m,{field:"path",label:l.$t("model.agent.label.path")},{default:a(()=>[e(i,{modelValue:o.value.path,"onUpdate:modelValue":t[3]||(t[3]=r=>o.value.path=r),placeholder:l.$t("model.agent.placeholder.path")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(m,{field:"weight",label:l.$t("model.agent.label.weight")},{default:a(()=>[e(V,{modelValue:o.value.weight,"onUpdate:modelValue":t[4]||(t[4]=r=>o.value.weight=r),precision:0,min:0,max:99999,placeholder:l.$t("model.agent.placeholder.weight")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(m,{field:"remark",label:l.$t("model.agent.label.remark")},{default:a(()=>[e(w,{modelValue:o.value.remark,"onUpdate:modelValue":t[5]||(t[5]=r=>o.value.remark=r),placeholder:l.$t("model.agent.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(m,null,{default:a(()=>[e($,{type:"primary",onClick:n},{default:a(()=>[_(f(l.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const ne=C(oe,[["__scopeId","data-v-1ec5392c"]]),se=S({__name:"advanced",emits:["changeStep"],setup(L,{emit:y}){const{setLoading:c}=B(!0),s=v([]);(async()=>{c(!0);try{const{data:t}=await te();s.value=t.items}catch{}finally{c(!1)}})();const b=v(),u=v({models:[],key:"",is_agents_only:!0}),n=async()=>{var d;await((d=b.value)==null?void 0:d.validate())||y("changeStep","submit",{...u.value})},l=()=>{y("changeStep","backward")};return(t,d)=>{const k=N,m=R,i=T,V=F,w=O,$=q,U=z,r=D;return p(),h(r,{ref_key:"formRef",ref:b,model:u.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:a(()=>[e(i,{field:"models",label:t.$t("model.agent.label.models"),rules:[{required:!1}]},{default:a(()=>[e(m,{modelValue:u.value.models,"onUpdate:modelValue":d[0]||(d[0]=g=>u.value.models=g),placeholder:t.$t("model.agent.placeholder.models"),"max-tag-count":3,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(p(!0),I(M,null,A(s.value,g=>(p(),h(k,{key:g.id,value:g.id,label:g.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(i,{field:"key",label:t.$t("model.agent.label.key")},{default:a(()=>[e(V,{modelValue:u.value.key,"onUpdate:modelValue":d[1]||(d[1]=g=>u.value.key=g),placeholder:t.$t("model.agent.placeholder.key"),"auto-size":{minRows:5,maxRows:10}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(i,{field:"is_agents_only",label:t.$t("model.agent.label.isAgentsOnly")},{default:a(()=>[e(w,{modelValue:u.value.is_agents_only,"onUpdate:modelValue":d[2]||(d[2]=g=>u.value.is_agents_only=g)},null,8,["modelValue"])]),_:1},8,["label"]),e(i,null,{default:a(()=>[e(U,null,{default:a(()=>[e($,{type:"secondary",onClick:l},{default:a(()=>[_(f(t.$t("model.agent.button.prev")),1)]),_:1}),e($,{type:"primary",onClick:n},{default:a(()=>[_(f(t.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const re=C(se,[["__scopeId","data-v-0332c203"]]),ue={class:"success-wrap"},de=S({__name:"success",emits:["changeStep"],setup(L,{emit:y}){const c=()=>{y("changeStep",1)};return(s,o)=>{const b=G,u=q,n=z;return p(),I("div",ue,[e(b,{status:"success",title:s.$t("model.agent.success.title"),subtitle:s.$t("model.agent.success.create.subTitle")},null,8,["title","subtitle"]),e(n,{size:16},{default:a(()=>[e(u,{key:"finish",type:"secondary",onClick:o[0]||(o[0]=l=>s.$router.push({name:"ModelAgentList"}))},{default:a(()=>[_(f(s.$t("model.agent.button.finish")),1)]),_:1}),e(u,{key:"again",type:"primary",onClick:c},{default:a(()=>[_(f(s.$t("model.agent.button.again")),1)]),_:1})]),_:1})])}}});const me=C(de,[["__scopeId","data-v-f97cbe3c"]]),pe={class:"container"},ce={class:"wrapper"},ie={name:"ModelAgentCreate"},_e=S({...ie,setup(L){const{loading:y,setLoading:c}=B(!1),s=v(1),o=v({}),b=async()=>{c(!0);try{await ae(o.value),s.value=3,o.value={}}catch{}finally{c(!1)}},u=(n,l)=>{if(typeof n=="number"){s.value=n;return}if(n==="forward"||n==="submit"){if(o.value={...o.value,...l},n==="submit"){b();return}s.value+=1}else n==="backward"&&(s.value-=1)};return(n,l)=>{const t=K,d=W,k=X,m=Y,i=Z,V=x,w=ee;return p(),I("div",pe,[e(k,{class:"container-breadcrumb"},{default:a(()=>[e(d,null,{default:a(()=>[e(t)]),_:1}),e(d,null,{default:a(()=>[_(f(n.$t("menu.agent")),1)]),_:1}),e(d,null,{default:a(()=>[_(f(n.$t("menu.model.agent.create")),1)]),_:1})]),_:1}),e(w,{loading:Q(y),style:{width:"100%"}},{default:a(()=>[e(V,{class:"general-card",bordered:!1},{default:a(()=>[H("div",ce,[e(i,{current:s.value,"onUpdate:current":l[0]||(l[0]=$=>s.value=$),style:{width:"660px"},"line-less":"",class:"steps"},{default:a(()=>[e(m,{description:n.$t("model.agent.subTitle.baseInfo")},{default:a(()=>[_(f(n.$t("model.agent.title.baseInfo")),1)]),_:1},8,["description"]),e(m,{description:n.$t("model.agent.subTitle.advanced")},{default:a(()=>[_(f(n.$t("model.agent.title.advanced")),1)]),_:1},8,["description"]),e(m,{description:n.$t("model.agent.subTitle.create.finish")},{default:a(()=>[_(f(n.$t("model.agent.title.create.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(p(),h(P,null,[s.value===1?(p(),h(ne,{key:0,onChangeStep:u})):s.value===2?(p(),h(re,{key:1,onChangeStep:u})):s.value===3?(p(),h(me,{key:2,onChangeStep:u})):j("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const Re=C(_e,[["__scopeId","data-v-b295e433"]]);export{Re as default};
