import{u as Fe,H as Re,s as Oe,A as Je,k as Ke,B as Qe,_ as Ze}from"./index.9568ffd6.js";/* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{d as he,e as C,B as o,C as d,aH as e,aG as a,u as m,aD as p,aM as s,aL as w,bA as We,bB as Xe,bC as Ye,bD as ea,bE as aa,r as ge,c as oe,w as ta,aJ as J,aI as K,D as L,E as la,n as oa,aZ as P,a_ as ve,aK as na,aF as sa,b1 as ia,b2 as ua,bG as da,bH as ra,bI as ca,bJ as ma,bK as _a,b5 as pa,bL as fa,ab as ba,aU as ga,bi as va,bj as ha,bk as ya,bl as ka,b4 as wa,bM as $a,aT as Ca,bR as Va,bN as Sa,aV as Da,bT as qa}from"./arco.3f46b4ae.js";import{u as ye}from"./loading.37fd256d.js";import{d as za,a as B}from"./common.cfd92899.js";import{a as xa,b as Ia,s as Ua,c as Na,d as La,e as Ga}from"./group.7863a8cb.js";import{c as ne,S as Ha}from"./sortable.esm.078712c4.js";import{q as Aa}from"./model.317ef65e.js";import{q as Ba}from"./model_agent.0b0fc9cc.js";import{M as Ma}from"./models.325b6b89.js";import{Q}from"./quota.42a28822.js";/* empty css                *//* empty css                */import"./chart.2cea905d.js";import"./vue.dbcf9bc3.js";import"./provider.cc2be56c.js";const Pa={style:{margin:"10px 0 30px 10px"}},Ta={key:1},ja={key:1},Ea={key:1},Fa={key:1},Ra={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Oa={key:1},Ja={key:1},Ka={key:2},Qa={key:1},Za={key:1},Wa={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},Xa={key:1},Ya={key:1},et={key:1},at={key:1},tt={key:1},lt={key:1},ot={key:1},nt={key:1},st={key:1},it={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},ut={key:1},dt={key:1},rt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},ct={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},mt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},_t={key:1},pt={key:1},ft={key:1},bt={key:1},gt={name:"GroupDetail"},vt=he({...gt,props:{id:{type:String,default:""}},setup(se){const b=se,{loading:v,setLoading:V}=ye(!0),i=C({});return(async(n={id:b.id})=>{V(!0);try{const{data:k}=await xa(n);i.value=k}catch{}finally{V(!1)}})(),(n,k)=>{const _=We,f=Xe,g=Ye,D=ea,G=aa;return o(),d("div",Pa,[e(G,{column:2,bordered:"","label-style":{padding:"5px 8px 5px 15px"},"value-style":{width:"350px",padding:"5px 8px 5px 15px"}},{default:a(()=>[e(g,{label:n.$t("group.label.name")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Ta,s(i.value.name),1))]),_:1},8,["label"]),e(g,{label:n.$t("group.detail.is_default")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",ja,s(n.$t(`dict.${i.value.is_default||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.discount")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Ea,s(Number((i.value.discount*100).toFixed(2)))+"% ",1))]),_:1},8,["label"]),e(g,{label:n.$t("common.used_quota")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Fa,[e(Q,{"model-value":i.value.used_quota},null,8,["model-value"])]))]),_:1},8,["label"]),e(g,{label:n.$t("common.models"),span:2},{default:a(()=>{var r,c;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Ra,s(((c=(r=i.value)==null?void 0:r.model_names)==null?void 0:c.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.is_public")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Oa,s(n.$t(`dict.public.${i.value.is_public||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("group.label.weight")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):i.value.is_default?(o(),d("span",Ja,s(n.$t("common.highest")),1)):(o(),d("span",Ka,s(i.value.weight||"-"),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.enable_model_agent")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Qa,s(n.$t(`dict.enable.${i.value.is_enable_model_agent||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.lb_strategy")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Za,s(n.$t(`dict.lb_strategy.${i.value.lb_strategy||1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.model_agents"),span:2},{default:a(()=>{var r,c;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Wa,s(((c=(r=i.value)==null?void 0:r.model_agent_names)==null?void 0:c.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.limit_quota")},{default:a(()=>{var r;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Xa,s(n.$t(`dict.${((r=i.value)==null?void 0:r.is_limit_quota)||!1}`)),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.quota")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",Ya,[i.value.is_limit_quota?(o(),p(Q,{key:0,"model-value":i.value.quota},null,8,["model-value"])):(o(),d("span",et,s(n.$t("common.no_limit")),1))]))]),_:1},8,["label"]),e(g,{label:n.$t("group.label.is_enable_forward")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",at,s(n.$t(`dict.enable.${i.value.is_enable_forward||!1}`)),1))]),_:1},8,["label"]),e(g,{label:n.$t("group.label.forward_rule")},{default:a(()=>{var r,c,h,y;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",tt,s((c=(r=i.value)==null?void 0:r.forward_config)!=null&&c.forward_rule?n.$t(`dict.forward_rule.${((y=(h=i.value)==null?void 0:h.forward_config)==null?void 0:y.forward_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.forward_mode")},{default:a(()=>{var r,c,h,y;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",lt,s((c=(r=i.value)==null?void 0:r.forward_config)!=null&&c.forward_mode?n.$t(`dict.forward_mode.${((y=(h=i.value)==null?void 0:h.forward_config)==null?void 0:y.forward_mode)||1}`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.content_length")},{default:a(()=>{var r,c;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",ot,s(((c=(r=i.value)==null?void 0:r.forward_config)==null?void 0:c.content_length)||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("common.used_quota")},{default:a(()=>{var r,c,h,y;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",nt,[(c=(r=i.value)==null?void 0:r.forward_config)!=null&&c.used_quota?(o(),p(Q,{key:0,"model-value":(y=(h=i.value)==null?void 0:h.forward_config)==null?void 0:y.used_quota},null,8,["model-value"])):(o(),d("span",st,"-"))]))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.target_model")},{default:a(()=>{var r,c,h,y,q,z,S,x,T,j,E,F,R;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",it,s(((c=(r=i.value)==null?void 0:r.forward_config)==null?void 0:c.forward_rule)&&String((y=(h=i.value)==null?void 0:h.forward_config)==null?void 0:y.forward_rule)==="1"?((z=(q=i.value)==null?void 0:q.forward_config)==null?void 0:z.forward_mode)&&((x=(S=i.value)==null?void 0:S.forward_config)==null?void 0:x.forward_mode)===1?(j=(T=i.value)==null?void 0:T.forward_config)==null?void 0:j.target_model_name:(R=(F=(E=i.value)==null?void 0:E.forward_config)==null?void 0:F.target_model_names)==null?void 0:R.join(`
`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.match_rule")},{default:a(()=>{var r,c,h,y;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",ut,s((c=(r=i.value)==null?void 0:r.forward_config)!=null&&c.match_rule?n.$t(`dict.match_rule.${((y=(h=i.value)==null?void 0:h.forward_config)==null?void 0:y.match_rule)||1}`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.decision_model")},{default:a(()=>{var r,c;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",dt,s(((c=(r=i.value)==null?void 0:r.forward_config)==null?void 0:c.decision_model_name)||"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.keywords")},{default:a(()=>{var r,c,h,y,q,z,S;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",rt,s(((c=(r=i.value)==null?void 0:r.forward_config)==null?void 0:c.forward_rule)&&String((y=(h=i.value)==null?void 0:h.forward_config)==null?void 0:y.forward_rule)==="2"?(S=(z=(q=i.value)==null?void 0:q.forward_config)==null?void 0:z.keywords)==null?void 0:S.join(`
`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.target_model")},{default:a(()=>{var r,c,h,y,q,z,S;return[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",ct,s(((c=(r=i.value)==null?void 0:r.forward_config)==null?void 0:c.forward_rule)&&String((y=(h=i.value)==null?void 0:h.forward_config)==null?void 0:y.forward_rule)==="2"?(S=(z=(q=i.value)==null?void 0:q.forward_config)==null?void 0:z.target_model_names)==null?void 0:S.join(`
`):"-"),1))]}),_:1},8,["label"]),e(g,{label:n.$t("group.label.remark"),span:2},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",mt,s(i.value.remark||"-"),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.expires_at")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",_t,s(i.value.expires_at||"-"),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.status")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",pt,[i.value.status===1?(o(),p(D,{key:0,color:"green"},{default:a(()=>[w(s(n.$t(`dict.status.${i.value.status}`)),1)]),_:1})):(o(),p(D,{key:1,color:"red"},{default:a(()=>[w(s(n.$t(`dict.status.${i.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(g,{label:n.$t("common.created_at")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",ft,s(i.value.created_at),1))]),_:1},8,["label"]),e(g,{label:n.$t("common.updated_at")},{default:a(()=>[m(v)?(o(),p(f,{key:0,animation:!0},{default:a(()=>[e(_,{rows:1})]),_:1})):(o(),d("span",bt,s(i.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),ht={class:"container"},yt={class:"action-icon"},kt={class:"action-icon"},wt={id:"tableSetting"},$t={style:{"margin-right":"4px",cursor:"move"}},Ct={class:"title"},Vt=["title"],St={key:1},Dt={key:0},qt={key:1},zt={key:0},xt={key:1},It={name:"GroupList"},Ut=he({...It,setup(se){const{t:b}=Fe(),{loading:v,setLoading:V}=ye(!0),i=ge({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),Z=()=>({name:"",models:[],model_agents:[],status:C(),remark:"",expires_at:[]}),n=C([]),k=C(Z()),_=C([]),f=C([]),g=C("medium"),D=C([]),G=C(!0),r=C(),c={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},h=ge({...c}),y=oe(()=>[{name:b("size.mini"),value:"mini"},{name:b("size.small"),value:"small"},{name:b("size.medium"),value:"medium"},{name:b("size.large"),value:"large"}]),q=oe(()=>[{title:b("group.label.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.discount"),dataIndex:"discount",slotName:"discount",align:"center"},{title:b("common.models"),dataIndex:"model_names",slotName:"model_names",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:b("group.label.weight"),dataIndex:"weight",slotName:"weight",align:"center"},{title:b("common.lb_strategy"),dataIndex:"lb_strategy",slotName:"lb_strategy",align:"center"},{title:b("common.public"),dataIndex:"is_public",slotName:"is_public",align:"center",width:65},{title:b("group.label.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:b("common.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:b("common.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:120}]),z=oe(()=>[{label:b("dict.status.1"),value:1},{label:b("dict.status.2"),value:2}]),S=async(l={...c})=>{V(!0);try{const{data:u}=await Ia(l);n.value=u.items,h.current=l.current,h.pageSize=l.pageSize,h.total=u.paging.total}catch{}finally{V(!1),r.value.selectAll(!1)}};S();const x=()=>{S({...c,...k.value})},T=l=>{S({...c,...k.value,current:l})},j=l=>{c.pageSize=l,S({...c,...k.value})},E=()=>{k.value=Z(),x()},F=(l,u)=>{g.value=l},R=(l,u,I)=>{l?_.value.splice(I,0,u):_.value=f.value.filter(H=>H.dataIndex!==u.dataIndex)},ie=(l,u,I,H=!1)=>{const A=H?ne(l):l;return u>-1&&I>-1&&A.splice(u,1,A.splice(I,1,A[u]).pop()),A},ke=l=>{l&&oa(()=>{const u=document.getElementById("tableSetting");new Ha(u,{onEnd(I){const{oldIndex:H,newIndex:A}=I;ie(_.value,H,A),ie(f.value,H,A)}})})};ta(()=>q.value,l=>{_.value=ne(l),_.value.forEach((u,I)=>{u.checked=!0}),f.value=ne(_.value)},{deep:!0,immediate:!0});const ue=C([]);(async()=>{try{const{data:l}=await Aa();ue.value=l.items}catch{}})();const de=C([]);(async()=>{try{const{data:l}=await Ba();de.value=l.items}catch{}})();const we=async l=>{V(!0);try{await Ua(l),P.success(b("success.operate")),x()}catch{}finally{V(!1)}},$e=async l=>{V(!0);try{await Na(l),P.success(b("success.operate")),x()}catch{}finally{V(!1)}},Ce=async l=>{V(!0);try{await La(l),P.success(b("success.operate")),x()}catch{}finally{V(!1)}},Ve=l=>{D.value=l,G.value=!l.length},W=l=>{if(D.value.length===0)P.info(b("placeholder.operation.data"));else{let u=b("placeholder.batch.operation",{count:D.value.length});switch(l.action){case"status":l.value===1?u=b("placeholder.batch.operation.enable",{count:D.value.length}):u=b("placeholder.batch.operation.disable",{count:D.value.length});break;case"delete":u=b("placeholder.batch.operation.delete",{count:D.value.length});break}ve.warning({title:b("modal.warning.title"),titleAlign:"center",content:u,okText:b("button.ok"),cancelText:b("button.cancel"),hideCancel:!1,onOk:()=>{V(!0),l.ids=D.value,Ga(l).then(I=>{V(!1),P.success(b("success.operate")),x(),r.value.selectAll(!1)})}})}},X=C(!1),O=C(),Se=l=>{X.value=!0,O.value=l},De=()=>{X.value=!1},Y=C(!1),re=C(),qe=l=>{Y.value=!0,O.value=l,re.value="group"};return(l,u)=>{const I=Re,H=na,A=sa,ce=ia,M=ua,U=da,me=ra,ee=ca,ze=ma,ae=_a,xe=pa,_e=fa,Ie=ba,N=ga,pe=Oe,fe=va,te=ha,Ue=Je,Ne=ya,Le=ka,Ge=Ke,He=Qe,Ae=wa,Be=$a,be=Ca,Me=Va,Pe=Sa,Te=Da,je=ve,Ee=qa;return o(),d("div",ht,[e(A,{class:"container-breadcrumb"},{default:a(()=>[e(H,null,{default:a(()=>[e(I)]),_:1}),e(H,null,{default:a(()=>[w(s(l.$t("group.menu")),1)]),_:1})]),_:1}),e(Ee,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(ae,null,{default:a(()=>[e(U,{flex:1},{default:a(()=>[e(xe,{model:k.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(ae,{gutter:16},{default:a(()=>[e(U,{span:8},{default:a(()=>[e(M,{field:"name",label:l.$t("group.label.name")},{default:a(()=>[e(ce,{modelValue:k.value.name,"onUpdate:modelValue":u[0]||(u[0]=t=>k.value.name=t),placeholder:l.$t("group.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(U,{span:8},{default:a(()=>[e(M,{field:"models",label:l.$t("common.models")},{default:a(()=>[e(ee,{modelValue:k.value.models,"onUpdate:modelValue":u[1]||(u[1]=t=>k.value.models=t),placeholder:l.$t("common.all"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(o(!0),d(J,null,K(ue.value,t=>(o(),p(me,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(U,{span:8},{default:a(()=>[e(M,{field:"model_agents",label:l.$t("common.model_agents")},{default:a(()=>[e(ee,{modelValue:k.value.model_agents,"onUpdate:modelValue":u[2]||(u[2]=t=>k.value.model_agents=t),placeholder:l.$t("common.all"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(o(!0),d(J,null,K(de.value,t=>(o(),p(me,{key:t.id,value:t.id,label:t.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(U,{span:8},{default:a(()=>[e(M,{field:"remark",label:l.$t("group.label.remark")},{default:a(()=>[e(ce,{modelValue:k.value.remark,"onUpdate:modelValue":u[3]||(u[3]=t=>k.value.remark=t),placeholder:l.$t("group.placeholder.remark"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(U,{span:8},{default:a(()=>[e(M,{field:"status",label:l.$t("common.status")},{default:a(()=>[e(ee,{modelValue:k.value.status,"onUpdate:modelValue":u[4]||(u[4]=t=>k.value.status=t),placeholder:l.$t("common.all"),options:m(z),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(U,{span:8},{default:a(()=>[e(M,{field:"expires_at",label:l.$t("common.expires_at")},{default:a(()=>[e(ze,{modelValue:k.value.expires_at,"onUpdate:modelValue":u[5]||(u[5]=t=>k.value.expires_at=t),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(_e,{style:{height:"84px"},direction:"vertical"}),e(U,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(fe,{direction:"vertical",size:18},{default:a(()=>[e(N,{type:"primary",onClick:x},{icon:a(()=>[e(Ie)]),default:a(()=>[w(" "+s(l.$t("button.search")),1)]),_:1}),e(N,{onClick:E},{icon:a(()=>[e(pe)]),default:a(()=>[w(" "+s(l.$t("button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(_e,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(ae,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(U,{span:12},{default:a(()=>[e(fe,null,{default:a(()=>[e(N,{type:"primary",onClick:u[6]||(u[6]=t=>l.$router.push({name:"GroupCreate"}))},{default:a(()=>[w(s(l.$t("button.create")),1)]),_:1}),e(N,{type:"primary",status:"success",disabled:G.value,title:G.value?l.$t("placeholder.operation.data"):"",onClick:u[7]||(u[7]=t=>W({action:"status",value:1}))},{default:a(()=>[w(s(l.$t("button.enable")),1)]),_:1},8,["disabled","title"]),e(N,{type:"primary",status:"danger",disabled:G.value,title:G.value?l.$t("placeholder.operation.data"):"",onClick:u[8]||(u[8]=t=>W({action:"status",value:2}))},{default:a(()=>[w(s(l.$t("button.disable")),1)]),_:1},8,["disabled","title"]),e(N,{type:"primary",status:"danger",disabled:G.value,title:G.value?l.$t("placeholder.operation.data"):"",onClick:u[9]||(u[9]=t=>W({action:"delete"}))},{default:a(()=>[w(s(l.$t("button.delete")),1)]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(U,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(te,{content:l.$t("action.refresh")},{default:a(()=>[L("div",{class:"action-icon",onClick:x},[e(pe,{size:"18"})])]),_:1},8,["content"]),e(Le,{onSelect:F},{content:a(()=>[(o(!0),d(J,null,K(m(y),t=>(o(),p(Ne,{key:t.value,value:t.value,class:la({active:t.value===g.value})},{default:a(()=>[L("span",null,s(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(te,{content:l.$t("action.density")},{default:a(()=>[L("div",yt,[e(Ue,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(te,{content:l.$t("action.column_setting")},{default:a(()=>[e(Be,{trigger:"click",position:"bl",onPopupVisibleChange:ke},{content:a(()=>[L("div",wt,[(o(!0),d(J,null,K(f.value,(t,$)=>(o(),d("div",{key:t.dataIndex,class:"setting"},[L("div",$t,[e(He)]),L("div",null,[e(Ae,{modelValue:t.checked,"onUpdate:modelValue":le=>t.checked=le,onChange:le=>R(le,t,$)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),L("div",Ct,s(t.title),1)]))),128))])]),default:a(()=>[L("div",kt,[e(Ge,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(Pe,{ref_key:"tableRef",ref:r,"row-key":"id",loading:m(v),pagination:h,columns:_.value,data:n.value,bordered:!1,size:g.value,"row-selection":i,onPageChange:T,onPageSizeChange:j,onSelectionChange:Ve},{name:a(({record:t})=>[t.is_default?(o(),d("span",{key:0,title:l.$t("group.detail.is_default")},[L("b",null,s(t.name),1)],8,Vt)):(o(),d("span",St,s(t.name),1))]),discount:a(({record:t})=>[w(s(Number((t.discount*100).toFixed(2)))+"% ",1)]),model_names:a(({record:t})=>[t.model_names?(o(),d("span",Dt,[e(N,{type:"text",size:"small",onClick:$=>qe(t.id)},{default:a(()=>[w(s(l.$t("button.view")),1)]),_:2},1032,["onClick"])])):(o(),d("span",qt,s("-")))]),model_agent_names:a(({record:t})=>{var $;return[w(s((($=t==null?void 0:t.model_agent_names)==null?void 0:$.join(","))||"-"),1)]}),used_quota:a(({record:t})=>[e(Q,{"model-value":t.used_quota},null,8,["model-value"])]),weight:a(({record:t})=>[t.is_default?(o(),d("span",zt,[L("b",null,s(l.$t("common.highest")),1)])):(o(),d("span",xt,s(t.weight||"-"),1))]),lb_strategy:a(({record:t})=>[w(s(t.is_enable_model_agent?l.$t(`dict.lb_strategy.${t.lb_strategy||1}`):"-"),1)]),is_public:a(({record:t})=>[e(be,{modelValue:t.is_public,"onUpdate:modelValue":$=>t.is_public=$,"checked-value":!0,"unchecked-value":!1,onChange:$=>we({id:t.id,is_public:t.is_public})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),status:a(({record:t})=>[e(be,{modelValue:t.status,"onUpdate:modelValue":$=>t.status=$,"checked-value":1,"unchecked-value":2,onChange:$=>Ce({id:t.id,status:t.status})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),remark:a(({record:t})=>[w(s(t.remark||"-"),1)]),expires_at:a(({rowIndex:t})=>[e(Me,{modelValue:n.value[t].expires_at,"onUpdate:modelValue":$=>n.value[t].expires_at=$,placeholder:l.$t("placeholder.expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":m(za),"show-time":"",shortcuts:[{label:"1",value:()=>m(B)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>m(B)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>m(B)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>m(B)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>m(B)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>m(B)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>m(B)(n.value[t].expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}],onChange:$=>$e({id:n.value[t].id,expires_at:n.value[t].expires_at})},{default:a(()=>[e(N,{style:{width:"150px"}},{default:a(()=>[w(s(n.value[t].expires_at||l.$t("placeholder.expires_at")),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled-date","shortcuts","onChange"])]),operations:a(({record:t})=>[e(N,{type:"text",size:"small",onClick:$=>Se(t.id)},{default:a(()=>[w(s(l.$t("button.detail")),1)]),_:2},1032,["onClick"]),e(N,{type:"text",size:"small",onClick:$=>l.$router.push({name:"GroupUpdate",query:{id:t.id}})},{default:a(()=>[w(s(l.$t("button.update")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(Te,{title:l.$t("group.menu.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:X.value,onCancel:De},{default:a(()=>[e(vt,{id:O.value},null,8,["id"])]),_:1},8,["title","visible"]),e(je,{visible:Y.value,"onUpdate:visible":u[10]||(u[10]=t=>Y.value=t),title:l.$t("common.models"),"modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"1080px","ok-text":l.$t("button.close")},{default:a(()=>[e(Ma,{id:O.value,action:re.value},null,8,["id","action"])]),_:1},8,["visible","title","ok-text"])]),_:1})])}}});const rl=Ze(Ut,[["__scopeId","data-v-26f35f1b"]]);export{rl as default};
