import{_ as fe,u as Ne,J as Pe,s as Me,A as Te,k as Ye,B as He}from"./index.a6aae867.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css              */import{d as ye,e as C,w as ve,bS as he,B as t,C as i,bn as v,aD as u,aG as e,aH as a,u as r,aL as p,aM as s,aE as Re,g as Je,bA as je,bB as Oe,ad as Ge,bC as Ke,bD as ke,bE as Qe,bi as be,bb as We,b6 as Xe,r as me,c as le,aJ as N,aI as P,D as z,E as Ze,n as ea,aK as aa,aF as ta,bF as la,bG as oa,b2 as ua,bH as sa,b1 as na,aS as ia,bT as da,bI as ra,b5 as _a,bJ as ca,ab as ma,aU as pa,bj as fa,bk as ya,bl as va,b4 as ha,bK as ka,bM as ba,aV as ga,bN as wa}from"./arco.cbac690a.js";import{u as ge}from"./loading.b56ef223.js";import{q as $a,a as pe}from"./common.4090c8c2.js";import{V as Va,f as Fa,g as Ca,h as Da}from"./styles.039c14e1.js";import{f as Ba}from"./app.b568a994.js";import{c as oe,S as Ea}from"./sortable.esm.59243d4c.js";import{q as Ia}from"./model.ba758277.js";import{f as Aa}from"./agent.cb12235a.js";/* empty css               *//* empty css                *//* empty css                */import{u as xa}from"./vue.4014b72a.js";import"./chart.e521dee8.js";const Sa={style:{margin:"10px 0 30px 10px"}},qa={key:1},za={key:1},Ua={key:1},La={key:1},Na={key:1},Pa={key:1},Ma={key:1},Ta={key:1},Ya={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ha={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ra={key:1},Ja={key:1},ja={key:1},Oa={key:1},Ga={key:1},Ka={key:1},Qa={key:1},Wa={key:1},Xa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Za={key:1},et={key:1},at={key:1},tt={key:1},lt={key:1},ot={key:1},ut={key:1},st={key:1},nt={key:1},it={key:1},dt={key:1},rt={key:1},_t={key:1},ct={key:1},mt={key:1},pt={key:1},ft={key:1},yt={key:1},vt={key:1},ht={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},kt={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},bt={key:1},gt={key:1},wt={key:1},$t={key:1},Vt={key:1},Ft={key:1},Ct={key:1},Dt={key:1},Bt={key:1},Et={key:1},It={key:1},At={key:1},xt={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},St={key:1},qt={name:"AudioDetail"},zt=ye({...qt,props:{id:{type:String,default:""}},setup(ue){const G=ue,{loading:c,setLoading:g}=ge(!0),l=C({}),{copy:H,copied:M}=xa(),{proxy:R}=Je();(async(h={id:G.id})=>{g(!0);try{const{data:w}=await Fa(h);l.value=w}catch{}finally{g(!1)}})();const E=h=>{H(h)};ve(M,()=>{M.value&&R.$message.success("\u590D\u5236\u6210\u529F")});const S=async(h,w)=>{const{data:d}=await Ca({id:h,field:w});H(d.value)};return(h,w)=>{const d=je,m=Oe,q=Ge,_=Ke,k=ke,U=Qe,K=be,Q=We,W=Xe,T=he("permission");return t(),i("div",Sa,[v((t(),u(U,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(_,{label:"Trace ID",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",qa,[p(s(l.value.trace_id)+" ",1),a(q,{class:"copy-btn",onClick:w[0]||(w[0]=D=>E(l.value.trace_id))})]))]),_:1}),a(_,{label:"Host",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",za,s(l.value.host||"-"),1))]),_:1}),a(_,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ua,[p(s(l.value.creator)+" ",1),a(q,{class:"copy-btn",onClick:w[1]||(w[1]=D=>S(l.value.id,"creator"))})]))]),_:1}),a(_,{label:"\u7528\u6237ID"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",La,s(l.value.user_id||"-"),1))]),_:1}),a(_,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Na,s(l.value.app_id||"-"),1))]),_:1}),a(_,{label:"\u63D0\u4F9B\u5546"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Pa,s(l.value.provider_name),1))]),_:1}),a(_,{label:"\u6A21\u578B"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ma,s(l.value.model||"-"),1))]),_:1}),a(_,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ta,s(h.$t(`dict.model_type.${l.value.model_type}`)),1))]),_:1}),a(_,{label:"\u63D0\u95EE",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ya,s(l.value.input||"-"),1))]),_:1}),a(_,{label:"\u56DE\u7B54"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ha,s(l.value.text||"-"),1))]),_:1}),a(_,{label:"\u5206\u7EC4\u540D\u79F0"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ra,s(l.value.spend.group_name||"-"),1))]),_:1}),a(_,{label:"\u5206\u7EC4\u6298\u6263",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ja,s(l.value.spend.group_discount>0?Number((l.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1}),a(_,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",ja,s(h.$t(`model.dict.billing_methods.${l.value.spend.billing_methods}`)),1))]),_:1}),a(_,{label:"\u82B1\u8D39"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Oa,s(l.value.spend.total_spend_tokens?l.value.spend.total_spend_tokens:l.value.status===1?0:"-"),1))]),_:1}),a(_,{label:"\u603B\u8017\u65F6"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ga,[l.value.total_time>18e4?(t(),u(k,{key:0,color:"red"},{default:e(()=>[p(s(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>12e4?(t(),u(k,{key:1,color:"orange"},{default:e(()=>[p(s(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),u(k,{key:2,color:"gold"},{default:e(()=>[p(s(l.value.total_time)+" ms ",1)]),_:1})):(t(),u(k,{key:3,color:"green"},{default:e(()=>[p(s(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(_,{label:"\u7ED3\u679C"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ka,[l.value.status===1?(t(),u(k,{key:0,color:"green"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),u(k,{key:1,color:"gold"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),u(k,{key:2,color:"orange"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),u(k,{key:3,color:"red"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(_,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Qa,s(l.value.client_ip||"-"),1))]),_:1}),a(_,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Wa,s(l.value.req_time||"-"),1))]),_:1}),a(_,{label:"\u9519\u8BEF\u4FE1\u606F"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Xa,s(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[T,["reseller","user"]]]),v((t(),u(U,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(_,{label:"Trace ID",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Za,[p(s(l.value.trace_id)+" ",1),a(q,{class:"copy-btn",onClick:w[2]||(w[2]=D=>E(l.value.trace_id))})]))]),_:1}),a(_,{label:"Host"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",et,s(l.value.host||"-"),1))]),_:1}),a(_,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",at,[p(s(l.value.is_smart_match?"-":l.value.creator)+" ",1),l.value.is_smart_match?Re("",!0):(t(),u(q,{key:0,class:"copy-btn",onClick:w[3]||(w[3]=D=>S(l.value.id,"creator"))}))]))]),_:1}),a(_,{label:"\u7528\u6237ID"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",tt,s(l.value.is_smart_match?"-":l.value.user_id||"-"),1))]),_:1}),a(_,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",lt,s(l.value.is_smart_match?"-":l.value.app_id||"-"),1))]),_:1}),a(_,{label:"\u63D0\u4F9B\u5546"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",ot,s(l.value.provider_name),1))]),_:1}),a(_,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",ut,s(h.$t(`dict.model_type.${l.value.model_type}`)),1))]),_:1}),a(_,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",st,s(l.value.model_name||"-"),1))]),_:1}),a(_,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",nt,s(l.value.model||"-"),1))]),_:1}),a(_,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",it,s(l.value.real_model_name),1))]),_:1}),a(_,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",dt,s(l.value.real_model),1))]),_:1}),a(_,{label:"\u542F\u7528\u540E\u5907"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",rt,s(h.$t(`chat.dict.is_enable_fallback.${l.value.is_enable_fallback||!1}`)),1))]),_:1}),a(_,{label:"\u540E\u5907\u4EE3\u7406"},{default:e(()=>{var D,B;return[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",_t,s(((B=(D=l.value)==null?void 0:D.fallback_config)==null?void 0:B.model_agent_name)||"-"),1))]}),_:1}),a(_,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var D,B;return[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",ct,s(((B=(D=l.value)==null?void 0:D.fallback_config)==null?void 0:B.model)||"-"),1))]}),_:1}),a(_,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",mt,s(h.$t(`chat.dict.is_enable_forward.${l.value.is_enable_forward||!1}`)),1))]),_:1}),a(_,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",pt,s(l.value.is_enable_forward?h.$t(`chat.dict.forward_rule.${l.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(_,{label:"\u542F\u7528\u4EE3\u7406",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",ft,s(h.$t(`chat.dict.is_enable_model_agent.${l.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(_,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var D,B;return[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",yt,s(((B=(D=l.value)==null?void 0:D.model_agent)==null?void 0:B.name)||"-"),1))]}),_:1}),a(_,{label:"\u5BC6\u94A5"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",vt,[p(s(l.value.key?l.value.key.length>0?l.value.key.substr(0,l.value.key.length/2>10?10:l.value.key.length/2)+"************************************"+l.value.key.substr(-(l.value.key.length/2>5?5:l.value.key.length/2)):l.value.key:"-")+" ",1),a(q,{class:"copy-btn",onClick:w[4]||(w[4]=D=>S(l.value.id,"key"))})]))]),_:1}),a(_,{label:"\u63D0\u95EE",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",ht,s(l.value.input||"-"),1))]),_:1}),a(_,{label:"\u56DE\u7B54"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",kt,s(l.value.text||"-"),1))]),_:1}),a(_,{label:"\u5206\u7EC4\u540D\u79F0",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",bt,s(l.value.spend.group_name||"-"),1))]),_:1}),a(_,{label:"\u5206\u7EC4\u6298\u6263"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",gt,s(l.value.spend.group_discount>0?Number((l.value.spend.group_discount*100).toFixed(2))+"%":"-"),1))]),_:1}),a(_,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",wt,s(h.$t(`model.dict.billing_methods.${l.value.spend.billing_methods}`)),1))]),_:1}),a(_,{label:"\u82B1\u8D39"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",$t,s(l.value.spend.total_spend_tokens?l.value.spend.total_spend_tokens:l.value.status===1?0:"-"),1))]),_:1}),a(_,{label:"\u603B\u8017\u65F6"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Vt,[l.value.total_time>12e4?(t(),u(k,{key:0,color:"red"},{default:e(()=>[p(s(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),u(k,{key:1,color:"orange"},{default:e(()=>[p(s(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>6e4?(t(),u(k,{key:2,color:"gold"},{default:e(()=>[p(s(l.value.total_time)+" ms ",1)]),_:1})):(t(),u(k,{key:3,color:"green"},{default:e(()=>[p(s(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(_,{label:"\u5185\u8017"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ft,[l.value.internal_time>500?(t(),u(k,{key:0,color:"red"},{default:e(()=>[p(s(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>300?(t(),u(k,{key:1,color:"orange"},{default:e(()=>[p(s(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>100?(t(),u(k,{key:2,color:"gold"},{default:e(()=>[p(s(l.value.internal_time)+" ms ",1)]),_:1})):(t(),u(k,{key:3,color:"green"},{default:e(()=>[p(s(l.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(_,{label:"\u7ED3\u679C"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",Ct,[l.value.status===1?(t(),u(k,{key:0,color:"green"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),u(k,{key:1,color:"gold"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),u(k,{key:2,color:"orange"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),u(k,{key:3,color:"red"},{default:e(()=>[p(s(h.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(_,{label:"\u672C\u5730IP"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Dt,s(l.value.local_ip||"-"),1))]),_:1}),a(_,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Bt,s(l.value.client_ip||"-"),1))]),_:1}),a(_,{label:"\u8FDC\u7A0BIP"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Et,s(l.value.remote_ip||"-"),1))]),_:1}),a(_,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",It,s(l.value.req_time||"-"),1))]),_:1}),a(_,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",At,s(l.value.created_at||"-"),1))]),_:1}),a(_,{label:"\u9519\u8BEF\u4FE1\u606F"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:1})]),_:1})):(t(),i("span",xt,s(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[T,["admin"]]]),v((t(),u(U,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(_,{span:2},{default:e(()=>[a(W,{type:"card"},{default:e(()=>[a(Q,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[r(c)?(t(),u(m,{key:0,animation:!0},{default:e(()=>[a(d,{rows:3})]),_:1})):(t(),u(K,{key:1},{default:e(()=>[l.value.model_agent?(t(),u(r(Va),{key:0,data:l.value.model_agent,"show-length":!0},null,8,["data"])):(t(),i("span",St,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[T,["admin"]]])])}}});const Ut=fe(zt,[["__scopeId","data-v-6ba6df8f"]]),Lt={class:"container"},Nt={class:"action-icon"},Pt={class:"action-icon"},Mt={id:"tableSetting"},Tt={style:{"margin-right":"4px",cursor:"move"}},Yt={class:"title"},Ht={name:"AudioList"},Rt=ye({...Ht,setup(ue){const{loading:G,setLoading:c}=ge(!0),{t:g}=Ne(),l=localStorage.getItem("userRole"),H=me({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),M=()=>({app_id:C(),trace_id:C(),user_id:C(),key:"",models:[],model_agents:[],total_time:C(),status:C(),req_time:[pe().format("YYYY-MM-DD 00:00:00"),pe().format("YYYY-MM-DD 23:59:59")]}),R=C([]),y=C(M()),E=C([]),S=C([]),h=C("medium"),w={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},d=me({...w}),m=le(()=>[{name:g("size.mini"),value:"mini"},{name:g("size.small"),value:"small"},{name:g("size.medium"),value:"medium"},{name:g("size.large"),value:"large"}]),q=le(()=>[{title:g(l==="reseller"||l==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:l==="reseller"||l==="admin"?"user_id":"app_id",slotName:l==="reseller"||l==="admin"?"user_id":"app_id",align:"center",width:75},{title:g("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center"},{title:g("chat.columns.characters"),dataIndex:"characters",slotName:"characters",align:"center",ellipsis:!0,tooltip:!0},{title:g("chat.columns.minute"),dataIndex:"minute",slotName:"minute",align:"center"},{title:g("chat.columns.total_price"),dataIndex:"total_tokens",slotName:"total_tokens",align:"center"},{title:g("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:g("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:g("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:g("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:g("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);(l==="reseller"||l==="user")&&q.value.splice(6,1);const _=le(()=>[{label:g("chat.dict.status.1"),value:1},{label:g("chat.dict.status.2"),value:2},{label:g("chat.dict.status.-1"),value:-1}]);l==="admin"&&_.value.push({label:g("chat.dict.status.3"),value:3},{label:g("chat.dict.status.-100"),value:-100});const k=async(n={...w,...y.value})=>{c(!0);try{const{data:f}=await Da(n);R.value=f.items,d.current=n.current,d.pageSize=n.pageSize,d.total=f.paging.total}catch{}finally{c(!1)}};k();const U=()=>{k({...w,...y.value})},K=n=>{k({...w,...y.value,current:n})},Q=n=>{w.pageSize=n,k({...w,...y.value})},W=()=>{y.value=M(),U()},T=(n,f)=>{h.value=n},D=(n,f,A)=>{n?E.value.splice(A,0,f):E.value=S.value.filter(I=>I.dataIndex!==f.dataIndex)},B=(n,f,A,I=!1)=>{const x=I?oe(n):n;return f>-1&&A>-1&&x.splice(f,1,x.splice(A,1,x[f]).pop()),x},we=n=>{n&&ea(()=>{const f=document.getElementById("tableSetting");new Ea(f,{onEnd(A){const{oldIndex:I,newIndex:x}=A;B(E.value,I,x),B(S.value,I,x)}})})};ve(()=>q.value,n=>{E.value=oe(n),E.value.forEach((f,A)=>{f.checked=!0}),S.value=oe(E.value)},{deep:!0,immediate:!0});const se=C([]);l==="user"&&(async()=>{try{const{data:n}=await Ba();se.value=n.items}catch{}})();const X=C([]);(async()=>{try{const{data:n}=await Ia();X.value=n.items}catch{}})();const ne=C([]);l==="admin"&&(async()=>{try{const{data:n}=await Aa();ne.value=n.items}catch{}})();const Z=C(!1),ie=C(),$e=n=>{Z.value=!0,ie.value=n},Ve=()=>{Z.value=!1};return(n,f)=>{const A=Pe,I=aa,x=ta,J=la,L=oa,F=ua,$=sa,Y=na,j=ia,de=da,O=ra,Fe=_a,re=ca,Ce=ma,ee=pa,_e=Me,De=be,ae=fa,Be=Te,Ee=ya,Ie=va,Ae=Ye,xe=He,Se=ha,qe=ka,V=ke,ze=ba,Ue=ga,Le=wa,b=he("permission");return t(),i("div",Lt,[a(x,{class:"container-breadcrumb"},{default:e(()=>[a(I,null,{default:e(()=>[a(A)]),_:1}),a(I,null,{default:e(()=>[p(s(n.$t("menu.audio")),1)]),_:1}),a(I,null,{default:e(()=>[p(s(n.$t("menu.audio.list")),1)]),_:1})]),_:1}),a(Le,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(O,null,{default:e(()=>[a($,{flex:1},{default:e(()=>[a(Fe,{model:y.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[v((t(),u(O,{gutter:16},{default:e(()=>[v((t(),u($,{span:8},{default:e(()=>[a(F,{field:"app_id",label:n.$t("chat.form.app_id")},{default:e(()=>[a(L,{modelValue:y.value.app_id,"onUpdate:modelValue":f[0]||(f[0]=o=>y.value.app_id=o),placeholder:n.$t("chat.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),i(N,null,P(se.value,o=>(t(),u(J,{key:o.app_id,value:o.app_id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[b,["user"]]]),v((t(),u($,{span:8},{default:e(()=>[a(F,{field:"trace_id",label:n.$t("chat.form.user.trace_id")},{default:e(()=>[a(Y,{modelValue:y.value.trace_id,"onUpdate:modelValue":f[1]||(f[1]=o=>y.value.trace_id=o),placeholder:n.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[b,["reseller"]]]),v((t(),u($,{span:8},{default:e(()=>[a(F,{field:"user_id",label:n.$t("chat.form.reseller.user_id")},{default:e(()=>[a(j,{modelValue:y.value.user_id,"onUpdate:modelValue":f[2]||(f[2]=o=>y.value.user_id=o),placeholder:n.$t("chat.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[b,["reseller"]]]),v((t(),u($,{span:8},{default:e(()=>[a(F,{field:"key",label:n.$t("chat.form.key")},{default:e(()=>[a(Y,{modelValue:y.value.key,"onUpdate:modelValue":f[3]||(f[3]=o=>y.value.key=o),placeholder:n.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[b,["user"]]]),v((t(),u($,{span:8},{default:e(()=>[a(F,{field:"trace_id",label:n.$t("chat.form.user.trace_id")},{default:e(()=>[a(Y,{modelValue:y.value.trace_id,"onUpdate:modelValue":f[4]||(f[4]=o=>y.value.trace_id=o),placeholder:n.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[b,["user"]]]),v((t(),u($,{span:8},{default:e(()=>[a(F,{field:"total_time",label:n.$t("chat.form.total_time")},{default:e(()=>[a(j,{modelValue:y.value.total_time,"onUpdate:modelValue":f[5]||(f[5]=o=>y.value.total_time=o),placeholder:n.$t("chat.form.total_time.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[b,["reseller"]]]),a($,{span:8},{default:e(()=>[a(F,{field:"models",label:n.$t("chat.form.models")},{default:e(()=>[a(L,{modelValue:y.value.models,"onUpdate:modelValue":f[6]||(f[6]=o=>y.value.models=o),placeholder:n.$t("chat.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),i(N,null,P(X.value,o=>(t(),u(J,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(F,{field:"status",label:n.$t("chat.form.status")},{default:e(()=>[a(L,{modelValue:y.value.status,"onUpdate:modelValue":f[7]||(f[7]=o=>y.value.status=o),placeholder:n.$t("chat.form.selectDefault"),options:r(_),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(F,{field:"req_time",label:n.$t("chat.form.req_time")},{default:e(()=>[a(de,{modelValue:y.value.req_time,"onUpdate:modelValue":f[8]||(f[8]=o=>y.value.req_time=o),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[b,["reseller","user"]]]),v((t(),u(O,{gutter:16},{default:e(()=>[a($,{span:5},{default:e(()=>[a(F,{field:"trace_id",label:n.$t("chat.form.trace_id"),"label-col-props":{span:6}},{default:e(()=>[a(Y,{modelValue:y.value.trace_id,"onUpdate:modelValue":f[9]||(f[9]=o=>y.value.trace_id=o),placeholder:n.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:6},{default:e(()=>[a(F,{field:"models",label:n.$t("chat.form.models"),"label-col-props":{span:5}},{default:e(()=>[a(L,{modelValue:y.value.models,"onUpdate:modelValue":f[10]||(f[10]=o=>y.value.models=o),placeholder:n.$t("chat.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),i(N,null,P(X.value,o=>(t(),u(J,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:5},{default:e(()=>[a(F,{field:"key",label:n.$t("chat.form.key"),"label-col-props":{span:6}},{default:e(()=>[a(Y,{modelValue:y.value.key,"onUpdate:modelValue":f[11]||(f[11]=o=>y.value.key=o),placeholder:n.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(F,{field:"total_time",label:n.$t("chat.form.total_time")},{default:e(()=>[a(j,{modelValue:y.value.total_time,"onUpdate:modelValue":f[12]||(f[12]=o=>y.value.total_time=o),placeholder:n.$t("chat.form.total_time.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:5},{default:e(()=>[a(F,{field:"user_id",label:n.$t("chat.form.user_id"),"label-col-props":{span:6}},{default:e(()=>[a(j,{modelValue:y.value.user_id,"onUpdate:modelValue":f[13]||(f[13]=o=>y.value.user_id=o),placeholder:n.$t("chat.form.user_id.placeholder"),precision:0,min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:6},{default:e(()=>[a(F,{field:"model_agents",label:n.$t("key.form.modelAgents"),"label-col-props":{span:5}},{default:e(()=>[a(L,{modelValue:y.value.model_agents,"onUpdate:modelValue":f[14]||(f[14]=o=>y.value.model_agents=o),placeholder:n.$t("key.form.selectDefault"),"max-tag-count":1,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),i(N,null,P(ne.value,o=>(t(),u(J,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:5},{default:e(()=>[a(F,{field:"status",label:n.$t("chat.form.status"),"label-col-props":{span:6}},{default:e(()=>[a(L,{modelValue:y.value.status,"onUpdate:modelValue":f[15]||(f[15]=o=>y.value.status=o),placeholder:n.$t("chat.form.selectDefault"),options:r(_),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(F,{field:"req_time",label:n.$t("chat.form.req_time")},{default:e(()=>[a(de,{modelValue:y.value.req_time,"onUpdate:modelValue":f[16]||(f[16]=o=>y.value.req_time=o),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})),[[b,["admin"]]])]),_:1},8,["model"])]),_:1}),a(re,{style:{height:"84px"},direction:"vertical"}),a($,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(De,{direction:"vertical",size:18},{default:e(()=>[a(ee,{type:"primary",onClick:U},{icon:e(()=>[a(Ce)]),default:e(()=>[p(" "+s(n.$t("chat.form.search")),1)]),_:1}),a(ee,{onClick:W},{icon:e(()=>[a(_e)]),default:e(()=>[p(" "+s(n.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(re,{style:{"margin-top":"0"}}),a(O,{style:{"margin-bottom":"16px"}},{default:e(()=>[a($,{span:24,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(ae,{content:n.$t("actions.refresh")},{default:e(()=>[z("div",{class:"action-icon",onClick:U},[a(_e,{size:"18"})])]),_:1},8,["content"]),a(Ie,{onSelect:T},{content:e(()=>[(t(!0),i(N,null,P(r(m),o=>(t(),u(Ee,{key:o.value,value:o.value,class:Ze({active:o.value===h.value})},{default:e(()=>[z("span",null,s(o.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(ae,{content:n.$t("actions.density")},{default:e(()=>[z("div",Nt,[a(Be,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(ae,{content:n.$t("actions.column_setting")},{default:e(()=>[a(qe,{trigger:"click",position:"bl",onPopupVisibleChange:we},{content:e(()=>[z("div",Mt,[(t(!0),i(N,null,P(S.value,(o,ce)=>(t(),i("div",{key:o.dataIndex,class:"setting"},[z("div",Tt,[a(xe)]),z("div",null,[a(Se,{modelValue:o.checked,"onUpdate:modelValue":te=>o.checked=te,onChange:te=>D(te,o,ce)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),z("div",Yt,s(o.title==="#"?"\u5E8F\u5217\u53F7":o.title),1)]))),128))])]),default:e(()=>[z("div",Pt,[a(Ae,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(ze,{"row-key":"id",loading:r(G),pagination:d,columns:E.value,data:R.value,bordered:!1,size:h.value,"row-selection":H,onPageChange:K,onPageSizeChange:Q},{user_id:e(({record:o})=>[p(s(o.is_smart_match?"-":o.user_id),1)]),characters:e(({record:o})=>[p(s(o.characters||"-"),1)]),minute:e(({record:o})=>[p(s(o.minute||"-"),1)]),total_tokens:e(({record:o})=>[p(s(o.total_tokens?`$${r($a)(o.total_tokens)}`:o.status===1&&o.billing_method===2?0:"-"),1)]),total_time:e(({record:o})=>[o.total_time>18e4?v((t(),u(V,{key:0,color:"red"},{default:e(()=>[p(s(o.total_time),1)]),_:2},1024)),[[b,["reseller","user"]]]):o.total_time>12e4?v((t(),u(V,{key:1,color:"orange"},{default:e(()=>[p(s(o.total_time),1)]),_:2},1024)),[[b,["reseller","user"]]]):o.total_time>9e4?v((t(),u(V,{key:2,color:"gold"},{default:e(()=>[p(s(o.total_time),1)]),_:2},1024)),[[b,["reseller","user"]]]):v((t(),u(V,{key:3,color:"green"},{default:e(()=>[p(s(o.total_time||"-"),1)]),_:2},1024)),[[b,["reseller","user"]]]),o.total_time>12e4?v((t(),u(V,{key:4,color:"red"},{default:e(()=>[p(s(o.total_time),1)]),_:2},1024)),[[b,["admin"]]]):o.total_time>9e4?v((t(),u(V,{key:5,color:"orange"},{default:e(()=>[p(s(o.total_time),1)]),_:2},1024)),[[b,["admin"]]]):o.total_time>6e4?v((t(),u(V,{key:6,color:"gold"},{default:e(()=>[p(s(o.total_time),1)]),_:2},1024)),[[b,["admin"]]]):v((t(),u(V,{key:7,color:"green"},{default:e(()=>[p(s(o.total_time||"-"),1)]),_:2},1024)),[[b,["admin"]]])]),internal_time:e(({record:o})=>[o.internal_time>1e3?v((t(),u(V,{key:0,color:"red"},{default:e(()=>[p(s(o.internal_time),1)]),_:2},1024)),[[b,["reseller","user"]]]):o.internal_time>500?v((t(),u(V,{key:1,color:"orange"},{default:e(()=>[p(s(o.internal_time),1)]),_:2},1024)),[[b,["reseller","user"]]]):o.internal_time>300?v((t(),u(V,{key:2,color:"gold"},{default:e(()=>[p(s(o.internal_time),1)]),_:2},1024)),[[b,["reseller","user"]]]):v((t(),u(V,{key:3,color:"green"},{default:e(()=>[p(s(o.internal_time||"-"),1)]),_:2},1024)),[[b,["reseller","user"]]]),o.internal_time>500?v((t(),u(V,{key:4,color:"red"},{default:e(()=>[p(s(o.internal_time),1)]),_:2},1024)),[[b,["admin"]]]):o.internal_time>300?v((t(),u(V,{key:5,color:"orange"},{default:e(()=>[p(s(o.internal_time),1)]),_:2},1024)),[[b,["admin"]]]):o.internal_time>100?v((t(),u(V,{key:6,color:"gold"},{default:e(()=>[p(s(o.internal_time),1)]),_:2},1024)),[[b,["admin"]]]):v((t(),u(V,{key:7,color:"green"},{default:e(()=>[p(s(o.internal_time||"-"),1)]),_:2},1024)),[[b,["admin"]]])]),status:e(({record:o})=>[o.status===-1?(t(),u(V,{key:0,color:"red"},{default:e(()=>[p(s(n.$t(`chat.dict.status.${o.status}`)),1)]),_:2},1024)):o.status===2?(t(),u(V,{key:1,color:"gold"},{default:e(()=>[p(s(n.$t(`chat.dict.status.${o.status}`)),1)]),_:2},1024)):o.status===3?(t(),u(V,{key:2,color:"orange"},{default:e(()=>[p(s(n.$t(`chat.dict.status.${o.status}`)),1)]),_:2},1024)):(t(),u(V,{key:3,color:"green"},{default:e(()=>[p(s(n.$t(`chat.dict.status.${o.status}`)),1)]),_:2},1024))]),operations:e(({record:o})=>[a(ee,{type:"text",size:"small",onClick:ce=>$e(o.id)},{default:e(()=>[p(s(n.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(Ue,{title:n.$t("menu.audio.detail"),width:700,footer:!1,visible:Z.value,"unmount-on-close":"","render-to-body":"",onCancel:Ve},{default:e(()=>[a(Ut,{id:ie.value},null,8,["id"])]),_:1},8,["title","visible"])]),_:1})])}}});const Vl=fe(Rt,[["__scopeId","data-v-f1b8a203"]]);export{Vl as default};
